
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/favicon/favicon-32x32.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>Print Site - Публичная документация CodeScoring</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.76a95c52.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-общая-информация" class="md-skip">
          Перейти к содержанию
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Верхний колонтитул">
    <a href=".." title="Публичная документация CodeScoring" class="md-header__button md-logo" aria-label="Публичная документация CodeScoring" data-md-component="logo">
      
  <img src="../assets/codescoring_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Публичная документация CodeScoring
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Выберите язык">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../osa/osa-policies/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../osa/osa-policies.en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Поиск">
        
        <button type="reset" class="md-search__icon md-icon" title="Очистить" aria-label="Очистить" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Инициализация поиска
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Навигация" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Публичная документация CodeScoring" class="md-nav__button md-logo" aria-label="Публичная документация CodeScoring" data-md-component="logo">
      
  <img src="../assets/codescoring_logo.png" alt="logo">

    </a>
    Публичная документация CodeScoring
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href=".." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Общая информация
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Общая информация
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functionality/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Функциональные характеристики
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration-stages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Этапы интеграции
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supported-package-managers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Поддержка пакетных менеджеров
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Установка и эксплуатация on-premise
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Установка и эксплуатация on-premise
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/server-requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Аппаратные требования
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Установка системы
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/installation-in-k8s/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation in Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Обновление системы
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Резервное копирование
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Работа через прокси
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/self-signed-ssl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Самоподписанные SSL сертификаты
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/analysis-ignore-paths/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Пути анализа и исключения
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Диагностика неполадок
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Начало работы с on-premise
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Начало работы с on-premise
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/activation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ввод ключа активации
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/proprietors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Создание владельцев
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/vcs-git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Подключение системы контроля версий
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/repo-managers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Подключение менеджеров репозиториев
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Управление проектами
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/policies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Настройка политик
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/launch-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Запуск анализа
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/registries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Работа с Docker-образами
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Управление учетными записями
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/ldap-settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Работа с LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/graphs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Работа с визуализацией графов зависимостей
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Настройка уведомлений
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/audit-log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Работа с аудит-логом
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Настройка метрик
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Работа с API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../osa/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Работа с CodeScoring OSA
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Работа с CodeScoring OSA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/nexus_osa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nexus OSA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/jfrog_osa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JFrog OSA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/osa-policies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Настройка политик OSA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Работа с компонентами OSA на инсталляции
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../agent/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Работа с консольным агентом
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Работа с консольным агентом
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Настройка через конфигурационный файл
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Команда сканирования
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-dir/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Сканирование директории
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-archive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Сканирование архивов
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Сканирование Docker образов
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/launch-docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Запуск с помощью Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/gitlab-ci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Добавление в Gitlab CI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/jenkins-pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Добавление в Jenkins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/save-results/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Сохранение результатов сканирования
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/resolve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Разрешение зависимостей в окружении сборки
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-общая-информация" class="md-nav__link">
    <span class="md-ellipsis">
      I. Общая информация
    </span>
  </a>
  
    <nav class="md-nav" aria-label="I. Общая информация">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#index" class="md-nav__link">
    <span class="md-ellipsis">
      1. Начало
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functionality" class="md-nav__link">
    <span class="md-ellipsis">
      2. Функциональные характеристики
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-stages" class="md-nav__link">
    <span class="md-ellipsis">
      3. Этапы интеграции
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-package-managers" class="md-nav__link">
    <span class="md-ellipsis">
      4. Поддержка пакетных менеджеров
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    <span class="md-ellipsis">
      5. Changelog
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-установка-и-эксплуатация-on-premise" class="md-nav__link">
    <span class="md-ellipsis">
      II. Установка и эксплуатация on-premise
    </span>
  </a>
  
    <nav class="md-nav" aria-label="II. Установка и эксплуатация on-premise">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-server-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      6. Аппаратные требования
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-installation" class="md-nav__link">
    <span class="md-ellipsis">
      7. Установка системы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-installation-in-k8s" class="md-nav__link">
    <span class="md-ellipsis">
      8. Installation in Kubernetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-update" class="md-nav__link">
    <span class="md-ellipsis">
      9. Обновление системы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-backup" class="md-nav__link">
    <span class="md-ellipsis">
      10. Резервное копирование
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      11. Работа через прокси
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-self-signed-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      12. Самоподписанные SSL сертификаты
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-analysis-ignore-paths" class="md-nav__link">
    <span class="md-ellipsis">
      13. Пути анализа и исключения
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      14. Диагностика неполадок
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-начало-работы-с-on-premise" class="md-nav__link">
    <span class="md-ellipsis">
      III. Начало работы с on-premise
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III. Начало работы с on-premise">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-activation" class="md-nav__link">
    <span class="md-ellipsis">
      15. Ввод ключа активации
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-proprietors" class="md-nav__link">
    <span class="md-ellipsis">
      16. Создание владельцев
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-vcs-git" class="md-nav__link">
    <span class="md-ellipsis">
      17. Подключение системы контроля версий
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-repo-managers" class="md-nav__link">
    <span class="md-ellipsis">
      18. Подключение менеджеров репозиториев
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-projects" class="md-nav__link">
    <span class="md-ellipsis">
      19. Управление проектами
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-policies" class="md-nav__link">
    <span class="md-ellipsis">
      20. Настройка политик
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-launch-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      21. Запуск анализа
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-registries" class="md-nav__link">
    <span class="md-ellipsis">
      22. Работа с Docker-образами
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-users" class="md-nav__link">
    <span class="md-ellipsis">
      23. Управление учетными записями
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-ldap-settings" class="md-nav__link">
    <span class="md-ellipsis">
      24. Работа с LDAP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-graphs" class="md-nav__link">
    <span class="md-ellipsis">
      25. Работа с визуализацией графов зависимостей
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      26. Настройка уведомлений
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-audit-log" class="md-nav__link">
    <span class="md-ellipsis">
      27. Работа с аудит-логом
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      28. Настройка метрик
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-api" class="md-nav__link">
    <span class="md-ellipsis">
      29. Работа с API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-работа-с-codescoring-osa" class="md-nav__link">
    <span class="md-ellipsis">
      IV. Работа с CodeScoring OSA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IV. Работа с CodeScoring OSA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osa" class="md-nav__link">
    <span class="md-ellipsis">
      30. Общее
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-nexus_osa" class="md-nav__link">
    <span class="md-ellipsis">
      31. Nexus OSA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-jfrog_osa" class="md-nav__link">
    <span class="md-ellipsis">
      32. JFrog OSA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-osa-policies" class="md-nav__link">
    <span class="md-ellipsis">
      33. Настройка политик OSA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-components" class="md-nav__link">
    <span class="md-ellipsis">
      34. Работа с компонентами OSA на инсталляции
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-работа-с-консольным-агентом" class="md-nav__link">
    <span class="md-ellipsis">
      V. Работа с консольным агентом
    </span>
  </a>
  
    <nav class="md-nav" aria-label="V. Работа с консольным агентом">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent" class="md-nav__link">
    <span class="md-ellipsis">
      35. Общее
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-config" class="md-nav__link">
    <span class="md-ellipsis">
      36. Настройка через конфигурационный файл
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan" class="md-nav__link">
    <span class="md-ellipsis">
      37. Команда сканирования
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-dir" class="md-nav__link">
    <span class="md-ellipsis">
      38. Сканирование директории
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-archive" class="md-nav__link">
    <span class="md-ellipsis">
      39. Сканирование архивов
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-docker" class="md-nav__link">
    <span class="md-ellipsis">
      40. Сканирование Docker образов
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-launch-docker" class="md-nav__link">
    <span class="md-ellipsis">
      41. Запуск с помощью Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-gitlab-ci" class="md-nav__link">
    <span class="md-ellipsis">
      42. Добавление в Gitlab CI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-jenkins-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      43. Добавление в Jenkins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-save-results" class="md-nav__link">
    <span class="md-ellipsis">
      44. Сохранение результатов сканирования
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-resolve" class="md-nav__link">
    <span class="md-ellipsis">
      45. Разрешение зависимостей в окружении сборки
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        
                        <h1 class='nav-section-title' id='section-общая-информация'>
                            Общая информация <a class='headerlink' href='#section-общая-информация' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="index"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#index.en">English</a></li>
</ul>
<h1 id="index-codescoring">Документация CodeScoring<a class="headerlink" href="#index-codescoring" title="Permanent link">&para;</a></h1>
<p>В документации содержится основная информация для работы с системой <strong>CodeScoring</strong>.</p>
<p><strong>CodeScoring</strong> представляет собой решение для композиционного анализа программного обеспечения, предназначенное для разбора зависимостей, поиска уязвимостей в Open Source, выявления совместимости Open Source лицензий и обзора качества разрабатываемых проектов в разрезе команд исполнителей.</p>
<p><strong>Оглавление</strong>:</p>
<ul>
<li><a href="#functionality">Функциональные характеристики</a></li>
<li><a href="#osa">Модуль OSA</a></li>
<li><a href="#on-premise-installation">Установка решения</a></li>
<li><a href="#on-premise-how-to-activation">Настройка и применение</a></li>
</ul>
<p>По всем вопросам пишите на <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#104;&#101;&#108;&#108;&#111;&#64;&#99;&#111;&#100;&#101;&#115;&#99;&#111;&#114;&#105;&#110;&#103;&#46;&#114;&#117;">&#104;&#101;&#108;&#108;&#111;&#64;&#99;&#111;&#100;&#101;&#115;&#99;&#111;&#114;&#105;&#110;&#103;&#46;&#114;&#117;</a>.</p></section><section class="print-page" id="functionality"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#functionality.en">English</a></li>
</ul>
<h1 id="functionality-_1">Функциональные характеристики<a class="headerlink" href="#functionality-_1" title="Permanent link">&para;</a></h1>
<h2 id="functionality-_2">Общие функциональные характеристики<a class="headerlink" href="#functionality-_2" title="Permanent link">&para;</a></h2>
<ul>
<li>поддержка анализа 18 языков программирования; </li>
<li>поддержка анализа манифестов пакетных экосистем: <strong>Maven, Gradle, NPM, NuGet, PyPi, Ruby Gems, Cocoapods, Composer, Conan, Go Modules, Cargo и sbt</strong>;</li>
<li>интеграция с прокси-репозиториями: <strong>Nexus Repository Manager, JFrog Artifactory Pro</strong>;</li>
<li>интеграция с <strong>hosted и cloud-системами</strong> хостинга кода: <strong>Gitlab, Github, Bitbucket и Azure DevOps</strong>;</li>
<li>универсальная интеграция в системы сборки при помощи агента: <strong>Jenkins, Gitlab, Teamcity и пр</strong>;</li>
<li>ведение реестра компонентных связей (<strong>SBoM, Software Bill of Materials</strong>);</li>
<li>построение отчетности;</li>
<li>управление политиками оповещений;</li>
<li>интеграция для почтовых уведомлений;</li>
<li>интеграция с системой управления задачами <strong>Jira</strong>;</li>
<li>система управления пользователями и интеграция через <strong>LDAP</strong>;</li>
<li>разграничение прав доступа для разных пользователей;</li>
<li>журналирование всех выполняемых операций (аудит-лог);</li>
<li>открытый <strong>API</strong> для интеграции с любым элементом системы. </li>
</ul>
<h2 id="functionality-sca-software-composition-analysis">Функциональные характеристики SCA (Software Composition Analysis)<a class="headerlink" href="#functionality-sca-software-composition-analysis" title="Permanent link">&para;</a></h2>
<ul>
<li>анализ <strong>Docker</strong>-образов;</li>
<li>анализ системных пакетов;</li>
<li>анализ манифестов пакетных менеджеров;</li>
<li>проверка <strong>Open Source</strong> на всех этапах цикла <strong>DevSecOps</strong> с возможностью задания политик безопасности для отдельных стадий проекта (<strong>stages</strong>):<ul>
<li>непрерывный мониторинг (сканирование веток репозиториев);</li>
<li>пост-релизный мониторинг (сканирование тегов репозиториев);</li>
<li>проверка в <strong>CI-конвейере</strong> универсальным агентом с возможностью блокирования сборки;</li>
<li>проверка на локальной машине разработчика (<strong>agent CLI</strong>);</li>
</ul>
</li>
<li>обнаружение <strong>Open Source</strong> зависимостей:<ul>
<li>по экосистеме, названию и версии пакета;</li>
<li>по файлам конфигураций (манифестам) пакетных менеджеров;</li>
<li>через механизм разрешения транзитивных зависимостей;</li>
<li>через механизм идентификации <strong>Open Source-включений</strong> по вендорской базе мета-данных, с применением алгоритмов гибкого поиска;</li>
</ul>
</li>
<li>разделение директивных и транзитивных зависимостей и определение отношения к окружениям (scope) разработки: <strong>runtime, compile, test, provided и другим</strong>;</li>
<li>построение графа зависимостей с возможностью трассирования использования транзитивных компонентов;</li>
<li>актуализация информации об обнаруженных зависимостях:<ul>
<li>общая информация о зависимости: способ обнаружения; дата релиза пакета; автор пакета; официальная веб-страница; ссылка на размещение в пакетном индексе; окружение применения (<strong>scope</strong>) и ссылка на граф связей; ссылка на манифест;</li>
<li>информация об уязвимостях;</li>
<li>информация о лицензиях;</li>
<li>используемость в проектах организации;</li>
</ul>
</li>
<li>предоставление информации об уязвимостях:<ul>
<li>идентификаторы в базах знаний;</li>
<li>описание уязвимости;</li>
<li>оценка критичности по <strong>CVSS 2 и CVSS 3.1</strong>;</li>
<li>ссылки на дополнительные индексы уязвимостей;</li>
<li>рекомендуемая версия пакета для обновления;</li>
<li>перечень всех проектов задетых уязвимостью;</li>
<li>дополнительные ссылки на уязвимости содержащие ссылки на патчи, эксплоиты и уязвимые коммиты;</li>
</ul>
</li>
<li>предоставление информации о лицензиях:<ul>
<li>лицензионный ландшафт проекта;</li>
<li><strong>SPDX</strong>-идентификатор лицензии;</li>
<li>текст лицензии;</li>
<li>краткое представление об условиях лицензии;</li>
<li>информация о совместимости лицензий (<strong>license compliance</strong>);</li>
</ul>
</li>
<li>определение и дедупликация уязвимостей из баз знаний:<ul>
<li><strong>NIST National Vulnerability Database (NVD)</strong>;</li>
<li><strong>Банк данных угроз безопасности информации (БДУ ФСТЭК)</strong>;</li>
<li><strong>Github Security Advisory (GHSA)</strong>;</li>
<li><strong>Open Source Vulnerabilities (OSV)</strong>;</li>
<li><strong>Sonatype OSSIndex</strong>;</li>
<li><strong>Kaspersky Open Source Software Threats Data Feed</strong> (подключается по запросу);</li>
<li>Вендорский фид (<strong>protestware</strong>).</li>
</ul>
</li>
<li>настройка критериев безопасности (политик) по 30 критериям, включая:<ul>
<li>метаданные пакетов: <strong>название, версия, автор пакета, возраст, дата</strong>;</li>
<li>критерии уязвимостей: <strong>идентификатор, score, severity, publish date</strong>;</li>
<li>категории и типы лицензий, <strong>политику лицензионной чистоты от вендора</strong>;</li>
<li>по признакам применения пакета: <strong>директивный/транзитивный и окружение (scope)</strong>;</li>
<li>по черным спискам пакетов, включая подготовленный фид <strong>toxic-repos (protestware)</strong>;</li>
</ul>
</li>
<li>настройка политик безопасности отдельно для сканирования кода в репозиториях, в прокси-репозиториях, <strong>CI-конвейере</strong> и локальной машине разработчика с указанием стадий разработки проекта (<strong>stages</strong>);</li>
<li>система отображения результатов сканирований для каждого отдельного этапа и возможность управления игнорируемыми событиями;</li>
<li>возможность настройки защиты от популярных атак на цепочку поставки;</li>
<li>возможность настройки игнорирования политик срабатывания в разных сочетаниях на уровне всей организации: проекта; технологии; пакета; типа лицензии; идентификатора уязвимости; для отдельных политик; возможность задания временного игнорирования события (с-по).</li>
</ul>
<h2 id="functionality-tqi-teams-quality-intelligence">Функциональные характеристики TQI (Teams &amp; Quality Intelligence)<a class="headerlink" href="#functionality-tqi-teams-quality-intelligence" title="Permanent link">&para;</a></h2>
<ul>
<li>построение профиля проектов, детализация технического и авторского состава разработки;</li>
<li>построение профиля разработчиков, детализация их работы в анализируемых проектах с учетом объема работ и качества произведенных изменений;</li>
<li>автоматический скоринг схожих разработчиков в анализируемых проектах:<ul>
<li>по опыту в проектах и технологиях;</li>
<li>по схожести технической базы;</li>
<li>по близости качественных характеристик;</li>
</ul>
</li>
<li>поиск активности разработчиков в <strong>Open Source</strong> проектах;</li>
<li>анализ заимствований с применением алгоритмов нечеткого поиска (толерантность к переименованиям объектов в коде):<ul>
<li>поиск внутри-проектных дубликатов кода;</li>
<li>поиск кросс-проектных дубликатов кода;</li>
<li>определение объема найденных заимствований;</li>
<li>построение интерактивной карты заимствований;</li>
<li>определение времени возникновения заимствования;</li>
<li>привязка авторства к найденным дубликатам кода;</li>
</ul>
</li>
<li>оценка сложности сопровождения проекта:<ul>
<li>расчет цикломатической сложности кода в разрезе проекта;</li>
<li>расчет цикломатической сложности кода в разрезе автора;</li>
</ul>
</li>
<li>построение аналитических ретроспективных карт:<ul>
<li>развития проектов;</li>
<li>работы авторов;</li>
<li>эволюции сложности проектов.</li>
</ul>
</li>
<li>встраивание в цикл разработки программного обеспечения (<strong>SDLC</strong>) посредством интеграции с системами версионирования исходного кода.</li>
</ul></section><section class="print-page" id="integration-stages"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#integration-stages.en">English</a></li>
</ul>
<h1 id="integration-stages-_1">Этапы интеграции<a class="headerlink" href="#integration-stages-_1" title="Permanent link">&para;</a></h1>
<p>Система композиционного анализа исходных кодов <strong>CodeScoring</strong> интегрируется в жизненный цикл разработки программного обеспечения в целях предотвращения попадания в конечный продукт известных уязвимостей и лицензионно несовместимых или опасных компонентов на всех этапах создания программных продуктов:</p>
<ul>
<li>Этап поступления заимствованных компонентов из внешних источников в промежуточное хранилище артефактов, прокси-репозиторий, организации;</li>
<li>Этап разработки или сопровождения программного кода;</li>
<li>Этап сборки программных продуктов;</li>
</ul>
<p>Общая cхема контролируемых этапов разработки программного обеспечения представлена ниже:</p>
<p><img alt="All integration stages" src="/assets/img/integration/integration-stages.png" /></p>
<h2 id="integration-stages-open-source">Этап поступления Open Source компонентов<a class="headerlink" href="#integration-stages-open-source" title="Permanent link">&para;</a></h2>
<p><img alt="osa" src="/assets/img/integration/integration-stage-osa.png" /></p>
<p>Для ускорения процессов сборки программного обеспечения, в разработке применяются промежуточные хранилища программных компонентов - <strong>прокси-репозитории</strong>. Обычно прокси-репозитории размещаются внутри защищенного контура организации и обеспечивают процессы кэширования используемых разработчиками программных библиотек. Дополнительно эти хранилища могут использоваться для хранения собственных версий сборок и модулей составляющих программные продукты организации.</p>
<p>Лидерами данного класса решений являются такие системы как <strong>Nexus Repository Manager</strong> от компании Sonatype и <strong>JFrog Artifactory PRO</strong> от компании JFrog.</p>
<p>Решение CodeScoring обеспечивает интеграцию с обеими представленными системами при помощи специального плагина-расширения <a href="#osa"><strong>CodeScoring OSA</strong></a>. Задача плагина — на каждое обращение к хранящемуся компоненту выполнять проверку на соответствие настроенным политикам (policy compliance) и в случае несоответствия выполнять блокирование загрузки компонента с опциональной возможностью полного удаления из хранилища. Такой подход позволяет не допустить появления новых уязвимых компонентов в хранилищах артефактов, а также удалять уже существующие пакеты при выявлении в них уязвимостей.</p>
<h2 id="integration-stages-_2">Этап сборки программных продуктов<a class="headerlink" href="#integration-stages-_2" title="Permanent link">&para;</a></h2>
<p><img alt="CI" src="/assets/img/integration/integration-stage-ci.png" /></p>
<p>Для сборки программных продуктов разработчики используют средства автоматизации, такие как <strong>Gitlab CI/CD</strong>, <strong>Jenkins</strong>, <strong>Bitbucket Pipelines</strong>. Задача таких средств — обеспечить сборку программного продукта из доступных артефактов, состоящих из собственного кода и сторонних компонентов. </p>
<p>На шаге перед конечной сборкой программного обеспечения в целях безопасности встраиваются: </p>
<ul>
<li>композиционный анализ программного обеспечения <strong>Software Composition Analysis</strong> для проверки сторонних компонентов;</li>
<li>статический анализ приложения на безопасность <strong>Static Application Security Testing</strong> для проверки для проверки собственного кода.</li>
</ul>
<p>SCA-системы обеспечивают инвентаризацию программного обеспечения с формированием списка используемых компонентов <a href="https://codescoring.ru/tpost/rsjdsl52s1-chto-takoe-software-bill-of-materials-sb"><strong>Software Bill of Materials</strong></a>, идентификацию известных уязвимостей и определение лицензионной чистоты.  </p>
<p>Решение CodeScoring обеспечивает <strong>три режима идентификации сторонних компонентов</strong> в анализируемой кодовой базе:</p>
<ul>
<li>разбор манифестов - списков зависимостей, формируемых разработчиками в ручном или автоматическом режимах;</li>
<li>разрешение транзитивных зависимостей - цепочки компонентов, привносимых в продукт зависимостями первого уровня;</li>
<li>идентификация прямых включений Open Source библиотек - ситуации, когда сторонний компонент физически копируется в собственную разработку организации и не указывается разработчиками в манифестах пакетных менеджеров.</li>
</ul>
<p>В рамках этапа сборки система CodeScoring применяет специального агента в виде бинарного файла. Агент проверяет идентифицированные компоненты на соответствие настроенным политикам безопасности для выбранного продукта и, в случае несоответствия политикам с блокирующим статусом, возвращает соответствующий код ошибки, который сигнализирует об остановке сборки.</p>
<h2 id="integration-stages-_3">Этап разработки и сопровождения программного кода<a class="headerlink" href="#integration-stages-_3" title="Permanent link">&para;</a></h2>
<p><img alt="Development" src="/assets/img/integration/integration-stage-development.png" /></p>
<p>CodeScoring поддерживает интеграцию с основными системами хранения и версионирования кода - <strong>Github</strong>, <strong>Gitlab</strong>, <strong>Bitbucket</strong> и <strong>Azure DevOps</strong>, </p>
<p>Для отслеживания безопасности исходного кода в процессе его написания в системе CodeScoring реализован механизм непрерывного мониторинга рисков <strong>Continuous Monitoring</strong>. Система проверяет исходный код согласно настраиваемому расписанию сканирования и может сигнализировать о выявленных проблемах в смежные системы, такие как <strong>система управления задачами Jira</strong> или <strong>системы агрегации и оркестрации инцидентов безопасности SOAR/SIEM</strong> или просто уведомить ответственного специалиста по электронной почте.</p></section><section class="print-page" id="supported-package-managers"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#supported-package-managers.en">English</a></li>
</ul>
<h1 id="supported-package-managers-_1">Поддерживаемые пакетные менеджеры<a class="headerlink" href="#supported-package-managers-_1" title="Permanent link">&para;</a></h1>
<h2 id="supported-package-managers-_2">Манифесты<a class="headerlink" href="#supported-package-managers-_2" title="Permanent link">&para;</a></h2>
<p>Для поиска зависимостей CodeScoring в первую очередь опирается на разбор файлов манифестов пакетных менеджеров. Система поддерживает разбор следующих технологий:</p>
<table>
<thead>
<tr>
<th>Язык <div style="width:140px"></th>
<th style="text-align: left;">Пакетный менеджер или инструмент сборки <div style="width:280px"></th>
<th style="text-align: left;">Формат файла <div style="width:250px"></th>
</tr>
</thead>
<tbody>
<tr>
<td>Java и Kotlin</td>
<td style="text-align: left;">Gradle, Maven</td>
<td style="text-align: left;"><code>pom.xml</code><br/><code>ivy.xml</code><br/><code>maven-dependency-tree.txt</code><br/><code>gradle-dependency-tree.txt</code><br/><code>*.gradle</code><br/><code>*.gradle.kts</code><br/> <code>gradle.lockfile</code></td>
</tr>
<tr>
<td>JavaScript и TypeScript</td>
<td style="text-align: left;">npm, yarn</td>
<td style="text-align: left;"><code>package.json</code><br/><code>package-lock.json</code> <br/><code>npm-shrinkwrap.json</code><br/><code>yarn.lock</code></td>
</tr>
<tr>
<td>Python</td>
<td style="text-align: left;">pip, Poetry, Pipenv</td>
<td style="text-align: left;"><code>setup.py</code><br/><code>Pipfile</code><br/><code>Pipfile.lock</code><br/><code>pyproject.toml</code><br/><code>poetry.lock</code><br/><code>requirements.txt</code><br/><code>requirements.pip</code><br/><code>requires.txt</code></td>
</tr>
<tr>
<td>С и C++</td>
<td style="text-align: left;">Conan</td>
<td style="text-align: left;"><code>conanfile.txt</code><br/><code>conan.lock</code><br/><code>conanfile.py</code></td>
</tr>
<tr>
<td>Go</td>
<td style="text-align: left;">Go Modules</td>
<td style="text-align: left;"><code>go.mod</code><br/><code>go.sum</code></td>
</tr>
<tr>
<td>PHP</td>
<td style="text-align: left;">Composer</td>
<td style="text-align: left;"><code>composer.json</code><br/><code>composer.lock</code></td>
</tr>
<tr>
<td>Ruby</td>
<td style="text-align: left;">RubyGems</td>
<td style="text-align: left;"><code>Gemfile</code><br/><code>Gemfile.lock</code><br/><code>*.gemspec</code></td>
</tr>
<tr>
<td>C#</td>
<td style="text-align: left;">Nuget</td>
<td style="text-align: left;"><code>*.nuspec</code><br/><code>packages.lock.json</code><br/><code>Project.json</code><br/><code>Project.lock.json</code><br/><code>packages.config</code><br/><code>paket.dependencies</code><br/><code>paket.lock</code><br/><code>*.csproj</code><br/><code>project.assets.json</code></td>
</tr>
<tr>
<td>Objective-C и Swift</td>
<td style="text-align: left;">CocoaPods</td>
<td style="text-align: left;"><code>Podfile</code><br/><code>Podfile.lock</code><br/><code>*.podspec</code></td>
</tr>
<tr>
<td>Rust</td>
<td style="text-align: left;">Cargo</td>
<td style="text-align: left;"><code>Cargo.lock</code><br/><code>Cargo.toml</code></td>
</tr>
<tr>
<td>Scala</td>
<td style="text-align: left;">sbt</td>
<td style="text-align: left;"><code>scala-dependency-tree.txt</code><br/><code>sbt-dependency-tree.txt</code></td>
</tr>
</tbody>
</table>
<p>Лучший результат будет при наличии основного файла манифеста и соответствующего lock-файла, если он предусмотрен механизмом пакетного менеджера.</p>
<h2 id="supported-package-managers-lock-">Механизм резолва при отсутствии lock-файла<a class="headerlink" href="#supported-package-managers-lock-" title="Permanent link">&para;</a></h2>
<p>При отсутствии lock-файла для некоторых пакетных индексов система будет пытаться выполнить резолв транзитивных OSS зависимостей сама следующим образом:</p>
<ul>
<li>Maven<ul>
<li>для формата pom.xml и build.gradle генерация maven-dependency-tree через соответствующий плагин maven</li>
<li>используются Maven версии 3.8.3 и OpenJDK версии 11</li>
</ul>
</li>
<li>PyPi<ul>
<li>генерация poetry.lock с помощью пакетного менеджера Poetry</li>
<li>используется Python версии 3.8</li>
</ul>
</li>
<li>NPM<ul>
<li>генерация yarn.lock с помощью пакетного менеджера Yarn</li>
<li>используется Node.js версии 16</li>
</ul>
</li>
<li>Nuget<ul>
<li>для формата csproj генерация project.assets.json с помощью встроенных инструментов nuget</li>
<li>используется .NET SDK версии 5</li>
</ul>
</li>
<li>Packagist<ul>
<li>генерация composer.lock с помощью пакетного менеджера Composer</li>
<li>используется PHP версии 8</li>
</ul>
</li>
<li>Rubygems<ul>
<li>генерация Gemfile.lock с помощью пакетного менеджера Bundler</li>
<li>используется Ruby версии 3</li>
</ul>
</li>
</ul>
<p>Самостоятельная генерация lock-файлов системой не может давать результат в 100% случаев, так как результат часто зависит от окружения.</p>
<h2 id="supported-package-managers-_3">Механизм поиска зависимостей по хэшам<a class="headerlink" href="#supported-package-managers-_3" title="Permanent link">&para;</a></h2>
<p>Второй механизм поиска зависимостей, реализованный в CodeScoring — это поиск по хэшам, то есть поиск непосредственного включения библиотек в код проектов путём копирования. В рамках этого механизма происходит хэширование всех файлов проекта и сверка этих сигнатур с известными нам open source библиотеками.</p>
<p>В данный момент поиск по хэшам происходит для следующих индексов пакетных менеджеров по следующим типам файлов:</p>
<ul>
<li>Maven<ul>
<li><code>.jar</code></li>
<li><code>.war</code></li>
<li><code>.ear</code></li>
</ul>
</li>
<li>npm<ul>
<li><code>.min.js</code></li>
</ul>
</li>
<li>PyPI<ul>
<li><code>.whl</code></li>
<li><code>.egg</code></li>
</ul>
</li>
<li>Nuget<ul>
<li><code>.nupkg</code></li>
</ul>
</li>
</ul>
<p>От инсталляции в облако <strong>не уходят</strong> хэши файлов, размер которых не превышает 512 байт.</p></section><section class="print-page" id="changelog"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#changelog.en">English</a></li>
</ul>
<h1 id="changelog-changelog">Changelog<a class="headerlink" href="#changelog-changelog" title="Permanent link">&para;</a></h1>
<h2 id="changelog-codescoring-on-premise">Codescoring On-premise<a class="headerlink" href="#changelog-codescoring-on-premise" title="Permanent link">&para;</a></h2>
<h3 id="changelog-2024280-2024-07-09">[2024.28.0] - 2024-07-09<a class="headerlink" href="#changelog-2024280-2024-07-09" title="Permanent link">&para;</a></h3>
<ul>
<li>Реализована новая настройка условий политики безопасности с формированием логических выражений</li>
<li>Оптимизировано потребление памяти при генерации PDF-отчета</li>
<li>Поиск в атрибутах пользователей LDAP теперь не зависит от регистра</li>
<li>Исправлена сортировка в таблице уязвимостей на странице просмотра Container Image</li>
<li>Исправлен расчет статуса блокировки в OSA с учетом выбранных компонентов в политике</li>
</ul>
<h3 id="changelog-2024250-2024-06-18">[2024.25.0] - 2024-06-18<a class="headerlink" href="#changelog-2024250-2024-06-18" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена настройка соответствия LDAP группы и уровня доступа пользователя</li>
<li>Добавлена возможность игнорирования Policy Alerts по PURL</li>
<li>Добавлена проверка доступности Container Registry перед запуском сканирования образа на инсталляции</li>
<li>Добавлено описание методов OSA API в Swagger</li>
<li>Улучшена стабильность работы инсталляции в старых браузерах</li>
<li>Ускорена загрузка раздела <code>Components -&gt; OSA Packages</code></li>
<li>Исправлено отображение графиков и пагинация таблицы коммитов на вкладке TQI страницы проекта</li>
<li>Исправлена работа фильтра по дате запроса в разделе <code>Components -&gt; Packages</code></li>
<li>Исправлена смена устаревшего токена для VCS</li>
<li>Удален устаревший API метод <code>/api/dashboard/security/top5_vulnerable_projects/</code></li>
</ul>
<h3 id="changelog-2024240-2024-06-11">[2024.24.0] - 2024-06-11<a class="headerlink" href="#changelog-2024240-2024-06-11" title="Permanent link">&para;</a></h3>
<ul>
<li>Оптимизировано использование памяти при загрузке описаний уязвимостей</li>
</ul>
<h3 id="changelog-2024222-2024-05-28">[2024.22.2] - 2024-05-28<a class="headerlink" href="#changelog-2024222-2024-05-28" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность запуска инсталляции с опцией readOnlyRootFilesystem в Kubernetes</li>
<li>Ускорен поиск в разделах Dependencies, Policy Alerts и Components</li>
<li>Улучшена сортировка по полю Dependency/Package в разделе Policy Alerts</li>
<li>Добавлена очистка временных файлов после принудительного завершения сканирования образа</li>
<li>Исправлено отсутствие графика Distribution by technology в CLI проектах после первого сканирования</li>
<li>Исправлена ошибка формирования PDF отчета в случае наличия ссылок в PURL</li>
</ul>
<h3 id="changelog-2024221-2024-05-27">[2024.22.1] - 2024-05-27<a class="headerlink" href="#changelog-2024221-2024-05-27" title="Permanent link">&para;</a></h3>
<ul>
<li>Изменен статус в плагинах OSA при получении неизвестного Repository Manager</li>
</ul>
<h3 id="changelog-2024220-2024-05-27">[2024.22.0] - 2024-05-27<a class="headerlink" href="#changelog-2024220-2024-05-27" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена ошибка при отображении раздела <code>Settings -&gt; Workmode</code></li>
</ul>
<h3 id="changelog-2024210-2024-05-24">[2024.21.0] - 2024-05-24<a class="headerlink" href="#changelog-2024210-2024-05-24" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность подключения менеджеров репозиториев через интерфейс </li>
<li>Добавлен фильтр OSA пакетов по менеджерам репозиториев и отдельным репозиториям</li>
<li>Добавлена настройка политик для определенных репозиториев</li>
<li>Улучшен маппинг LDAP групп</li>
</ul>
<h3 id="changelog-2024172-2024-04-27">[2024.17.2] - 2024-04-27<a class="headerlink" href="#changelog-2024172-2024-04-27" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена дата релиза пакета на страницу в разделе <code>Components -&gt; Packages</code></li>
<li>Выведена подсказка по колонке Plugin mode в разделе <code>Components -&gt; Requests</code></li>
<li>Исправлена ошибка открытия страницы редактирования Policy Ignore с заданным Container Image</li>
<li>Исправлено формирование ссылок на коммиты в Gitlab</li>
</ul>
<h3 id="changelog-2024171-2024-04-23">[2024.17.1] – 2024-04-23<a class="headerlink" href="#changelog-2024171-2024-04-23" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность указывать тип OSA компонента, для которого будет применяться политика</li>
<li>Добавлен раздел Group mapping для настройки LDAP групп</li>
<li>Добавлен маппинг LDAP групп на внутренние группы CodeScoring</li>
<li>Добавлены ссылки на уязвимости и лицензии в поле Matched criteria раздела Policy Alerts</li>
<li>Добавлен поиск в условие политики по полю Technology</li>
<li>Добавлено поле Matched criteria в таблицу Policy Alerts на странице проекта</li>
<li>Возвращено отображение иконки загрузки SBOM</li>
<li>Колонки License и Vulnerability в таблицах Policy Alerts теперь скрыты по умолчанию</li>
<li>Ускорена загрузка раздела <code>Components -&gt; Requests</code></li>
<li>Улучшена периодическая очистка запросов OSA из базы данных</li>
<li>Исправлен редирект при удалении пользователя</li>
<li>Исправлено формирование Dependency Name из PURL</li>
</ul>
<h3 id="changelog-2024150-2024-04-09">[2024.15.0] - 2024-04-09<a class="headerlink" href="#changelog-2024150-2024-04-09" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность настройки нескольких LDAP интеграций</li>
<li>Добавлен вывод Matched criteria в разделе Container images</li>
<li>Добавлены колонки и фильтры Scan schedule, Scan with hashes в раздел Projects</li>
<li>Добавлены колонки и фильтры Scan schedule, Excluded from analysis в раздел <code>Settings -&gt; Projects</code></li>
<li>Добавлена в Audit Log информация о предыдущем уровне доступа пользователя</li>
<li>Добавлена поддержка нестандартных портов для SSH при добавлении VCS</li>
<li>Добавлен процент схожести между авторами в разделе Authors</li>
<li>Реализована периодическая очистка запросов OSA в базе данных</li>
<li>Возвращена стадия политики <code>dev</code> в настройки проекта</li>
</ul>
<h3 id="changelog-2024130-2024-03-27">[2024.13.0] – 2024-03-27<a class="headerlink" href="#changelog-2024130-2024-03-27" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлен повторный запуск периодических задач в очереди</li>
<li>Исправлено длительное ожидание ответа от Index API в случае прерывания соединения</li>
</ul>
<h3 id="changelog-2024120-2024-03-22">[2024.12.0] – 2024-03-22<a class="headerlink" href="#changelog-2024120-2024-03-22" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен раздел Components, включающий в себя списки компонентов и запросов OSA</li>
<li>Добавлено поле Vulnerabilities в CSV-отчет по проектам</li>
<li>Добавлена метрика pool_used для просмотра занятых соединений из пула</li>
<li>Оптимизирован запуск анализа и выгрузка SBoM CLI проекта</li>
<li>Исправлено игнорирование флага load full images list при создании или обновлении Registry</li>
<li>Исправлено отображение количества активных политик в разделе Dashboard</li>
<li>Исправлено отсутствие вариантов для политики по CVSS2 Authentication</li>
<li>Исправлена ошибка при вычислении Policy Alerts политики с условием CVSS Score</li>
</ul>
<h3 id="changelog-2024110-2024-03-18">[2024.11.0] – 2024-03-18<a class="headerlink" href="#changelog-2024110-2024-03-18" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена информация о пакете в секции Policy alerts и Vulnerabilities на странице заблокированного в OSA образа</li>
<li>Добавлен фильтр Group в разделе Vulnerabilities</li>
<li>Переименован признак политики Blocks build в Blocker</li>
<li>Оптимизирован анализ CLI проектов в ситуации, когда зависимости анализируемого проекта часто встречаются в других проектах</li>
<li>Ускорена загрузка информации о похожих авторах</li>
<li>Исправлено отображение связей на одном уровне в графе зависимостей проекта</li>
</ul>
<h3 id="changelog-2024100-2024-03-06">[2024.10.0] – 2024-03-06<a class="headerlink" href="#changelog-2024100-2024-03-06" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлено исчезновение кнопки выгрузки HTML для графиков</li>
<li>Изменено форматирование сообщений коммитов в таблице коммитов проекта</li>
<li>Исправлено отображение метрик на страницах проектов, для которых анализ не проводился</li>
<li>Исправлена доступность скачивания PDF-отчета и SBOM в зависимости от статуса анализа проекта</li>
</ul>
<h3 id="changelog-202491-2024-02-29">[2024.9.1] – 2024-02-29<a class="headerlink" href="#changelog-202491-2024-02-29" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена нечувствительность к регистру при создании пользователей из LDAP</li>
</ul>
<h3 id="changelog-202490-2024-02-28">[2024.9.0] – 2024-02-28<a class="headerlink" href="#changelog-202490-2024-02-28" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлено отображение статуса анализа в истории для проектов и образов</li>
<li>Добавлено отображение сообщений коммитов в проектах за прошлые периоды на странице TQI</li>
<li>Расширены метрики SCA на странице проекта</li>
<li>Исправлено поведение при загрузке и сканировании образов без тегов </li>
<li>Исправлено обновление информации о Container registry после сохранения изменений</li>
<li>Исправлена невозможность просмотра коммитов проекта за последнюю неделю </li>
<li>Исправлено отображение метрик на страницах проектов, для которых анализ не проводился</li>
<li>Исправлена интеграция с LDAP</li>
<li>Уменьшен таймаут при проверке доступности Registry</li>
</ul>
<h3 id="changelog-202480-2024-02-22">[2024.8.0] – 2024-02-22<a class="headerlink" href="#changelog-202480-2024-02-22" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлен запуск общего анализа клонов</li>
<li>Исправлено отображение путей до файлов внутри клонов</li>
<li>Исправлены переходы на списки клонов с карты клонов</li>
<li>Исправлено отображение автора при отсутствии поля email</li>
<li>Исправлено отображение скрытых колонок в таблицах</li>
<li>Исправлено отображение переменной <code>block_status</code> в списке раздела Container Images</li>
<li>Исправлено обновление списка образов при наличии в registry образов без указания платформы</li>
<li>Убрано пустое значение при выборе в фильтрах</li>
<li>Убран автоматический перезапуск сканирования по расписанию в случае падения</li>
</ul>
<h3 id="changelog-202470-2024-02-16">[2024.7.0] – 2024-02-16<a class="headerlink" href="#changelog-202470-2024-02-16" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлены уязвимости из БДУ ФСТЭК</li>
<li>Реализована cтраница для вывода информации о заблокированной в OSA компоненте</li>
<li>Реализован запуск анализа авторов по одному проекту</li>
<li>Реализован запуск анализа клонов по одному проекту</li>
<li>Добавлена таблица коммитов на вкладке TQI страницы проекта</li>
<li>Исправлен фильтр по уязвимостям в разделе Policy Alerts</li>
<li>Исправлен переход на страницу политики из раздела Dashboard</li>
</ul>
<h3 id="changelog-202450-2024-02-02">[2024.5.0] – 2024-02-02<a class="headerlink" href="#changelog-202450-2024-02-02" title="Permanent link">&para;</a></h3>
<ul>
<li>Обновлен UI системы</li>
<li>Добавлены новые метрики SCA на странице проекта</li>
<li>Добавлено условие политики на соответствие PURL <a href="https://docs.python.org/3/library/re.html#regular-expression-syntax">регулярному выражению</a></li>
<li>Добавлено условие политики на поиск текстовой строки в PURL</li>
<li>Добавлена проверка на скрытые символы при вводе активационного ключа</li>
<li>Исправлен фильтр по технологиям в разделе Projects</li>
<li>Исправлен вывод технологий для CLI проектов в разделе Projects</li>
<li>Оптимизирован механизм перерасчета политик</li>
<li>Уточнены сообщения об ошибках соединения с GitLab</li>
<li>Изменена ориентация раздела Vulnerabilities в PDF отчете по проекту</li>
</ul>
<h3 id="changelog-202420-2024-01-12">[2024.2.0] – 2024-01-12<a class="headerlink" href="#changelog-202420-2024-01-12" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена информация про архитектуру сканируемых образов</li>
<li>Добавлен фильтр Group на странице проектов</li>
<li>Добавлена поддержка спецификации CycloneDX 1.5 при импорте SBOM</li>
<li>Добавлены новые статусы блокировки компонентов OSA</li>
<li>Улучшена производительность OSA</li>
<li>Ускорена загрузка Complexity map в разделе Projects</li>
<li>Убраны сканирования, зависшие в статусе in progress</li>
<li>Исправлен экспорт отчета в PDF при активном сканировании проекта и для CLI проектов</li>
</ul>
<h3 id="changelog-2023490-2023-12-08">[2023.49.0] – 2023-12-08<a class="headerlink" href="#changelog-2023490-2023-12-08" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность экспорта PDF-отчета с результатами сканирования проекта</li>
<li>Добавлена поддержка анализа зависимостей Rust через манифесты Cargo</li>
<li>Добавлена возможность клонирования репозитория через SSH</li>
<li>Добавлен новый тип VCS "Other Git"</li>
<li>Добавлено отображение количества найденных уязвимостей в списке раздела Projects</li>
<li>Добавлен поиск по вложенным (имеющим записи в разных фидах) уязвимостям в разделе Vulnerabilities</li>
<li>Добавлена настройка отображения ID проекта в разделе <code>Settings -&gt; Projects</code></li>
<li>Добавлены нулевые значения в Prometheus метрики OSA API</li>
<li>Автоматическое проведение анализа после клонирования VCS проекта стало опциональным</li>
<li>Исправлена ошибка при сортировке таблицы по полю CVSS3 Attack Complexity в разделе Vulnerabilities</li>
<li>Исправлена некорректная работа OSA с пакетами, имеющими верхний регистр в версии</li>
</ul>
<h3 id="changelog-2023480-2023-11-22">[2023.48.0] – 2023-11-22<a class="headerlink" href="#changelog-2023480-2023-11-22" title="Permanent link">&para;</a></h3>
<ul>
<li>Уменьшен размер поставляемых Docker-образов CodeScoring</li>
<li>Добавлен параметр Matched criteria с причиной сработавшей политики в раздел Policy alerts</li>
<li>Добавлен новый тип Container registries "Other"</li>
<li>Добавлено право пользователям с уровнем доступа User создавать CLI проекты через API</li>
<li>Добавлены Prometheus метрики по статусу сканирования и статусу блокировки компонента в OSA</li>
<li>Добавлено скрытие пароля и токена в настройках подключения к Jira</li>
<li>Убраны дубликаты уязвимостей в SBOM, имеющие разные затронутые версии</li>
<li>Удален устаревший endpoint API <code>/integration_api/v1/</code></li>
<li>Ускорена работа анализа при большом количестве Policy ignores</li>
<li>Исправлена ошибка UnsafeOption при работе с Azure и Bitbucket</li>
<li>Исправлен вывод доступных значений для фильтра Container images в разделе Policy alerts</li>
<li>Исправлен поиск по зависимости в разделе Policy alerts</li>
<li>Исправлено отображение фильтра CWE в разделе Vulnerabilities</li>
</ul>
<h3 id="changelog-2023440-2023-10-31">[2023.44.0] – 2023-10-31<a class="headerlink" href="#changelog-2023440-2023-10-31" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлено сохранение фильтров между вкладками в разделе Policy alerts</li>
<li>Исправлено отображение решенных Policy alerts на странице проекта</li>
</ul>
<h3 id="changelog-2023430-2023-10-27">[2023.43.0] - 2023-10-27<a class="headerlink" href="#changelog-2023430-2023-10-27" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка сканирования proxy Docker репозиториев на базе Sonatype Nexus и JFrog Artifactory</li>
<li>Добавлен Digest и тэги на странице контейнерного образа</li>
<li>Добавлено фоновое обновление уязвимостей и фоновая работа политик для компонентов из контейнерных образов</li>
<li>Добавлены <a href="#on-premise-how-to-metrics">метрики количества и времени запросов</a> для CodeScoring OSA</li>
<li>Дополнены метрики очередей на инсталляции – теперь можно отдельно посмотреть типы анализов в очереди</li>
<li>Добавлено новое условие политики – возраст уязвимости</li>
<li>Добавлена возможность не загружать автоматически список образов при добавлении Container Registry</li>
<li>Исправлено открытие страницы просмотра Policy Ignore</li>
<li>Исправлено отображение ошибки git 128 при работе с VCS </li>
</ul>
<h3 id="changelog-2023410-2023-10-09">[2023.41.0] - 2023-10-09<a class="headerlink" href="#changelog-2023410-2023-10-09" title="Permanent link">&para;</a></h3>
<ul>
<li>Для запуска CodeScoring теперь не требуется наличие прав суперпользователя внутри контейнера. Инструкция по миграции с root-контейнеров на rootless доступна у вендора</li>
</ul>
<h3 id="changelog-2023400-2023-10-04">[2023.40.0] - 2023-10-04<a class="headerlink" href="#changelog-2023400-2023-10-04" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность сканирования образов из hosted Docker репозиториев на базе Sonatype Nexus и JFrog Artifactory</li>
<li>Добавлена возможность блокирования загрузки образов из Sonatype Nexus Repository при несоответствии политикам безопасности</li>
</ul>
<h3 id="changelog-2023380-2023-09-20">[2023.38.0] - 2023-09-20<a class="headerlink" href="#changelog-2023380-2023-09-20" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность указания спецсимволов в пароле для подключения к базе данных</li>
<li>Исправлена ошибка отображения игнорируемых алертов в разделе Policy Ignores</li>
<li>Исправлено отображение полей Source files и Parents на странице зависимости</li>
<li>Возвращено моментальное удаление алерта из списка Active после создания правила игнорирования</li>
<li>Дополнена <a href="#on-premise-update">схема обновления</a> на актуальную версию продукта.</li>
</ul>
<h3 id="changelog-2023350-2023-08-31">[2023.35.0] - 2023-08-31<a class="headerlink" href="#changelog-2023350-2023-08-31" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена история SCA сканирований в проекте</li>
<li>На странице проекта информация модулей SCA и TQI теперь отображается в отдельных вкладках</li>
<li>Добавлено отображение частей CVSS векторов в списке уязвимостей</li>
<li>Добавлено новое условие политики "Vulnerability has fixed version"</li>
<li>Добавлено поле CWE в экспорт CSV-таблицы уязвимостей</li>
<li>Добавлен баннер CodeScoring и логирование версии в консоль при запуске Docker-контейнера с инсталляцией</li>
<li>Добавлены метрики количества запущенных анализов для Prometheus</li>
<li>Удален deprecated endpoint <code>/api/policy_alerts/ignored/</code></li>
<li>Удален deprecated endpoint <code>/api/policy_alerts/resolved/</code></li>
<li>Удален deprecated endpoint <code>/api/policy_alerts/</code></li>
<li>Исправлен вывод технологий на списке Policy ignores</li>
<li>Исправлена работа политики по purl и CVSS для rpm</li>
<li>Убран текст лицензий из генерируемых SBoM по проекту</li>
</ul>
<h3 id="changelog-2023310-2023-08-04">[2023.31.0] - 2023-08-04<a class="headerlink" href="#changelog-2023310-2023-08-04" title="Permanent link">&para;</a></h3>
<ul>
<li>Ускорена работа CodeScoring OSA</li>
</ul>
<h3 id="changelog-2023300-2023-07-27">[2023.30.0] - 2023-07-27<a class="headerlink" href="#changelog-2023300-2023-07-27" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена fixed version в таблице Affected dependencies на странице уязвимости</li>
<li>Добавлены метрики состояния очередей для Prometheus</li>
<li>Перенесена версия инсталляции из футера в боковое меню</li>
<li>Исправлено несоответствие Swagger-схемы с API</li>
<li>Убрана возможность нажать кнопку Upload SBOM без наличия прикрепленного файла</li>
</ul>
<h3 id="changelog-2023260-2023-06-30">[2023.26.0] - 2023-06-30<a class="headerlink" href="#changelog-2023260-2023-06-30" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка системных пакетов для OSA-плагина в NXRM</li>
<li>Добавлены новые условия политики - по наличию эксплойта уязвимости и частям CVSS-вектора</li>
<li>Добавлен вывод названия политики, stage и level в список Policy alerts на странице проекта</li>
<li>Добавлен фильтр по типу проекта в списке проектов</li>
<li>Пометили метод <code>/api/dependencies/csv/</code> как устаревший. Теперь надо использовать <code>/api/dependencies/by_project/csv/</code></li>
<li>Исправлена ошибка при добавлении проекта без предварительного создания VCS</li>
<li>Исправлено отображение информации о stages на карточке описания политики для уровня доступа User</li>
</ul>
<h3 id="changelog-2023240-2023-06-13">[2023.24.0] - 2023-06-13<a class="headerlink" href="#changelog-2023240-2023-06-13" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен фильтр для поиска по названию политик в разделе Policies</li>
<li>Исправлен экспорт зависимостей с пустым фильтром</li>
</ul>
<h3 id="changelog-2023220-2023-06-01">[2023.22.0] - 2023-06-01<a class="headerlink" href="#changelog-2023220-2023-06-01" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена загрузка SBOM в формате CycloneDX, полученного от <code>Microsoft.SBOMTool</code></li>
<li>Исправлена обработка дробного рейтинга уязвимости при формировании SBOM</li>
</ul>
<h3 id="changelog-2023213-2023-05-30">[2023.21.3] - 2023-05-30<a class="headerlink" href="#changelog-2023213-2023-05-30" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена загрузка SBOM в формате CycloneDX, полученного с помощью сторонних инструментов</li>
<li>Ускорена загрузка страниц Code Clones</li>
</ul>
<h3 id="changelog-2023212-2023-05-23">[2023.21.2] - 2023-05-23<a class="headerlink" href="#changelog-2023212-2023-05-23" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность загрузки и скачивания SBOM по проекту в формате CycloneDX</li>
<li>Добавлена возможность проведения анализа на CLI-проекте через интерфейс</li>
<li>Добавлено ручное обновление кода проекта в настройках</li>
<li>Добавлена возможность подключения нескольких VCS с одним адресом, но разными токенами</li>
<li>Добавлена поддержка basic auth для интеграции с Jira</li>
<li>Исправлен вывод списка лицензий на графике</li>
<li>Исправлено появление дубликатов алертов при большой нагрузке</li>
</ul>
<h3 id="changelog-2023150-2023-04-14">[2023.15.0] - 2023-04-14<a class="headerlink" href="#changelog-2023150-2023-04-14" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен новый тип проектов без привязки к репозиторию — CLI</li>
<li>Добавлена группировка Policy alerts в дайджесты для уведомлений через email</li>
<li>Добавлен поиск по названию политики и имени зависимости в Policy alerts</li>
<li>Добавлены рекомендации по устранению уязвимостей (fixed version)</li>
<li>Добавлена поддержка разбора пакетов в форматах deb/apk/rpm</li>
<li>Добавлен вывод предложения обновить страницу, если версия клиента отличается от версии сервера</li>
<li>Добавлены незначительные улучшения в UI</li>
</ul>
<h3 id="changelog-2023110-2023-03-16">[2023.11.0] - 2023-03-16<a class="headerlink" href="#changelog-2023110-2023-03-16" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена долгая загрузка графика Distribution by license на Dashboard</li>
<li>Добавлено поле Note к Policy ignore</li>
<li>Добавлено поле Description к Policy</li>
<li>Добавлен новый уровень доступа Auditor</li>
<li>Добавлена настройка времени жизни сессии через переменную окружения</li>
<li>Добавлены ссылки на граф зависимостей</li>
</ul>
<h3 id="changelog-202360-2023-02-10">[2023.6.0] - 2023-02-10<a class="headerlink" href="#changelog-202360-2023-02-10" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлены графы зависимостей проекта (ссылка есть на странице проекта)</li>
<li>Добавлена опция отключения сбора хешей во время SCA на инсталляции</li>
<li>Добавлен кеш ответов Index API для OSA (по-умолчанию от 1 часа до 1.5 часов, настраивается через переменные окружения)</li>
<li>Дополнена информация об ограничениях в использовании OSSIndex</li>
<li>Запуск массового SCA теперь логируется в Audit log</li>
<li>Для Swagger больше не нужен интернет</li>
<li>Изменен путь до статики из бекенда (требуется поправить <code>docker-compose.yaml</code>)</li>
<li>Исправлена ошибка, из-за которой в одноименных пакетах (с разными версиями), находящихся в разных манифестах, неправильно отображалась информация о файле, в котором пакет найден</li>
</ul>
<h3 id="changelog-2022491-2022-12-07">[2022.49.1] - 2022-12-07<a class="headerlink" href="#changelog-2022491-2022-12-07" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена работа страницы проекта</li>
</ul>
<h3 id="changelog-2022490-2022-12-07">[2022.49.0] - 2022-12-07<a class="headerlink" href="#changelog-2022490-2022-12-07" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлены события логина в Audit log</li>
<li>Добавлена обработка ноды unresolved</li>
<li>Добавлено новое условие в политиках на отсутствие версии компонента</li>
<li>Изменено API инсталляции</li>
<li>Исправлена работа анализа при отсутствии env в графе зависимостей</li>
</ul>
<h3 id="changelog-2022482-2022-12-04">[2022.48.2] - 2022-12-04<a class="headerlink" href="#changelog-2022482-2022-12-04" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка modern yarn</li>
<li>Изменен механизм отнесения зависимостей к прямым</li>
<li>Добавлена секция unresolved для зависимостей, которые есть в lock файле, но не имеют родительского компонента</li>
</ul>
<h2 id="changelog-johnny">Консольный агент Johnny<a class="headerlink" href="#changelog-johnny" title="Permanent link">&para;</a></h2>
<h3 id="changelog-2024260-2024-06-24">[2024.26.0] - 2024-06-24<a class="headerlink" href="#changelog-2024260-2024-06-24" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен парсинг в окружении npm</li>
<li>Добавлен парсинг в окружении dotnet</li>
<li>Добавили парсинг в окружении poetry</li>
<li>Добавлен параметр запуска <code>--block-on-empty-result</code> (возращает код 3 при пустом результате сканирования)</li>
<li>Добавлен флаг <code>--python-version</code> для указания версии python в семействе манифестов pypi</li>
<li>Исправлено построение графа зависимостей на паре <code>package.json</code> и <code>package-lock.json</code></li>
<li>Улучшен парсинг <code>project.assets.json</code></li>
</ul>
<h3 id="changelog-2024210-2024-05-24_1">[2024.21.0] - 2024-05-24<a class="headerlink" href="#changelog-2024210-2024-05-24_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Улучшен парсинг yarn.lock</li>
<li>Исправлен парсинг в окружении yarn </li>
</ul>
<h3 id="changelog-2024170-2024-04-27">[2024.17.0] – 2024-04-27<a class="headerlink" href="#changelog-2024170-2024-04-27" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена сборка Johnny для Mac с процессорами Intel</li>
<li>Исправлен парсер scala-dependency-tree</li>
</ul>
<h3 id="changelog-2024150-2024-04-11">[2024.15.0] – 2024-04-11<a class="headerlink" href="#changelog-2024150-2024-04-11" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка выгрузки результата сканирования в формате CSV</li>
<li>В выгрузку результата сканирования добавлен путь до исходного файла, в котором нашлась зависимость</li>
<li>Улучшен поиск .net пакетов при сканировании образов</li>
</ul>
<h3 id="changelog-2024130-2024-03-28">[2024.13.0] – 2024-03-28<a class="headerlink" href="#changelog-2024130-2024-03-28" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка выгрузки результатов сканирования в форматах <a href="https://sarifweb.azurewebsites.net">SARIF</a> и XML</li>
</ul>
<h3 id="changelog-2024102-2024-03-07">[2024.10.2] – 2024-03-07<a class="headerlink" href="#changelog-2024102-2024-03-07" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлено объединение lock-файлов с манифестами на Windows</li>
</ul>
<h3 id="changelog-202490-2024-02-29">[2024.9.0] – 2024-02-29<a class="headerlink" href="#changelog-202490-2024-02-29" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлено падение при парсинге go.sum</li>
</ul>
<h3 id="changelog-202470-2024-02-12">[2024.7.0] – 2024-02-12<a class="headerlink" href="#changelog-202470-2024-02-12" title="Permanent link">&para;</a></h3>
<ul>
<li>Уменьшен размер Docker-образа с агентом</li>
<li>Исправлена ошибка при хэшировании пустых файлов</li>
</ul>
<h3 id="changelog-202450-2024-01-31">[2024.5.0] – 2024-01-31<a class="headerlink" href="#changelog-202450-2024-01-31" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка Scala</li>
<li>Добавлено разрешение зависимостей в go окружении (<code>--go-resolve</code>)</li>
<li>Добавлено разрешение зависимостей в maven окружении (<code>--maven-resolve</code>)</li>
<li>Добавлен разрешение зависимостей в yarn окружении (<code>--yarn-resolve</code>)</li>
<li>Улучшены сообщения об ошибках в параметрах запроса</li>
<li>Добавлены переменные URL (<code>cli.api_url</code>) и TOKEN (<code>cli.api_token</code>) инсталляции в конфиг</li>
<li>В summary теперь считается количество уязвимостей, а не пакетов</li>
<li>Увеличена ширина таблиц при невозможности определения ширины терминала</li>
</ul>
<h3 id="changelog-2023490-2023-12-08_1">[2023.49.0] – 2023-12-08<a class="headerlink" href="#changelog-2023490-2023-12-08_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка разбора манифестов Rust <code>cargo.lock</code> и <code>cargo.toml</code></li>
<li>Добавлен параметр <code>--no-recursion</code> для выключения рекурсивного скана команды scan dir </li>
</ul>
<h3 id="changelog-2023480-2023-11-22_1">[2023.48.0] – 2023-11-22<a class="headerlink" href="#changelog-2023480-2023-11-22_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена настройка формата вывода таблицы с результатами <code>-f --format</code> (с возможностью отключения цветов)</li>
<li>Добавлена настройка группировки уязвимостей в выводе <code>-g --group-vulnerabilities-by</code></li>
<li>Добавлена настройка сортировки уязвимостей в выводе <code>-s --sort-vulnerabilities-by</code></li>
<li>Добавлена настройка ограничения по времени ожидания анализа <code>-t --timeout</code></li>
</ul>
<h3 id="changelog-2023430-2023-10-27_1">[2023.43.0] – 2023-10-27<a class="headerlink" href="#changelog-2023430-2023-10-27_1" title="Permanent link">&para;</a></h3>
<ul>
<li>В консольный вывод добавлена сводная информацию о степени критичности уязвимостей</li>
<li>Исправлен разбор манифестов <code>.gradle.kts</code></li>
</ul>
<h3 id="changelog-2023380-2023-09-20_1">[2023.38.0] - 2023-09-20<a class="headerlink" href="#changelog-2023380-2023-09-20_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Улучшен разбор манифестов package.json и composer.json</li>
</ul>
<h3 id="changelog-2023350-2023-08-31_1">[2023.35.0] - 2023-08-31<a class="headerlink" href="#changelog-2023350-2023-08-31_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Улучшен парсинг поля environment для манифестов <code>Gemfile</code> и <code>Gemfile.lock</code></li>
<li>Убрано автоматическое объединение ячеек с одинаковым значением CVSS в таблице с уязвимостями</li>
</ul>
<h3 id="changelog-2023330-2023-08-17">[2023.33.0] - 2023-08-17<a class="headerlink" href="#changelog-2023330-2023-08-17" title="Permanent link">&para;</a></h3>
<ul>
<li>Оптимизирован вывод таблиц в консоль на малых экранах</li>
</ul>
<h3 id="changelog-2023300-2023-07-27_1">[2023.30.0] - 2023-07-27<a class="headerlink" href="#changelog-2023300-2023-07-27_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен парсинг <code>conanfile.py</code> для Conan</li>
<li>Добавлена индикация активного процесса анализа в виде progress bar</li>
<li>Добавлено табличное отображение для вывода алертов и уязвимостей в консоль</li>
<li>Унифицирована обработка слэша в конце строки для команды <code>scan dir</code></li>
</ul>
<h3 id="changelog-2023270-2023-07-06">[2023.27.0] - 2023-07-06<a class="headerlink" href="#changelog-2023270-2023-07-06" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлен panic при анализе некоторых Go проектов</li>
<li>Исправлено сканирование образов в части некорректного определения компонентов, которые не являются зависимостями</li>
</ul>
<h3 id="changelog-2023260-2023-06-30_1">[2023.26.0] - 2023-06-30<a class="headerlink" href="#changelog-2023260-2023-06-30_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Улучшен парсинг <code>gradle-dependency-tree</code> в части работы со строками classPath</li>
<li>Исправлен вывод Policy Alerts в консоль</li>
</ul>
<h3 id="changelog-2023230-2023-06-08">[2023.23.0] - 2023-06-08<a class="headerlink" href="#changelog-2023230-2023-06-08" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен парсинг разных версий формата <code>conan.lock</code></li>
<li>Исправлено сбрасывание признака парсера по достижении пустой строки в <code>conanfile.txt</code></li>
<li>Исправлен парсинг <code>yarn.lock</code> </li>
</ul>
<h3 id="changelog-2023210-2023-05-23">[2023.21.0] - 2023-05-23<a class="headerlink" href="#changelog-2023210-2023-05-23" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен параметр запуска <code>--scan-depth</code> для настройки глубины сканирования архивов</li>
<li>Добавлен флаг <code>--scan-files</code> в команде scan image для сканирования файлов внутри docker-образа</li>
<li>Улучшено определение вложенных зависимостей jar-пакетов</li>
<li>Исправлен парсинг <code>Gemfile</code></li>
</ul>
<h3 id="changelog-2023150-2023-04-14_1">[2023.15.0] - 2023-04-14<a class="headerlink" href="#changelog-2023150-2023-04-14_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен вывод Fixed version</li>
<li>Добавлена возможность сохранения результатов сканирования</li>
<li>Добавлена возможность создания проекта</li>
<li>Добавлен поиск системных зависимостей в docker-образе</li>
<li>Оптимизирован парсинг <code>package-lock</code> v3 манифеста для NPM</li>
<li>Исправлены некоторые ошибки</li>
</ul>
<h3 id="changelog-2023110-2023-03-16_1">[2023.11.0] - 2023-03-16<a class="headerlink" href="#changelog-2023110-2023-03-16_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка консольных команд</li>
<li>Улучшен разбор <code>pyproject.toml</code></li>
<li>Добавлена очистка /tmp директории после сканирования docker образа</li>
</ul>
<h3 id="changelog-202350-2023-02-01">[2023.5.0] - 2023-02-01<a class="headerlink" href="#changelog-202350-2023-02-01" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлено сканирование docker-образов</li>
<li>Изменено поведение при запуске без проекта</li>
<li>Обновлен Golang до 1.19</li>
<li>Исправлено хеширование в архивах с опцией <code>--only-hashes</code></li>
<li>Исправлено определение битых и запароленных архивов</li>
</ul>
<h3 id="changelog-202330-2023-01-20">[2023.3.0] - 2023-01-20<a class="headerlink" href="#changelog-202330-2023-01-20" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена ошибка при парсинге <code>gradle-dependency-tree</code></li>
</ul>
<h3 id="changelog-202320-2023-01-13">[2023.2.0] - 2023-01-13<a class="headerlink" href="#changelog-202320-2023-01-13" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлено сканирование архивов, флаг для запуска <code>--scan-archives</code></li>
</ul>
<h3 id="changelog-2022520-2022-12-30">[2022.52.0] - 2022-12-30<a class="headerlink" href="#changelog-2022520-2022-12-30" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлен парсинг <code>pom.xml</code> в части работы с секцией dependencyManagement</li>
</ul>
<h3 id="changelog-2022500-2022-12-12">[2022.50.0] - 2022-12-12<a class="headerlink" href="#changelog-2022500-2022-12-12" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка парсинга <code>conan.lock</code> файлов</li>
<li>Исправлена передача дополнительных данных для резолвера из Nuget манифестов</li>
</ul>
<h2 id="changelog-nexus-osa">Nexus OSA<a class="headerlink" href="#changelog-nexus-osa" title="Permanent link">&para;</a></h2>
<h3 id="changelog-2024260-2024-06-27">[2024.26.0] - 2024-06-27<a class="headerlink" href="#changelog-2024260-2024-06-27" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена настройка <code>Append repository name to image name for Docker repositories</code> для возможности работы с подходом RepoPath для Docker registries</li>
<li>Удалена возможность ручного запуска сканирования всего репозитория со стороны плагина (флаг <code>Run manual scan on save</code>)</li>
<li>Настройка <code>Block downloads in case of plugin or CodeScoring errors</code> теперь учитывает падение сканирования (статус <code>blocked_scan_failed</code>)</li>
</ul>
<h3 id="changelog-2024210-2024-05-24_2">[2024.21.0] - 2024-05-24<a class="headerlink" href="#changelog-2024210-2024-05-24_2" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена Capability, которая активирует сканирование для всех репозиториев (<code>CodeScoring All Repositories Scan</code>)</li>
<li>Добавлена возможность указания собственного сообщения о блокировке</li>
<li>Добавлена ссылка на причину блокировки в свойства компонента</li>
<li>Понижен уровень логирования для сообщения о пропуске сканирования репозитория</li>
<li>Добавлена настройка URL менеджера репозиториев</li>
</ul>
<h3 id="changelog-202470-2024-02-17">[2024.7.0] – 2024-02-17<a class="headerlink" href="#changelog-202470-2024-02-17" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена ссылка на страницу компонента в CodeScoring в сообщении о блокировке</li>
<li>Добавлено сообщение о блокировке для ситуаций, когда registry не добавлен в CodeScoring</li>
</ul>
<h3 id="changelog-202420-202401-12">[2024.2.0] – 2024–01-12<a class="headerlink" href="#changelog-202420-202401-12" title="Permanent link">&para;</a></h3>
<ul>
<li>Расширен перечень архитектур образов</li>
<li>Добавлена поддержка новых статусов блокировки компонентов</li>
</ul>
<h3 id="changelog-2023480-2023-11-22_2">[2023.48.0] – 2023-11-22<a class="headerlink" href="#changelog-2023480-2023-11-22_2" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен новый режим работы <code>spectator</code></li>
<li>Добавлена поддержка сканирования мультиплатформенных Docker-образов</li>
</ul>
<h3 id="changelog-2023440-2023-10-31_1">[2023.44.0] – 2023-10-31<a class="headerlink" href="#changelog-2023440-2023-10-31_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка сканирования proxy Docker репозиториев на базе Sonatype Nexus и JFrog Artifactory</li>
</ul>
<h3 id="changelog-2023430-2023-10-27_2">[2023.43.0] – 2023-10-27<a class="headerlink" href="#changelog-2023430-2023-10-27_2" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлены различные <a href="#osa-nexus_osa-_3">режимы работы плагина</a></li>
</ul>
<h3 id="changelog-2023400-2023-10-04_1">[2023.40.0] - 2023-10-04<a class="headerlink" href="#changelog-2023400-2023-10-04_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена Capability для проверки образов из Hosted Docker Repository</li>
</ul>
<h3 id="changelog-2023370-2023-09-11">[2023.37.0] - 2023-09-11<a class="headerlink" href="#changelog-2023370-2023-09-11" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена ошибка сохранения результатов сканирования при отсутствии обязательных полей</li>
</ul>
<h3 id="changelog-2023360-2023-09-05">[2023.36.0] - 2023-09-05<a class="headerlink" href="#changelog-2023360-2023-09-05" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена опция блокировки сборки при получении ошибки взаимодействия с инсталляцией CodeScoring</li>
</ul>
<h3 id="changelog-2023330-2023-08-15">[2023.33.0] - 2023-08-15<a class="headerlink" href="#changelog-2023330-2023-08-15" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена опция сохранения результатов сканирования артефакта в базу Nexus</li>
<li>Добавлен метод в API для извлечения результатов сканирования артефакта</li>
</ul>
<h3 id="changelog-2023260-2023-06-30_2">[2023.26.0] - 2023-06-30<a class="headerlink" href="#changelog-2023260-2023-06-30_2" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена поддержка сканирования open-source компонентов в hosted репозиториях</li>
</ul>
<h3 id="changelog-202362-2023-02-09">[2023.6.2] - 2023-02-09<a class="headerlink" href="#changelog-202362-2023-02-09" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена настройка прокси-сервера в конфигурации плагина</li>
</ul>
<h3 id="changelog-202360-2023-02-07">[2023.6.0] - 2023-02-07<a class="headerlink" href="#changelog-202360-2023-02-07" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен параметр HTTP Client Connection Pool Size в конфигурации плагина для управления количеством запросов к инсталляции</li>
</ul>
<h3 id="changelog-202340-2023-01-24">[2023.4.0] - 2023-01-24<a class="headerlink" href="#changelog-202340-2023-01-24" title="Permanent link">&para;</a></h3>
<ul>
<li>Улучшен парсинг компонентов RubyGems</li>
</ul>
<h3 id="changelog-2022510-2022-12-20">[2022.51.0] - 2022-12-20<a class="headerlink" href="#changelog-2022510-2022-12-20" title="Permanent link">&para;</a></h3>
<ul>
<li>Улучшено <a href="#osa-nexus_osa-_4">логирование ответов от инсталляции</a></li>
</ul>
<h2 id="changelog-jfrog-osa">JFrog OSA<a class="headerlink" href="#changelog-jfrog-osa" title="Permanent link">&para;</a></h2>
<h3 id="changelog-2024260-2024-06-28">[2024.26.0] - 2024-06-28<a class="headerlink" href="#changelog-2024260-2024-06-28" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена возможность подключения плагина ко всем поддерживаемым репозиториям без необходимости их перечисления (<code>scanAllRepositories</code>)</li>
<li>Добавлена возможность исключать репозитории из списка подключенных через опцию <code>scanAllRepositories</code></li>
<li>Добавлен флаг <code>deleteBlocked</code> для удаления компонента, если он заблокирован политиками</li>
<li>Добавлена установка свойств компонента: дата сканирования, причина блокировки, ссылка на страницу пакета</li>
<li>Детализировано описание конфигурационного файла</li>
<li>Улучшено логирование при пропуске скана</li>
<li>Флаг <code>blockOnErrors</code> теперь учитывает падение сканирования (статус <code>blocked_scan_failed</code>)</li>
</ul>
<h3 id="changelog-2024110-2024-03-15">[2024.11.0] – 2024-03-15<a class="headerlink" href="#changelog-2024110-2024-03-15" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена ссылка на страницу компонента в CodeScoring в сообщении о блокировке</li>
<li>Добавлено новое сообщение о блокировке компонента в ситуациях, когда registry не добавлен в CodeScoring</li>
<li>Добавлена настройка для работы с Docker registry Repository path (<code>stripRepoNameInDockerImageName</code>)</li>
<li>Улучшено определение имени и версии артифакта для PyPI, NPM, Debian и Alpine репозиториев</li>
<li>Исправлена ошибка сканирования для незакэшированных образов в remote docker репозиториях</li>
</ul>
<h3 id="changelog-202450-2024-02-02_1">[2024.5.0] – 2024-02-02<a class="headerlink" href="#changelog-202450-2024-02-02_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлена обработка zip-архивов в golang репозиториях</li>
<li>Улучшена работа с debian пакетами</li>
<li>Исправлена ошибка проверки alpine пакетов</li>
<li>Исправлено сканирование артифактов в virtual репозиториях</li>
</ul>
<h3 id="changelog-202420-2024-01-12_1">[2024.2.0] – 2024-01-12<a class="headerlink" href="#changelog-202420-2024-01-12_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Расширен перечень архитектур образов</li>
<li>Добавлена поддержка новых статусов блокировки компонентов</li>
<li>Добавлено логирование тела запроса на загрузку компонента и ответа</li>
<li>Исправлена ошибка блокирования пакетов в debug режиме</li>
</ul>
<h3 id="changelog-2023500-2023-12-15">[2023.50.0] – 2023-12-15<a class="headerlink" href="#changelog-2023500-2023-12-15" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен новый режим работы <code>spectator</code> </li>
<li>Добавлена поддержка сканирования мультиплатформенных Docker-образов</li>
<li>Файл для настройки плагина теперь использует формат <code>.yaml</code></li>
<li>Добавлена возможность указания режима работы на каждый репозиторий отдельно</li>
<li>Добавлена возможность изменения значений по умолчанию в файле для настройки</li>
<li>Добавлен параметр HTTP Client Connection Pool Size для управления количеством запросов к инсталляции</li>
<li>Добавлен параметр выключения плагина</li>
</ul>
<h3 id="changelog-2023480-2023-11-23">[2023.48.0] – 2023-11-23<a class="headerlink" href="#changelog-2023480-2023-11-23" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен вывод конфига в лог при старте плагина</li>
</ul>
<h3 id="changelog-2023430-2023-10-27_3">[2023.43.0] – 2023-10-27<a class="headerlink" href="#changelog-2023430-2023-10-27_3" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлены различные <a href="#osa-jfrog_osa-_5">режимы работы плагина</a></li>
<li>Добавлена поддержка сканирования local/remote Docker репозиториев</li>
</ul>
<h3 id="changelog-2023282">[2023.28.2]<a class="headerlink" href="#changelog-2023282" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен префикс <code>CodeScoring:</code> ко всем логам</li>
</ul>
<h3 id="changelog-2023281">[2023.28.1]<a class="headerlink" href="#changelog-2023281" title="Permanent link">&para;</a></h3>
<ul>
<li>Понижен уровень всех ошибок взаимодействия с инсталляцией CodeScoring до <code>[INFO]</code></li>
</ul>
<h3 id="changelog-2023280">[2023.28.0]<a class="headerlink" href="#changelog-2023280" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена ошибка с неработающим флагом <code>blockDownloads</code> в properties</li>
</ul>
<h3 id="changelog-2023270">[2023.27.0]<a class="headerlink" href="#changelog-2023270" title="Permanent link">&para;</a></h3>
<ul>
<li>Добавлен флаг <code>blockDownloads</code> в properties, который позволяет контролировать загрузку пакета при наличия ошибок CodeScoring API или плагина</li>
</ul>
<h3 id="changelog-2023260">[2023.26.0]<a class="headerlink" href="#changelog-2023260" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлено сохранение properties пакета при его скачивании из virtual-репозитория</li>
</ul>
<h3 id="changelog-2023220">[2023.22.0]<a class="headerlink" href="#changelog-2023220" title="Permanent link">&para;</a></h3>
<ul>
<li>Исправлена ошибка с обязательным полем <code>project_name</code> в OSA API</li>
</ul>
<h3 id="changelog-2023210">[2023.21.0]<a class="headerlink" href="#changelog-2023210" title="Permanent link">&para;</a></h3>
<ul>
<li>Изменен формат поставки плагина: теперь он поставляется в виде jar-файла</li>
<li>Изменена инициализация плагина: вместо перезагрузки на каждый запрос происходит единоразовая инициализация при запуске</li>
</ul></section><h1 class='nav-section-title-end'>Ended: Общая информация</h1>
                        <h1 class='nav-section-title' id='section-установка-и-эксплуатация-on-premise'>
                            Установка и эксплуатация on-premise <a class='headerlink' href='#section-установка-и-эксплуатация-on-premise' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="on-premise-server-requirements"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-server-requirements.en">English</a></li>
</ul>
<h1 id="on-premise-server-requirements-_1">Аппаратные требования<a class="headerlink" href="#on-premise-server-requirements-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-server-requirements-_2">Операционная система<a class="headerlink" href="#on-premise-server-requirements-_2" title="Permanent link">&para;</a></h2>
<p>Установка on-premise версии возможна на <strong>GNU/Linux</strong> дистрибутивы (включая отечественные: AstraLinux, AltLinux, RedOS и иные).</p>
<h2 id="on-premise-server-requirements-_3">Ресурсы сервера<a class="headerlink" href="#on-premise-server-requirements-_3" title="Permanent link">&para;</a></h2>
<p><strong>Общая рекомендация по ресурсам: 16Gb RAM, 8 ядер CPU.</strong> </p>
<p>Дополнительно стоит убедиться, что раздел, на котором размещается директория с данными docker (data-root docker, по умолчанию <code>/var</code>), имеет <strong>не менее 20Gb</strong> памяти. При этом для бесперебойного функционирования системы необходимо <strong>резервировать дисковое пространство из расчета размера анализируемых репозиториев, умноженного на три</strong>.</p>
<h2 id="on-premise-server-requirements-_4">Внешние запросы<a class="headerlink" href="#on-premise-server-requirements-_4" title="Permanent link">&para;</a></h2>
<p>Для установки системы должен быть доступен Docker Registry с образами CodeScoring, адрес которого предоставляется вместе с ключом активации.</p>
<p>Для корректной работы с сервера также должен быть доступен адрес <code>index.codescoring.ru</code> с постоянно актуализируемой базой известных пакетов, их атрибутов и уязвимостей.</p>
<p>Из Index API инсталляция получает обогащенную информацию по найденным зависимостям, их лицензиям и уязвимостями.</p>
<p>Общая архитектура работы представлена на изображении ниже.</p>
<p><img alt="CodeScoring on-premise architecture" src="/assets/img/on-premise-architecture.png" /></p>
<p>Из инсталляции в облако CodeScoring не отправляется исходный код, но для получения информации по зависимостям отправляется:</p>
<ol>
<li>анонимизированная информация по найденным манифестам пакетных менеджеров и их содержимому;</li>
<li>хэши файлов исходного кода для поиска прямых включений Open Source библиотек в код проектов.</li>
</ol>
<p>Пути манифестов и названия хэшируемых файлов специально анонимизируются. От инсталляции в облако <strong>не уходят</strong> хэши файлов, размер которых не превышает 512 байт.</p>
<p>Пример содержимого запроса от инсталляции к Index API с данными по манифестам пакетных менеджеров:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-server-requirements-__codelineno-0-1"></a><span class="p">[</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-server-requirements-__codelineno-0-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#on-premise-server-requirements-__codelineno-0-3"></a><span class="w">    </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;114bc73d-a9ba-433d-9a3e-f2b29d822204&quot;</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#on-premise-server-requirements-__codelineno-0-4"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#on-premise-server-requirements-__codelineno-0-5"></a><span class="w">    </span><span class="nt">&quot;extension&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#on-premise-server-requirements-__codelineno-0-6"></a><span class="w">    </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#on-premise-server-requirements-__codelineno-0-7"></a><span class="w">      </span><span class="nt">&quot;platform&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pypi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#on-premise-server-requirements-__codelineno-0-8"></a><span class="w">      </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#on-premise-server-requirements-__codelineno-0-9"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#on-premise-server-requirements-__codelineno-0-10"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;django&quot;</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#on-premise-server-requirements-__codelineno-0-11"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;==3.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#on-premise-server-requirements-__codelineno-0-12"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#on-premise-server-requirements-__codelineno-0-13"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev&quot;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#on-premise-server-requirements-__codelineno-0-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#on-premise-server-requirements-__codelineno-0-15"></a><span class="w">      </span><span class="p">],</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#on-premise-server-requirements-__codelineno-0-16"></a><span class="w">      </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;manifest&quot;</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#on-premise-server-requirements-__codelineno-0-17"></a><span class="w">      </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#on-premise-server-requirements-__codelineno-0-18"></a><span class="w">      </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#on-premise-server-requirements-__codelineno-0-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#on-premise-server-requirements-__codelineno-0-20"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#on-premise-server-requirements-__codelineno-0-21"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#on-premise-server-requirements-__codelineno-0-22"></a><span class="w">    </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;efde2364-dc0c-45a9-905a-a487b3361ac7&quot;</span><span class="p">,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#on-premise-server-requirements-__codelineno-0-23"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#on-premise-server-requirements-__codelineno-0-24"></a><span class="w">    </span><span class="nt">&quot;extension&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.xml&quot;</span><span class="p">,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#on-premise-server-requirements-__codelineno-0-25"></a><span class="w">    </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#on-premise-server-requirements-__codelineno-0-26"></a><span class="w">      </span><span class="nt">&quot;platform&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;maven&quot;</span><span class="p">,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#on-premise-server-requirements-__codelineno-0-27"></a><span class="w">      </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#on-premise-server-requirements-__codelineno-0-28"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#on-premise-server-requirements-__codelineno-0-29"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;org.liquibase:liquibase-core&quot;</span><span class="p">,</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#on-premise-server-requirements-__codelineno-0-30"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.6.2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#on-premise-server-requirements-__codelineno-0-31"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.6.2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#on-premise-server-requirements-__codelineno-0-32"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;compile&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#on-premise-server-requirements-__codelineno-0-33"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#on-premise-server-requirements-__codelineno-0-34"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#on-premise-server-requirements-__codelineno-0-35"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xpp3:xpp3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#on-premise-server-requirements-__codelineno-0-36"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.1.4c&quot;</span><span class="p">,</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#on-premise-server-requirements-__codelineno-0-37"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.1.4c&quot;</span><span class="p">,</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#on-premise-server-requirements-__codelineno-0-38"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;compile&quot;</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#on-premise-server-requirements-__codelineno-0-39"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#on-premise-server-requirements-__codelineno-0-40"></a><span class="w">      </span><span class="p">],</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#on-premise-server-requirements-__codelineno-0-41"></a><span class="w">      </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;manifest&quot;</span><span class="p">,</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#on-premise-server-requirements-__codelineno-0-42"></a><span class="w">      </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#on-premise-server-requirements-__codelineno-0-43"></a><span class="w">      </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#on-premise-server-requirements-__codelineno-0-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#on-premise-server-requirements-__codelineno-0-45"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#on-premise-server-requirements-__codelineno-0-46"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#on-premise-server-requirements-__codelineno-0-47"></a><span class="w">    </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;49dd4c09-b5de-474a-998a-3ce0a94a5221&quot;</span><span class="p">,</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#on-premise-server-requirements-__codelineno-0-48"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#on-premise-server-requirements-__codelineno-0-49"></a><span class="w">    </span><span class="nt">&quot;extension&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#on-premise-server-requirements-__codelineno-0-50"></a><span class="w">    </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#on-premise-server-requirements-__codelineno-0-51"></a><span class="w">      </span><span class="nt">&quot;platform&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pypi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#on-premise-server-requirements-__codelineno-0-52"></a><span class="w">      </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#on-premise-server-requirements-__codelineno-0-53"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#on-premise-server-requirements-__codelineno-0-54"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;apt-wrapper&quot;</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#on-premise-server-requirements-__codelineno-0-55"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;==1.18&quot;</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#on-premise-server-requirements-__codelineno-0-56"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.18&quot;</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#on-premise-server-requirements-__codelineno-0-57"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;runtime&quot;</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#on-premise-server-requirements-__codelineno-0-58"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#on-premise-server-requirements-__codelineno-0-59"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#on-premise-server-requirements-__codelineno-0-60"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;django&quot;</span><span class="p">,</span>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#on-premise-server-requirements-__codelineno-0-61"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;==2.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#on-premise-server-requirements-__codelineno-0-62"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#on-premise-server-requirements-__codelineno-0-63"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;runtime&quot;</span>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#on-premise-server-requirements-__codelineno-0-64"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#on-premise-server-requirements-__codelineno-0-65"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#on-premise-server-requirements-__codelineno-0-66"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text-unidecode&quot;</span><span class="p">,</span>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#on-premise-server-requirements-__codelineno-0-67"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;==1.3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#on-premise-server-requirements-__codelineno-0-68"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#on-premise-server-requirements-__codelineno-0-69"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;runtime&quot;</span>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#on-premise-server-requirements-__codelineno-0-70"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#on-premise-server-requirements-__codelineno-0-71"></a><span class="w">      </span><span class="p">],</span>
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#on-premise-server-requirements-__codelineno-0-72"></a><span class="w">      </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;manifest&quot;</span><span class="p">,</span>
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#on-premise-server-requirements-__codelineno-0-73"></a><span class="w">      </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#on-premise-server-requirements-__codelineno-0-74"></a><span class="w">      </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#on-premise-server-requirements-__codelineno-0-75"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#on-premise-server-requirements-__codelineno-0-76"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#on-premise-server-requirements-__codelineno-0-77"></a><span class="p">]</span>
</code></pre></div>
<p>Пример содержимого запроса от инсталляции к Index API с данными по хэшам файлов исходного кода:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-server-requirements-__codelineno-1-1"></a><span class="p">[</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#on-premise-server-requirements-__codelineno-1-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#on-premise-server-requirements-__codelineno-1-3"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ca028ad9-0676-4c85-a5b0-9bf81fba6fcc&quot;</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#on-premise-server-requirements-__codelineno-1-4"></a><span class="w">    </span><span class="nt">&quot;ext&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.xml&quot;</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#on-premise-server-requirements-__codelineno-1-5"></a><span class="w">    </span><span class="nt">&quot;sha256&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e01c736a351633932e8b3ed041e553f67968e07d35d2c153b02b60e910a8c433&quot;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#on-premise-server-requirements-__codelineno-1-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#on-premise-server-requirements-__codelineno-1-7"></a><span class="p">]</span>
</code></pre></div></section><section class="print-page" id="on-premise-installation"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-installation.en">English</a></li>
</ul>
<h1 id="on-premise-installation-_1">Установка системы<a class="headerlink" href="#on-premise-installation-_1" title="Permanent link">&para;</a></h1>
<ol>
<li>Установить Docker Engine под нужную операционную систему в соответствии с документацией: <a href="https://docs.docker.com/engine/install/">https://docs.docker.com/engine/install/</a>.</li>
<li>Установить <a href="https://github.com/docker/compose/releases/tag/1.29.2">Docker Compose</a> в соответствии с документацией: <a href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a>.</li>
<li>Авторизоваться в приватном реестре Docker-образов системы «CodeScoring» при помощи команды <code>docker login registry-one.codescoring.ru</code>, используя логин и пароль, полученные от вендора.</li>
<li>Скачать полученный от вендора архив с установочными файлами, распаковать.</li>
<li>Перейти в консоли в созданную директорию.</li>
<li>
<p>Скопировать шаблонный файл с настройками:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-installation-__codelineno-0-1"></a>cp<span class="w"> </span>app.env.template<span class="w"> </span>app.env
</code></pre></div>
Как правило, для корректной работы никаких изменений в файле не требуется. При необходимости настройки работы <strong>CodeScoring</strong> через прокси, обратите внимание на <a href="#on-premise-proxy">инструкцию</a></p>
</li>
<li>
<p>Скопировать шаблонный файл с секретами:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-installation-__codelineno-1-1"></a>cp .env.template .env
</code></pre></div>
При необходимости настроить параметры конфигурации в новом файле.
Если не менять параметры в файле, то по умолчанию система будет доступна по адресу <code>http://localhost:8081</code>.</p>
<ul>
<li>Список доменов для правильной работы CSRF защиты. Рекомендуется перечислить localhost на внутреннем и внешнем портах, а также внешний домен (или сочетание ip:порт). Указание протокола является обязательным, например:<ul>
<li><code>DJANGO_CSRF_TRUSTED_ORIGINS=http://localhost:18000,https://localhost:8081,https://внешний ip:8081</code></li>
</ul>
</li>
<li>Параметры подключения к базе данных PostgreSQL. База поставляется вместе с установкой. Указание доступов отдельно является мерой предосторожности и контроля. При использовании собственной базы данных необходимо убедиться, что она соответствует версии PostgreSQL 13.0 или выше.<ul>
<li><code>POSTGRES_DB</code> — название базы данных</li>
<li><code>POSTGRES_USER</code> — имя пользователя. При использовании собственной базы необходимо убедиться, что пользователь имеет следующие права: <strong>Superuser</strong>, <strong>Create role</strong>, <strong>Create DB</strong>, <strong>Replication</strong>, <strong>Bypass RLS</strong>.</li>
<li><code>POSTGRES_PASSWORD</code> — пароль</li>
<li><code>POSTGRES_HOST</code> - хост, на котором доступна база данных</li>
<li><code>POSTGRES_PORT</code> - порт, на котором доступна база данных</li>
</ul>
</li>
<li>Секрет инсталляции<ul>
<li><code>SECRET_KEY</code> — случайная строка символов</li>
</ul>
</li>
<li>Настройки домена системы<ul>
<li><code>NGINX_HOST</code> — хост, на котором будет доступна система</li>
<li><code>NGINX_PORT</code> — порт, на котором будет доступна система</li>
<li><code>SITE_SCHEME</code> - протокол передачи данных, по умолчанию https</li>
</ul>
</li>
<li>Пути исключений<ul>
<li><code>ANALYSIS_IGNORED_PATHS</code> - список путей, которые будут игнорироваться системой при анализе. Подробнее с добавлением путей исключения можно ознакомиться <a href="#on-premise-analysis-ignore-paths">тут</a></li>
</ul>
</li>
<li>Версия системы<ul>
<li><code>CODESCORING_VERSION</code> – обязательная переменная. Актуальную версию можно узнать в разделе <a href="#changelog">Changelog</a></li>
</ul>
</li>
</ul>
<p><strong>Примечание</strong>: не используйте в параметрах символ <code>#</code>, он может некорректно восприниматься системой при установке.</p>
</li>
<li>
<p>Выполнить команду установки CodeScoring (выполнение команды должно быть с правами суперпользователя системы):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-installation-__codelineno-2-1"></a><span class="nb">cd</span><span class="w"> </span>/path/to/docker-compose
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#on-premise-installation-__codelineno-2-2"></a>docker-compose<span class="w"> </span>-p<span class="w"> </span>PROJECT_NAME<span class="w"> </span>-f<span class="w"> </span>./docker-compose.yml<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--force-recreate<span class="w"> </span>--remove-orphans<span class="w"> </span>--renew-anon-volumes
</code></pre></div>
<p><code>PROJECT_NAME</code> — здесь и далее выбранное название проекта, по умолчанию использует название текущей директории</p>
</li>
<li>
<p>Для просмотра логов можно использовать команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-installation-__codelineno-3-1"></a>docker-compose<span class="w"> </span>-p<span class="w"> </span>PROJECT_NAME<span class="w"> </span>logs<span class="w"> </span>-f
</code></pre></div>
</li>
<li>
<p>После запуска сервис будет доступен по настроенному домену или адресу <code>http://localhost:8081</code>. При первом запуске дополнительно выполняются миграции базы данных, операция может занять больше времени, чем при последующих запусках.</p>
<p><strong>Примечание</strong>: для работы инсталляции по протоколу https нужен внешний балансировщик, который реализует терминирование ssl.</p>
</li>
<li>
<p>Для входа в систему необходимо предварительно создать пользователя с правами администратора с помощью следующей команды (заменив <code>prefix</code> значением <code>PROJECT_NAME</code> из пункта 8):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-installation-__codelineno-4-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>prefix_backend_1<span class="w"> </span>python<span class="w"> </span>./manage.py<span class="w"> </span>createsuperuser
</code></pre></div>
</li>
</ol></section><section class="print-page" id="on-premise-installation-in-k8s"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-installation-in-k8s.en">English</a></li>
</ul>
<h1 id="on-premise-installation-in-k8s-kubernetes">Работа системы в Kubernetes<a class="headerlink" href="#on-premise-installation-in-k8s-kubernetes" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-installation-in-k8s-helm-c">Установка с помощью Helm-чарта c параметрами по умолчанию<a class="headerlink" href="#on-premise-installation-in-k8s-helm-c" title="Permanent link">&para;</a></h2>
<p><strong>Важно!</strong>: Данный вариант установки не предоставляет возможность горизонтального масштабирования CodeScoring. Для установки CodeScoring с поддержкой горизонтального масштабирования обратитесь к соответствующему разделу документации ниже.</p>
<p><strong>Важно!</strong>: Необходимо наличие настроенного default <code>StorageClass</code> в кластере. По умолчанию создаются тома <strong>объемом 20 GiB</strong></p>
<p><strong>Порядок установки:</strong></p>
<ol>
<li>
<p>Создать namespace.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-installation-in-k8s-__codelineno-0-1"></a>kubectl create namespace codescoring
</code></pre></div>
</li>
<li>
<p>Создать secret для доступа к приватному реестру Docker-образов системы "CodeScoring", используя адрес (<code>REGISTRY_URL</code>), логин (<code>USERNAME</code>) и пароль (<code>PASSWORD</code>), полученные от вендора.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-installation-in-k8s-__codelineno-1-1"></a>kubectl create secret docker-registry codescoring-regcred --docker-server=REGISTRY_URL --docker-username=USERNAME --docker-password=PASSWORD -n codescoring
</code></pre></div>
</li>
<li>
<p>Установить <a href="https://helm.sh/docs/intro/install/">Helm</a> предпочтительным способом. </p>
</li>
<li>
<p>Выполнить следующие команды для добавления актуального Helm-репозитория на локальную машину:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-installation-in-k8s-__codelineno-2-1"></a>helm repo add codescoring-org https://registry-one.codescoring.ru/repository/helm/ --username USERNAME --password PASSWORD
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#on-premise-installation-in-k8s-__codelineno-2-2"></a>helm repo update
</code></pre></div></p>
</li>
<li>
<p>Создать файл <code>values.yaml</code> со следующим содержимым:</p>
<p><strong>Важно!</strong>: Пожалуйста, замените значения в полях с чувствительными данными на собственные. К таким полям относятся <code>secretKey</code>, <code>defaultSuperuserUsername</code>, <code>defaultSuperuserPassword</code>, <code>defaultSuperuserEmail</code>, а также все поля, содержащие <code>username</code> или <code>password</code>. Также важно учитывать, что все подобные переменные являются обязательными. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-installation-in-k8s-__codelineno-3-1"></a>codescoring:
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#on-premise-installation-in-k8s-__codelineno-3-2"></a>  config:
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#on-premise-installation-in-k8s-__codelineno-3-3"></a>    ## codescoring-backend configuration parameters
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#on-premise-installation-in-k8s-__codelineno-3-4"></a>    siteScheme: https # схема сайта http или https
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#on-premise-installation-in-k8s-__codelineno-3-5"></a>    siteHost: &quot;codescoring.k8s.local&quot; # домен, по которому будет доступен CodeScoring
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#on-premise-installation-in-k8s-__codelineno-3-6"></a>    djangoCSRFTrustedOptions: &quot;https://codescoring.k8s.local&quot; # Домен, по которому будет доступен CodeScoring, включая схему
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#on-premise-installation-in-k8s-__codelineno-3-7"></a>    secretKey: &quot;&quot; # секретный ключ для бэкенда приложения, случайная строка символов
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#on-premise-installation-in-k8s-__codelineno-3-8"></a>    defaultSuperuserUsername: &quot;admin&quot; # имя администратора в системе 
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#on-premise-installation-in-k8s-__codelineno-3-9"></a>    defaultSuperuserPassword: &quot;changeme&quot; # пароль администратора в системе
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#on-premise-installation-in-k8s-__codelineno-3-10"></a>    defaultSuperuserEmail: &quot;mail@example.com&quot; # e-mail администратора в системе
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#on-premise-installation-in-k8s-__codelineno-3-11"></a>    databaseHost: ipcs-pgcat
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#on-premise-installation-in-k8s-__codelineno-3-12"></a>    databasePort: 5432
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#on-premise-installation-in-k8s-__codelineno-3-13"></a>    postgresqlDatabase: &quot;codescoring&quot;
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#on-premise-installation-in-k8s-__codelineno-3-14"></a>    postgresqlUsername: &quot;codescoring&quot;
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#on-premise-installation-in-k8s-__codelineno-3-15"></a>    postgresqlPassword: &quot;changeme&quot; # пароль должен совпадать с паролем у pgcat.postgresql.password
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#on-premise-installation-in-k8s-__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#on-premise-installation-in-k8s-__codelineno-3-17"></a>  pgcat:
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#on-premise-installation-in-k8s-__codelineno-3-18"></a>    adminPassword: &quot;changeme&quot;
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#on-premise-installation-in-k8s-__codelineno-3-19"></a>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#on-premise-installation-in-k8s-__codelineno-3-20"></a>    postgresql:
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#on-premise-installation-in-k8s-__codelineno-3-21"></a>      host: &quot;codescoring-postgresql&quot;
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#on-premise-installation-in-k8s-__codelineno-3-22"></a>      port: 5432
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#on-premise-installation-in-k8s-__codelineno-3-23"></a>      username: &quot;codescoring&quot;
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#on-premise-installation-in-k8s-__codelineno-3-24"></a>      password: &quot;changeme&quot; # пароль должен совпадать с паролем в codescoring.postgresqlPassword
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#on-premise-installation-in-k8s-__codelineno-3-25"></a>      database: &quot;codescoring&quot;
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#on-premise-installation-in-k8s-__codelineno-3-26"></a>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#on-premise-installation-in-k8s-__codelineno-3-27"></a>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#on-premise-installation-in-k8s-__codelineno-3-28"></a>  frontend:
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#on-premise-installation-in-k8s-__codelineno-3-29"></a>    ingress:
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#on-premise-installation-in-k8s-__codelineno-3-30"></a>      enabled: true
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#on-premise-installation-in-k8s-__codelineno-3-31"></a>      className: &quot;nginx&quot;
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#on-premise-installation-in-k8s-__codelineno-3-32"></a>      hosts:
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#on-premise-installation-in-k8s-__codelineno-3-33"></a>        - host: codescoring.k8s.local # домен, по которому будет доступен CodeScoring
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#on-premise-installation-in-k8s-__codelineno-3-34"></a>          paths:
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#on-premise-installation-in-k8s-__codelineno-3-35"></a>            - path: /
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#on-premise-installation-in-k8s-__codelineno-3-36"></a>              pathType: ImplementationSpecific
</code></pre></div>
</li>
<li>
<p>Выполнить команду для установки чарта
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-installation-in-k8s-__codelineno-4-1"></a>helm install codescoring codescoring-org/codescoring -n codescoring -f values.yaml --create-namespace --atomic --version CHART_VERSION
</code></pre></div></p>
</li>
</ol>
<h2 id="on-premise-installation-in-k8s-helm-">Расширенные настройки параметров Helm-чарта<a class="headerlink" href="#on-premise-installation-in-k8s-helm-" title="Permanent link">&para;</a></h2>
<p><strong>Важно!</strong>: Настоятельно рекомендуется вносить необходимые изменения <strong>до установки CodeScoring</strong>, в противном случае может потребоваться полная переустановка системы. Данные инструкции предполагают, что <strong>специалист имеет опыт работы с кластером Kubernetes и утилитой Helm</strong>.</p>
<p>Для удобного редактирования параметров CodeScoring можно скачать и распаковать исходный код Helm-чарта командой:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#on-premise-installation-in-k8s-__codelineno-5-1"></a>helm pull codescoring-org/codescoring --version CHART_VERSION --untar --untardir codescoring-src &amp;&amp; cd codescoring-src
</code></pre></div>
<p>В файле <code>values.yaml</code> можно отредактировать нужные переменные, и после этого, находясь в каталоге с исходным кодом Helm-чарта, выполнить команду установки
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#on-premise-installation-in-k8s-__codelineno-6-1"></a>helm install codescoring . -f values.yaml -n codescoring --atomic --version CHART_VERSION
</code></pre></div></p>
<h3 id="on-premise-installation-in-k8s-postgresql-redis">Подключение к внешним PostgreSQL и Redis<a class="headerlink" href="#on-premise-installation-in-k8s-postgresql-redis" title="Permanent link">&para;</a></h3>
<p>По умолчанию PostgreSQL и Redis запускаются в отдельных <code>StatefulSet</code>. Данный вариант может не подходить для использования в <strong>production-окружении</strong> , т.к. не является отказоустойчивым.</p>
<h4 id="on-premise-installation-in-k8s-redis">Подключение к внешнему Redis<a class="headerlink" href="#on-premise-installation-in-k8s-redis" title="Permanent link">&para;</a></h4>
<p>Для подключения к внешнему Redis, необходимо выполнить следующие действия:</p>
<ol>
<li>Отключить развертывание Redis, указав переменную -  <code>redis.enabled: false</code></li>
<li>В переменных <code>codescoring.config.djangoCachesRedisUrls</code> и <code>codescoring.config.hueyRedisUrl</code> указать строки подключения для внешнего Redis.</li>
</ol>
<h4 id="on-premise-installation-in-k8s-postgresql-pgcat">Подключение к PostgreSQL через пулер PgCat<a class="headerlink" href="#on-premise-installation-in-k8s-postgresql-pgcat" title="Permanent link">&para;</a></h4>
<p><strong>Важно!</strong>: Подключение к внешней PostgreSQL необходимо выполнять с использованием пулера соединений.</p>
<p>Данный вариант подходит, если в существующей инфраструктуре уже развернута PostgreSQL, но пулер соединений не используется. Helm-чарт развернет пулер <a href="https://github.com/postgresml/pgcat">PgCat</a> и подключит его к существующей PostgreSQL. Необходимо выполнить следующие действия:</p>
<ol>
<li>
<p>Отключить развертывание PostgreSQL, указав переменную - <code>postgresql.enabled: false</code></p>
</li>
<li>
<p>Подключить пулер PgCat к внешней PostgreSQL, заменив соответствующие параметры на нужные:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#on-premise-installation-in-k8s-__codelineno-7-1"></a>codescoring:
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#on-premise-installation-in-k8s-__codelineno-7-2"></a>  config:
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#on-premise-installation-in-k8s-__codelineno-7-3"></a>    postgresqlDatabase: &quot;codescoring&quot;
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#on-premise-installation-in-k8s-__codelineno-7-4"></a>    postgresqlUsername: &quot;codescoring&quot;
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#on-premise-installation-in-k8s-__codelineno-7-5"></a>    postgresqlPassword: &quot;changeme&quot;
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#on-premise-installation-in-k8s-__codelineno-7-6"></a>  pgcat:
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#on-premise-installation-in-k8s-__codelineno-7-7"></a>    postgresql:
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#on-premise-installation-in-k8s-__codelineno-7-8"></a>      host: &quot;postgresql.example.host&quot;
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#on-premise-installation-in-k8s-__codelineno-7-9"></a>      port: 5432
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#on-premise-installation-in-k8s-__codelineno-7-10"></a>      username: &quot;codescoring&quot;
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#on-premise-installation-in-k8s-__codelineno-7-11"></a>      password: &quot;changeme&quot;
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#on-premise-installation-in-k8s-__codelineno-7-12"></a>      database: &quot;codescoring&quot;
</code></pre></div></p>
</li>
</ol>
<h4 id="on-premise-installation-in-k8s-postgresql">Подключение к внешнему пулеру PostgreSQL.<a class="headerlink" href="#on-premise-installation-in-k8s-postgresql" title="Permanent link">&para;</a></h4>
<p>Данный вариант подходит, если в существующей инфраструктуре уже развернута PostgreSQL и пулер соединений (например, PgBouncer).
В этом случае развертывание пулера PgCat не требуется. Необходимо выполнить следующие действия:</p>
<ol>
<li>Отключить развертывание PostgreSQL, указав переменную - <code>postgresql.enabled: false</code></li>
<li>Отключить развертывание PgCat, указав переменную - <code>codescoring.pgcat.enabled: false</code></li>
<li>Подключить codescoring напрямую к внешнему пулеру, в секции <code>codescoring.config</code> параметры:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#on-premise-installation-in-k8s-__codelineno-8-1"></a>posgtresqlHost: ipcs-pgcat
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#on-premise-installation-in-k8s-__codelineno-8-2"></a>posgtresqlPort: 5432
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#on-premise-installation-in-k8s-__codelineno-8-3"></a>postgresqlDatabase: &quot;codescoring&quot;
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#on-premise-installation-in-k8s-__codelineno-8-4"></a>postgresqlUsername: &quot;codescoring&quot;
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#on-premise-installation-in-k8s-__codelineno-8-5"></a>postgresqlPassword: &quot;changeme&quot;
</code></pre></div>
<h3 id="on-premise-installation-in-k8s-pv">Настройка томов (PV)<a class="headerlink" href="#on-premise-installation-in-k8s-pv" title="Permanent link">&para;</a></h3>
<p>По умолчанию чарт создает необходимые тома через <a href="https://kubernetes.io/docs/concepts/storage/dynamic-provisioning/">Dynamic Volume Provisioning</a> с использованием <code>StorageClass</code> по умолчанию (default). В случае, если данный вариант развертывания томов не подходит, присутствует возможность гибко настроить создание томов несколькими способами. </p>
<p><strong>Важно!</strong>: Описанные ниже опции являются <strong>взаимоисключающими</strong>. Необходимо выбрать <strong>ТОЛЬКО ОДИН</strong> вариант развертывания для каждого тома. Допускается выбор разных вариантов развертывания для разных томов.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Для изменения размера создаваемых томов (за исключением локальных) необходимо изменить параметр <code>size</code> в соответствующих секциях</p>
</div>
<h4 id="on-premise-installation-in-k8s-dynamic-volume-provisioning-storageclass">Dynamic Volume Provisioning с использованием требуемого StorageClass<a class="headerlink" href="#on-premise-installation-in-k8s-dynamic-volume-provisioning-storageclass" title="Permanent link">&para;</a></h4>
<p>Задать требуемый <code>StorageClass</code> можно в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.storageClass</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.storageClass</code></li>
<li><code>codescoring.backup.persistentVolume.storageClass</code></li>
<li><code>redis.persistentVolume.storageClass</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.storageClass</code> (если используется встроенная PostgreSQL)</li>
</ul>
<p>В этом случае, будут созданы тома с использованием заданного <code>StorageClass</code></p>
<h4 id="on-premise-installation-in-k8s-persistentvolumeclaim-persistentvolume">PersistentVolumeClaim для заранее созданных PersistentVolume<a class="headerlink" href="#on-premise-installation-in-k8s-persistentvolumeclaim-persistentvolume" title="Permanent link">&para;</a></h4>
<p>Название предварительно созданных томов можно задать в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.volumeName</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.volumeName</code></li>
<li><code>codescoring.backup.persistentVolume.volumeName</code></li>
<li><code>redis.persistentVolume.volumeName</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.volumeName</code> (если используется встроенная PostgreSQL)</li>
</ul>
<p>В этом случае будут созданы только <code>PersistentVolumeClaim</code> для томов, заданных в этих переменных</p>
<h4 id="on-premise-installation-in-k8s-persistentvolumeclaim">Использование предварительно созданных PersistentVolumeClaim<a class="headerlink" href="#on-premise-installation-in-k8s-persistentvolumeclaim" title="Permanent link">&para;</a></h4>
<p>Название предварительно созданных PVC можно задать в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.existingClaim</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.existingClaim</code></li>
<li><code>codescoring.backup.persistentVolume.existingClaim</code></li>
<li><code>redis.persistentVolume.existingClaim</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.exsistingClaim</code> (если используется встроенная PostgreSQL)</li>
</ul>
<p>В этом случае указанное название PVC будет подставлено в секцию <code>volumes</code> для <code>Pod</code> напрямую.</p>
<h4 id="on-premise-installation-in-k8s-_1">Использование локальных томов<a class="headerlink" href="#on-premise-installation-in-k8s-_1" title="Permanent link">&para;</a></h4>
<p>При отсутствии в кластере Kubernetes внешнего хранилища данных возможен запуск CodeScoring с использованием локальных томов. В этом случае данные будут хранится на одной из нод кластера. </p>
<p>Для создания локальных томов необходимо выполнить следующие действия:</p>
<ol>
<li>
<p>Присвоить значение <code>true</code> следующим переменным:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.localVolume.enabled</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.localVolume.enabled</code></li>
<li><code>codescoring.backup.persistentVolume.localVolume.enabled</code></li>
<li><code>redis.persistentVolume.localVolume.enabled</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.localVolume.enabled</code> (если используется встроенная PostgreSQL)</li>
</ul>
</li>
<li>
<p>Задать путь до <strong>каталога на ноде кластера</strong>, в котором будут размещены данные в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.localVolume.path</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.localVolume.path</code></li>
<li><code>codescoring.backup.persistentVolume.localVolume.path</code></li>
<li><code>redis.persistentVolume.localVolume.path</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.localVolume.path</code> (если используется встроенная PostgreSQL)</li>
</ul>
</li>
<li>
<p>Указать название ноды, на которой будет создан локальный том в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.localVolume.nodeHostname</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.localVolume.nodeHostname</code></li>
<li><code>codescoring.backup.persistentVolume.localVolume.nodeHostname</code></li>
<li><code>redis.persistentVolume.localVolume.nodeHostname</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.localVolume.nodeHostname</code> (если используется встроенная PostgreSQL)</li>
</ul>
</li>
</ol>
<p>Допускается использование разных нод для разных томов.</p>
<h4 id="on-premise-installation-in-k8s-_2">Настройка хранилища для временных файлов сканирований<a class="headerlink" href="#on-premise-installation-in-k8s-_2" title="Permanent link">&para;</a></h4>
<p>По умолчанию временные файлы в процессе сканирования хранятся в директории <code>/tmp</code> внутри контейнеров, к которой монтируются Ephemeral Volumes типа <code>emptyDir</code>:</p>
<ul>
<li><code>codescoring.huey.ipcsQueue.ephemeralVolumes</code></li>
<li><code>codescoring.huey.tasksOsaContainerImageScan.ephemeralVolumes</code></li>
<li><code>codescoring.huey.tasksOsaPackageScan.ephemeralVolumes</code></li>
</ul>
<p>Однако в некоторых случаях может потребоваться использовать Persistent Volume вместо Ephemeral Volume. В таком случае следует закомментировать соответствующие секции в <code>ephemeralVolumes</code> для одного или нескольких сервисов, в зависимости от того, для каких сервисов требуется монтировать тома:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#on-premise-installation-in-k8s-__codelineno-9-1"></a>codescoring:
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#on-premise-installation-in-k8s-__codelineno-9-2"></a>  huey:
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#on-premise-installation-in-k8s-__codelineno-9-3"></a>    ipcsQueue:
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#on-premise-installation-in-k8s-__codelineno-9-4"></a>      ephemeralVolumes:
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#on-premise-installation-in-k8s-__codelineno-9-5"></a>        volumeMounts:
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#on-premise-installation-in-k8s-__codelineno-9-6"></a>        # - mountPath: /tmp
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#on-premise-installation-in-k8s-__codelineno-9-7"></a>        #   name: ipcs-queue-tmp
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#on-premise-installation-in-k8s-__codelineno-9-8"></a>        - mountPath: /etc/ssl/certs
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#on-premise-installation-in-k8s-__codelineno-9-9"></a>          name: ipcs-queue-ssl-certs
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#on-premise-installation-in-k8s-__codelineno-9-10"></a>        volumes:
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#on-premise-installation-in-k8s-__codelineno-9-11"></a>        # - name: ipcs-queue-tmp
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#on-premise-installation-in-k8s-__codelineno-9-12"></a>        #   emptyDir: {}
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#on-premise-installation-in-k8s-__codelineno-9-13"></a>        - name: ipcs-queue-ssl-certs
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#on-premise-installation-in-k8s-__codelineno-9-14"></a>          emptyDir: {}
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#on-premise-installation-in-k8s-__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#on-premise-installation-in-k8s-__codelineno-9-16"></a>    tasksOsaContainerImageScan:
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#on-premise-installation-in-k8s-__codelineno-9-17"></a>      ephemeralVolumes:
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#on-premise-installation-in-k8s-__codelineno-9-18"></a>        volumeMounts:
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#on-premise-installation-in-k8s-__codelineno-9-19"></a>        # - mountPath: /tmp
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#on-premise-installation-in-k8s-__codelineno-9-20"></a>        #   name: container-image-scan-tmp
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#on-premise-installation-in-k8s-__codelineno-9-21"></a>        - mountPath: /etc/ssl/certs
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#on-premise-installation-in-k8s-__codelineno-9-22"></a>          name: container-image-scan-ssl-certs
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#on-premise-installation-in-k8s-__codelineno-9-23"></a>        volumes:
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#on-premise-installation-in-k8s-__codelineno-9-24"></a>        # - name: container-image-scan-tmp
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#on-premise-installation-in-k8s-__codelineno-9-25"></a>        #   emptyDir: {}
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#on-premise-installation-in-k8s-__codelineno-9-26"></a>        - name: container-image-scan-ssl-certs
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#on-premise-installation-in-k8s-__codelineno-9-27"></a>          emptyDir: {}
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#on-premise-installation-in-k8s-__codelineno-9-28"></a>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#on-premise-installation-in-k8s-__codelineno-9-29"></a>    tasksOsaPackageScan:
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#on-premise-installation-in-k8s-__codelineno-9-30"></a>      ephemeralVolumes:
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#on-premise-installation-in-k8s-__codelineno-9-31"></a>        volumeMounts:
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#on-premise-installation-in-k8s-__codelineno-9-32"></a>        # - mountPath: /tmp
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#on-premise-installation-in-k8s-__codelineno-9-33"></a>        #   name: package-scan-tmp
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#on-premise-installation-in-k8s-__codelineno-9-34"></a>        - mountPath: /etc/ssl/certs
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#on-premise-installation-in-k8s-__codelineno-9-35"></a>          name: package-scan-ssl-certs
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#on-premise-installation-in-k8s-__codelineno-9-36"></a>        volumes:
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#on-premise-installation-in-k8s-__codelineno-9-37"></a>        # - name: package-scan-tmp
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#on-premise-installation-in-k8s-__codelineno-9-38"></a>        #   emptyDir: {}
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#on-premise-installation-in-k8s-__codelineno-9-39"></a>        - name: package-scan-ssl-certs
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#on-premise-installation-in-k8s-__codelineno-9-40"></a>          emptyDir: {}
</code></pre></div>
<p>После необходимо выставить значение <code>enabled: true</code> в одной или нескольких из следующих секций:</p>
<ul>
<li><code>codescoring.huey.persistentVolumes.hueyTmp</code></li>
<li><code>codescoring.huey.persistentVolumes.hueyPackageScanTmp</code></li>
<li><code>codescoring.huey.persistentVolumes.hueyContainerImageScanTmp</code></li>
</ul>
<p>В результате будут созданы PersistentVolumeClaim для соответсвующих сервисов. Стоит отметить, что возможности конфигурирования данных томов полностью соответствуют описанным в секции <a href="#on-premise-installation-in-k8s-pv">Настройка томов (PV)</a>.</p>
<p>При горизонтальном масштабировании сервисов, необходимо произвести настройку томов в соответствии с инструкцией в разделе <a href="#on-premise-installation-in-k8s-codescoring">Горизонтальное масштабирование CodeScoring</a>.</p>
<h3 id="on-premise-installation-in-k8s-codescoring">Горизонтальное масштабирование CodeScoring<a class="headerlink" href="#on-premise-installation-in-k8s-codescoring" title="Permanent link">&para;</a></h3>
<p><strong>Важно!</strong>: Для горизонтального масштабирования системы CodeScoring необходимо наличие в кластере Kubernetes возможности создания томов с типом доступа <strong>ReadWriteMany (RWX)</strong></p>
<p>Для горизонтального масштабирования CodeScoring необходимо создать тома <code>analysis-root</code> и <code>django-static</code> с типом доступа <code>ReadWriteMany</code>. </p>
<p>Для этого необходимо заменить значение <code>ReadWriteOnce</code> на <code>ReadWriteMany</code> в переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.accessModes</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.accessModes</code></li>
</ul>
<p>Затем, необходимо закоментировать переменные:
- <code>codescoring.backend.affinity</code>
- <code>codescoring.frontend.affinity</code></p>
<p>Если этого не сделать, то все поды будут запущены только на одной ноде кластера.</p>
<h2 id="on-premise-installation-in-k8s-resource-limits">Настройка ограничения ресурсов (resource limits)<a class="headerlink" href="#on-premise-installation-in-k8s-resource-limits" title="Permanent link">&para;</a></h2>
<p>По умолчанию <code>requests</code> и <code>limits</code> не заданы. Это сделано для обеспечения возможности запуска системы CodeScoring в кластерах с малым количеством ресурсов (например, minikube) c целью тестирования.
При запуске в <strong>production-окружении</strong> может потребоваться настроить ограничение ресурсов. Это можно сделать, задав следующие переменные:</p>
<ul>
<li><code>postgresql.resources</code> (при использовании встроенной PostgreSQL)</li>
<li><code>redis.resources</code> (при использовании встроенного Redis)</li>
<li><code>codescoring.backend.resources</code></li>
<li><code>codescoring.frontend.resources</code></li>
<li><code>codescoring.huey.highPriorityQueue.resources</code></li>
<li><code>codescoring.huey.ipcsQueue.resources</code></li>
<li><code>codescoring.huey.tasksOsaContainerImageScan.resources</code></li>
<li><code>codescoring.huey.tasksOsaPackageScan.resources</code></li>
<li><code>codescoring.huey.tasksPolicy.resources</code></li>
</ul>
<p>Возможно указание как <code>resources</code> и <code>limits</code> вместе, так и по отдельности, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#on-premise-installation-in-k8s-__codelineno-10-1"></a>codescoring:
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#on-premise-installation-in-k8s-__codelineno-10-2"></a>  backend:
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#on-premise-installation-in-k8s-__codelineno-10-3"></a>    resources:
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#on-premise-installation-in-k8s-__codelineno-10-4"></a>      limits:
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#on-premise-installation-in-k8s-__codelineno-10-5"></a>        cpu: 1000m
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#on-premise-installation-in-k8s-__codelineno-10-6"></a>        memory: 2000Mi
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#on-premise-installation-in-k8s-__codelineno-10-7"></a>  huey:
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#on-premise-installation-in-k8s-__codelineno-10-8"></a>    ipcsQueue:
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#on-premise-installation-in-k8s-__codelineno-10-9"></a>      resources:
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#on-premise-installation-in-k8s-__codelineno-10-10"></a>        limits:
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#on-premise-installation-in-k8s-__codelineno-10-11"></a>          cpu: 2000m
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#on-premise-installation-in-k8s-__codelineno-10-12"></a>          memory: 3000Mi
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#on-premise-installation-in-k8s-__codelineno-10-13"></a>        requests:
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#on-premise-installation-in-k8s-__codelineno-10-14"></a>          cpu: 1000m
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#on-premise-installation-in-k8s-__codelineno-10-15"></a>          memory: 1000Mi
</code></pre></div>
<p>Ниже приведены примерные значения <code>limits</code> для инсталляции CodeScoring с 8-10 проектами:
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#on-premise-installation-in-k8s-__codelineno-11-1"></a>codescoring:
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#on-premise-installation-in-k8s-__codelineno-11-2"></a>  backend:
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#on-premise-installation-in-k8s-__codelineno-11-3"></a>    resources:
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#on-premise-installation-in-k8s-__codelineno-11-4"></a>      limits:
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#on-premise-installation-in-k8s-__codelineno-11-5"></a>        cpu: 250m
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#on-premise-installation-in-k8s-__codelineno-11-6"></a>        memory: 2500Mi
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#on-premise-installation-in-k8s-__codelineno-11-7"></a>  huey:
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#on-premise-installation-in-k8s-__codelineno-11-8"></a>    ipcsQueue:
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#on-premise-installation-in-k8s-__codelineno-11-9"></a>      scheduler:
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#on-premise-installation-in-k8s-__codelineno-11-10"></a>        resources:
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#on-premise-installation-in-k8s-__codelineno-11-11"></a>          limits:
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#on-premise-installation-in-k8s-__codelineno-11-12"></a>            cpu: 500m
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#on-premise-installation-in-k8s-__codelineno-11-13"></a>            memory: 500Mi
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#on-premise-installation-in-k8s-__codelineno-11-14"></a>      resources:
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#on-premise-installation-in-k8s-__codelineno-11-15"></a>        limits:
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#on-premise-installation-in-k8s-__codelineno-11-16"></a>          cpu: 2250m
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#on-premise-installation-in-k8s-__codelineno-11-17"></a>          memory: 4000Mi
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#on-premise-installation-in-k8s-__codelineno-11-18"></a>    highPriorityQueue:
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#on-premise-installation-in-k8s-__codelineno-11-19"></a>      resources:
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#on-premise-installation-in-k8s-__codelineno-11-20"></a>        limits:
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#on-premise-installation-in-k8s-__codelineno-11-21"></a>          cpu: 2250m
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#on-premise-installation-in-k8s-__codelineno-11-22"></a>          memory: 4000Mi
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#on-premise-installation-in-k8s-__codelineno-11-23"></a>    tasksOsaContainerImageScan:
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#on-premise-installation-in-k8s-__codelineno-11-24"></a>      resources:
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#on-premise-installation-in-k8s-__codelineno-11-25"></a>        limits:
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#on-premise-installation-in-k8s-__codelineno-11-26"></a>          cpu: 2250m
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#on-premise-installation-in-k8s-__codelineno-11-27"></a>          memory: 4000Mi
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#on-premise-installation-in-k8s-__codelineno-11-28"></a>    tasksOsaPackageScan:
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#on-premise-installation-in-k8s-__codelineno-11-29"></a>      resources:
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#on-premise-installation-in-k8s-__codelineno-11-30"></a>        limits:
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#on-premise-installation-in-k8s-__codelineno-11-31"></a>          cpu: 2250m
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#on-premise-installation-in-k8s-__codelineno-11-32"></a>          memory: 4000Mi
<a id="__codelineno-11-33" name="__codelineno-11-33" href="#on-premise-installation-in-k8s-__codelineno-11-33"></a>    tasksOsaPackageScan:
<a id="__codelineno-11-34" name="__codelineno-11-34" href="#on-premise-installation-in-k8s-__codelineno-11-34"></a>      resources:
<a id="__codelineno-11-35" name="__codelineno-11-35" href="#on-premise-installation-in-k8s-__codelineno-11-35"></a>        limits:
<a id="__codelineno-11-36" name="__codelineno-11-36" href="#on-premise-installation-in-k8s-__codelineno-11-36"></a>          cpu: 2250m
<a id="__codelineno-11-37" name="__codelineno-11-37" href="#on-premise-installation-in-k8s-__codelineno-11-37"></a>          memory: 4000Mi
<a id="__codelineno-11-38" name="__codelineno-11-38" href="#on-premise-installation-in-k8s-__codelineno-11-38"></a>    tasksPolicy:
<a id="__codelineno-11-39" name="__codelineno-11-39" href="#on-premise-installation-in-k8s-__codelineno-11-39"></a>      resources:
<a id="__codelineno-11-40" name="__codelineno-11-40" href="#on-premise-installation-in-k8s-__codelineno-11-40"></a>        limits:
<a id="__codelineno-11-41" name="__codelineno-11-41" href="#on-premise-installation-in-k8s-__codelineno-11-41"></a>          cpu: 2250m
<a id="__codelineno-11-42" name="__codelineno-11-42" href="#on-premise-installation-in-k8s-__codelineno-11-42"></a>          memory: 4000Mi
<a id="__codelineno-11-43" name="__codelineno-11-43" href="#on-premise-installation-in-k8s-__codelineno-11-43"></a>    tasksTqi:
<a id="__codelineno-11-44" name="__codelineno-11-44" href="#on-premise-installation-in-k8s-__codelineno-11-44"></a>      resources:
<a id="__codelineno-11-45" name="__codelineno-11-45" href="#on-premise-installation-in-k8s-__codelineno-11-45"></a>        limits:
<a id="__codelineno-11-46" name="__codelineno-11-46" href="#on-premise-installation-in-k8s-__codelineno-11-46"></a>          cpu: 2250m
<a id="__codelineno-11-47" name="__codelineno-11-47" href="#on-premise-installation-in-k8s-__codelineno-11-47"></a>          memory: 4000Mi
<a id="__codelineno-11-48" name="__codelineno-11-48" href="#on-premise-installation-in-k8s-__codelineno-11-48"></a>  frontend:
<a id="__codelineno-11-49" name="__codelineno-11-49" href="#on-premise-installation-in-k8s-__codelineno-11-49"></a>    resources:
<a id="__codelineno-11-50" name="__codelineno-11-50" href="#on-premise-installation-in-k8s-__codelineno-11-50"></a>      limits:
<a id="__codelineno-11-51" name="__codelineno-11-51" href="#on-premise-installation-in-k8s-__codelineno-11-51"></a>        cpu: 250m
<a id="__codelineno-11-52" name="__codelineno-11-52" href="#on-premise-installation-in-k8s-__codelineno-11-52"></a>        memory: 500Mi
<a id="__codelineno-11-53" name="__codelineno-11-53" href="#on-premise-installation-in-k8s-__codelineno-11-53"></a>  redis:
<a id="__codelineno-11-54" name="__codelineno-11-54" href="#on-premise-installation-in-k8s-__codelineno-11-54"></a>    resources:
<a id="__codelineno-11-55" name="__codelineno-11-55" href="#on-premise-installation-in-k8s-__codelineno-11-55"></a>      limits:
<a id="__codelineno-11-56" name="__codelineno-11-56" href="#on-premise-installation-in-k8s-__codelineno-11-56"></a>        cpu: 1000m
<a id="__codelineno-11-57" name="__codelineno-11-57" href="#on-premise-installation-in-k8s-__codelineno-11-57"></a>        memory: 2000Mi
<a id="__codelineno-11-58" name="__codelineno-11-58" href="#on-premise-installation-in-k8s-__codelineno-11-58"></a>  postgresql:
<a id="__codelineno-11-59" name="__codelineno-11-59" href="#on-premise-installation-in-k8s-__codelineno-11-59"></a>    resources:
<a id="__codelineno-11-60" name="__codelineno-11-60" href="#on-premise-installation-in-k8s-__codelineno-11-60"></a>      limits:
<a id="__codelineno-11-61" name="__codelineno-11-61" href="#on-premise-installation-in-k8s-__codelineno-11-61"></a>        cpu: 1000m
<a id="__codelineno-11-62" name="__codelineno-11-62" href="#on-premise-installation-in-k8s-__codelineno-11-62"></a>        memory: 2000Mi
</code></pre></div></p>
<h2 id="on-premise-installation-in-k8s-ca">Добавление сертификата удостоверяющего центра (CA)<a class="headerlink" href="#on-premise-installation-in-k8s-ca" title="Permanent link">&para;</a></h2>
<p>Для доступа CodeScoring к ресурсам с TLS-сертификатами, подписанными корпоративным удостоверяющим центром (CA) необходимо:</p>
<ol>
<li>Присвоить переменной <code>codescoring.trustedCA.enabled</code> значение <code>true</code></li>
<li>Добавить корневой сертификат удостоверяющего центра (RootCA) в формате PEM в переменную <code>codescoring.trustedCA.certificates</code> в формате <code>ключ: значение</code>, 
где ключ - имя файла сертификата, включая расширение <code>.crt</code>, значение - сертификат в формате PEM.</li>
</ol>
<p>Например:
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#on-premise-installation-in-k8s-__codelineno-12-1"></a>codescoring:
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#on-premise-installation-in-k8s-__codelineno-12-2"></a>  trustedCA:
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#on-premise-installation-in-k8s-__codelineno-12-3"></a>    enabled: true
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#on-premise-installation-in-k8s-__codelineno-12-4"></a>    certificates:
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#on-premise-installation-in-k8s-__codelineno-12-5"></a>        ## THIS IS AN EXAMPLE ONE! DO NOT USE IN PRODUCTION!
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#on-premise-installation-in-k8s-__codelineno-12-6"></a>        my-root-ca.crt: |-
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#on-premise-installation-in-k8s-__codelineno-12-7"></a>          -----BEGIN CERTIFICATE-----
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#on-premise-installation-in-k8s-__codelineno-12-8"></a>          MIIDTDCCAjSgAwIBAgIBATANBgkqhkiG9w0BAQUFADA3MQswCQYDVQQGEwJERTEP
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#on-premise-installation-in-k8s-__codelineno-12-9"></a>          MA0GA1UEChMGZWR1UEtJMRcwFQYDVQQDEw5lZHVQS0kgVGVzdCBDQTAeFw0xMDAz
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#on-premise-installation-in-k8s-__codelineno-12-10"></a>          MzExMjIwMjRaFw0zMDAzMjYxMjIwMjRaMDcxCzAJBgNVBAYTAkRFMQ8wDQYDVQQK
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#on-premise-installation-in-k8s-__codelineno-12-11"></a>          EwZlZHVQS0kxFzAVBgNVBAMTDmVkdVBLSSBUZXN0IENBMIIBIjANBgkqhkiG9w0B
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#on-premise-installation-in-k8s-__codelineno-12-12"></a>          AQEFAAOCAQ8AMIIBCgKCAQEAt5IxCk/NQPOLqeA1lGuB3pvqHGQPxRQ1udYGcXQY
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#on-premise-installation-in-k8s-__codelineno-12-13"></a>          t7EuSMFymUR9m5TsifG1ktktJTtOWyaWFC4ac0vai49wGVeuDYptfZBoHLIUvCwN
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#on-premise-installation-in-k8s-__codelineno-12-14"></a>          DOofLYHxk04WzfrtSiUTptn1o6QPOw8YR0XH30MEi1zgD8fLMZmVTJ+XwA5Eus6c
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#on-premise-installation-in-k8s-__codelineno-12-15"></a>          XtTmI4XhNrHUtvWt4UsNgLmp5/djUgRMpNqxIdrpFQzl+XycRJRAaoAwUzHFl14t
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#on-premise-installation-in-k8s-__codelineno-12-16"></a>          49qwBhGChxQ8AdDMQGA7kv6VR8o0ktCPv3a4GQbs8+z0cX0w5dC+XhJ1xpqW6TOg
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#on-premise-installation-in-k8s-__codelineno-12-17"></a>          qAY9XBFIDe5j21hjKmNZ39rsODVGUS2wUtNEhSz+3YqxLwIDAQABo2MwYTAdBgNV
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#on-premise-installation-in-k8s-__codelineno-12-18"></a>          HQ4EFgQUqHe3saMjZZLan8RlFJs+Xuz4yiAwHwYDVR0jBBgwFoAUqHe3saMjZZLa
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#on-premise-installation-in-k8s-__codelineno-12-19"></a>          n8RlFJs+Xuz4yiAwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwDQYJ
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#on-premise-installation-in-k8s-__codelineno-12-20"></a>          KoZIhvcNAQEFBQADggEBAEjQGyHZQis47c2kf+zXJJoDDlRgFzr9xfcnrHFaJvYx
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#on-premise-installation-in-k8s-__codelineno-12-21"></a>          nuqNE0T+xmujnwGm3VrgddeAQJuW3sD6y0Ox8NgL4z886VFeaDQ0GmFPI6HEVtg6
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#on-premise-installation-in-k8s-__codelineno-12-22"></a>          mixMhi+YzdkC+PFrEdYUeVNNwVO+bvJb1Rc08BYU4v7VtTkssHjru76E2/ahn/Ct
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#on-premise-installation-in-k8s-__codelineno-12-23"></a>          kaVTEojEWeRaxsw5/0VLkgyf8SwDaukM2aamqgEzfsw5GTdSAh7ERZKc+zF7Sr5s
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#on-premise-installation-in-k8s-__codelineno-12-24"></a>          DY8c5lOmyCwuNh9ODuw4cAThICrn7G8bh8ZyxLyj4Znxh0X45SwMZKTmYLfy9ab8
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#on-premise-installation-in-k8s-__codelineno-12-25"></a>          b/j7FK8uBNRL+pXl9HGBWAFA01uJw4HkYK+Uo+RcAzo=
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#on-premise-installation-in-k8s-__codelineno-12-26"></a>          -----END CERTIFICATE-----
</code></pre></div>
В случае наличия нескольких корневых CA необходимо добавить их в отдельные ключи, например:
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#on-premise-installation-in-k8s-__codelineno-13-1"></a>codescoring:
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#on-premise-installation-in-k8s-__codelineno-13-2"></a>  trustedCA:
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#on-premise-installation-in-k8s-__codelineno-13-3"></a>    enabled: true
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#on-premise-installation-in-k8s-__codelineno-13-4"></a>    certificates:
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#on-premise-installation-in-k8s-__codelineno-13-5"></a>        my-root-ca.crt: |-
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#on-premise-installation-in-k8s-__codelineno-13-6"></a>          ...
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#on-premise-installation-in-k8s-__codelineno-13-7"></a>        my-root-ca-2.crt: |-
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#on-premise-installation-in-k8s-__codelineno-13-8"></a>          ...
</code></pre></div></p></section><section class="print-page" id="on-premise-update"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-update.en">English</a></li>
</ul>
<h1 id="on-premise-update-_1">Обновление системы<a class="headerlink" href="#on-premise-update-_1" title="Permanent link">&para;</a></h1>
<p>Для обновления необходимо иметь актуальные версии файлов <code>docker-compose.yml</code>, <code>app.env</code> и <code>.env</code>, которые можно получить у вендора.</p>
<p>В переменной <code>CODESCORING_VERSION</code> внутри файла <code>.env</code> указывается требуемая версия системы. Актуальную версию можно узнать в разделе <a href="#changelog">Changelog</a>.</p>
<p>Затем нужно выполнить следующие шаги:</p>
<ol>
<li>
<p>Перейти в директорию с файлами запуска:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-update-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>/path/to/docker-compose
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Выполнить команду обновления образов:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-update-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-2" name="__codelineno-1-2"></a>docker-compose<span class="w"> </span>-p<span class="w"> </span>PROJECT_NAME<span class="w"> </span>pull
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Перезапустить инсталляцию:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-update-__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-3" name="__codelineno-2-3"></a>docker-compose<span class="w"> </span>-p<span class="w"> </span>PROJECT_NAME<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--force-recreate<span class="w"> </span>--renew-anon-volumes
</code></pre></div></td></tr></table></div>
</li>
</ol></section><section class="print-page" id="on-premise-backup"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-backup.en">English</a></li>
</ul>
<h1 id="on-premise-backup-_1">Резервное копирование<a class="headerlink" href="#on-premise-backup-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-backup-_2">Создание резервной копии установки<a class="headerlink" href="#on-premise-backup-_2" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Перейти в директорию с файлами запуска:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-backup-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>/path/to/docker-compose
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Для создания резервной копии выполнить команду:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-backup-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-2" name="__codelineno-1-2"></a>docker-compose<span class="w"> </span>-p<span class="w"> </span>PROJECT_NAME<span class="w"> </span>run<span class="w"> </span>backup<span class="w"> </span>create
</code></pre></div></td></tr></table></div>
<p>Файл резервной копии сохранится в директорию <code>backup</code>.</p>
</li>
</ol>
<h2 id="on-premise-backup-_3">Восстановление из резервной копии<a class="headerlink" href="#on-premise-backup-_3" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Для восстановления из резервной копии выполнить команду:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-backup-__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>docker-compose<span class="w"> </span>-p<span class="w"> </span>PROJECT_NAME<span class="w"> </span>run<span class="w"> </span>backup<span class="w"> </span>restore<span class="w"> </span>BACKUP_FILENAME
</code></pre></div></td></tr></table></div>
<p><code>BACKUP_FILENAME</code> — имя файла резервной копии. Список доступных резервных копий можно получить выполнив команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-backup-__codelineno-3-1"></a>ls<span class="w"> </span>-la<span class="w"> </span>./backup
</code></pre></div>
</li>
<li>
<p>Перезапустить инсталляцию:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-backup-__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-2" name="__codelineno-4-2"></a>docker-compose<span class="w"> </span>-p<span class="w"> </span>PROJECT_NAME<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--force-recreate<span class="w"> </span>--renew-anon-volumes
</code></pre></div></td></tr></table></div>
</li>
</ol></section><section class="print-page" id="on-premise-proxy"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-proxy.en">English</a></li>
</ul>
<h1 id="on-premise-proxy-_1">Работа через прокси<a class="headerlink" href="#on-premise-proxy-_1" title="Permanent link">&para;</a></h1>
<p>При необходимости работы проекта через прокси необходимо раскомментировать и задать значения соответствующих переменных в файле <code>app.env</code>:</p>
<ul>
<li>
<p><code>HTTP_PROXY</code> и <code>HTTPS_PROXY</code> — адрес прокси-сервера</p>
<p><strong>Важно</strong>: для обеих переменных в значении должна использоваться схема <code>http</code>.</p>
</li>
<li>
<p><code>NO_PROXY</code> — список URL внешних систем, запросы к которым не должны идти через прокси. Среди значений возможно указание IP адресов, например:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-proxy-__codelineno-0-1"></a>NO_PROXY=127.0.0.1,192.168.0.1/24,example.com,domain.example.com,.subdomain.example.com
</code></pre></div>
<p>Если добавить список URL VCS в переменную <code>NO_PROXY</code> невозможно, то необходимо <a href="#on-premise-self-signed-ssl">добавить сертификат прокси в каталог SSL</a>.</p>
<p><strong>Важно</strong>: при заданных настройках НTTP Proxy мимо прокси-сервера будут идти все запросы к URL внешних систем, указанных в переменной <code>NO_PROXY</code>. Это относится как к системам контроля версий, так и, например, к подключенным таск-менеджерам.</p></section><section class="print-page" id="on-premise-self-signed-ssl"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-self-signed-ssl.en">English</a></li>
</ul>
<h1 id="on-premise-self-signed-ssl-_1">Работа с самоподписанными сертификатами<a class="headerlink" href="#on-premise-self-signed-ssl-_1" title="Permanent link">&para;</a></h1>
<p>При работе с системами контроля версий CodeScoring проверяет валидность SSL сертификатов удалённых хостов и по умолчанию не будет подключать проекты из систем, сертификаты которых не прошли валидацию или подписаны неизвестным системе удостоверяющим центром.</p>
<p>Чтобы подключить систему контроля версий, SSL сертификат домена которой является самоподписанным, требуется добавить корневой сертификат в доверенные (trusted) на уровне установки. Для этого перед запуском системы его необходимо положить в директорию <code>ssl</code> в установочных файлах системы. Желательно дать файлу говорящее название, например, <code>codescoring-root-CA.crt</code>.</p>
<p><strong>Важно</strong>: расширение файла обязательно должно быть <code>crt</code>.</p>
<p>Чтобы посмотреть всю цепочку используемых для домена сертификатов и выделить корневой, можно использовать команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-self-signed-ssl-__codelineno-0-1"></a>openssl<span class="w"> </span>s_client<span class="w"> </span>-showcerts<span class="w"> </span>-partial_chain<span class="w"> </span>-connect<span class="w"> </span>DOMAIN.NAME:443
</code></pre></div></section><section class="print-page" id="on-premise-analysis-ignore-paths"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-analysis-ignore-paths.en">English</a></li>
</ul>
<h1 id="on-premise-analysis-ignore-paths-_1">Пути анализа и исключения<a class="headerlink" href="#on-premise-analysis-ignore-paths-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-analysis-ignore-paths-_2">Значения по умолчанию<a class="headerlink" href="#on-premise-analysis-ignore-paths-_2" title="Permanent link">&para;</a></h2>
<p>В анализе сконфигурированы исключения для путей, по которым <strong>не производится</strong> поиск манифестов, файлов и не происходит анализ качества. По умолчанию в исключения добавлены следующие значения (формат выражений — glob):</p>
<ul>
<li><code>**/.git*</code></li>
<li><code>**/.git/**</code></li>
<li><code>**/fixtures/**</code></li>
<li><code>**/tests/**</code></li>
<li><code>**/doc/**</code></li>
<li><code>**/docs/**</code></li>
<li><code>**/samples/**</code></li>
</ul>
<h2 id="on-premise-analysis-ignore-paths-_3">Добавление исключений<a class="headerlink" href="#on-premise-analysis-ignore-paths-_3" title="Permanent link">&para;</a></h2>
<p>Чтобы добавить в список свои значения, в файле <code>app.env</code> в переменную <code>ANALYSIS_IGNORED_PATHS</code> необходимо <strong>добавить</strong> значения в формате:</p>
<ul>
<li><code>**/ignoring_prj_1/**</code> - для исключения из анализа директории <code>ignoring_prj_1</code></li>
<li><code>**/ignoring_projects_*</code> - для исключения из анализа директорий у которых в навании присутствует <code>ignoring_projects_</code></li>
<li><code>**/ignoring_file.pom</code> - для исключения из анализа файла <code>ignoring_file.pom</code></li>
</ul>
<p><strong>Важно</strong>: не рекомендуется удалять пути исключениий, указанные в переменной по умолчанию.</p>
<p>Пути добавляются через <code>,</code>. Пример переменной с добавленным исключением <code>**/migrations/**</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-analysis-ignore-paths-__codelineno-0-1"></a>ANALYSIS_IGNORED_PATHS=**/.git*,**/.git/**,**/fixtures/**,**/tests/**,**/doc/**,**/docs/**,**/samples/**,**/migrations/**
</code></pre></div></section><section class="print-page" id="on-premise-troubleshooting"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-troubleshooting.en">English</a></li>
</ul>
<h1 id="on-premise-troubleshooting-_1">Диагностика неполадок<a class="headerlink" href="#on-premise-troubleshooting-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-troubleshooting-_2">Работа с логами<a class="headerlink" href="#on-premise-troubleshooting-_2" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Перейти в директорию с файлами запуска:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>/path/to/docker-compose
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Выполнить команду копирования файла логов из контейнера в файл <code>codescoring_onprem.log</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-2" name="__codelineno-1-2"></a>docker<span class="w"> </span>cp<span class="w"> </span>-L<span class="w"> </span>PROJECT_NAME_fluentd_1:/fluentd/log/docker.log<span class="w"> </span>codescoring_onprem.log
</code></pre></div></td></tr></table></div>
</li>
</ol>
<p><strong>Важно</strong>: <code>PROJECT_NAME</code> – это название директории, из которой запускается проект. По умолчанию используется значение <code>on-premise</code>.</p>
<ol>
<li>Отправить вендору файл <code>codescoring_onprem.log</code>.</li>
</ol>
<h2 id="on-premise-troubleshooting-_3">Переустановка системы<a class="headerlink" href="#on-premise-troubleshooting-_3" title="Permanent link">&para;</a></h2>
<p>При необходимости начать процесс установки с нуля нужно выполнить очистку томов.</p>
<p>Если на сервере с докером нет других контейнеров, кроме проекта CodeScoring, выполнить команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-troubleshooting-__codelineno-2-1"></a>docker<span class="w"> </span>system<span class="w"> </span>prune<span class="w"> </span>--all<span class="w"> </span>--volumes
</code></pre></div>
<p>Если на сервере есть ещё другие проекты на docker:</p>
<ol>
<li>
<p>остановить docker-compose:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>docker-compose<span class="w"> </span>down<span class="w"> </span>--remove-orphans
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>выполнить команду:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-2" name="__codelineno-4-2"></a>docker<span class="w"> </span>volume<span class="w"> </span>rm<span class="w"> </span>PROJECT_NAME__db-data
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Если возникнет ошибка, что данный том используется контейнером, следует выполнить команду и повторить предыдущие шаги (<code>CT_HASH</code> будет в сообщении об ошибке):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-3" name="__codelineno-5-3"></a>docker<span class="w"> </span>rm<span class="w"> </span>CT_HASH<span class="w"> </span>
</code></pre></div></td></tr></table></div>
</li>
</ol>
<p>Если проблема не решается, обратиться к контактному лицу вендора, оказывающему сопровождение, для получения дальнейших инструкций.</p></section><h1 class='nav-section-title-end'>Ended: Установка и эксплуатация on-premise</h1>
                        <h1 class='nav-section-title' id='section-начало-работы-с-on-premise'>
                            Начало работы с on-premise <a class='headerlink' href='#section-начало-работы-с-on-premise' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="on-premise-how-to-activation"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-activation.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-activation-_1">Ввод ключа активации<a class="headerlink" href="#on-premise-how-to-activation-_1" title="Permanent link">&para;</a></h1>
<p>Для работы системы необходимо её активировать с помощью ключа, который передается клиенту вместе с инструкцией по установке в отдельном txt-файле.</p>
<p>Для ввода ключа необходимо перейти в раздел <code>Settings -&gt; Activation key</code>, скопировать текст из файла в поле без каких-либо изменений и нажать кнопку <strong>Save</strong>. В случае успеха на странице появится информация по ключу и поле Status перейдет в значение <strong>Active</strong>.</p></section><section class="print-page" id="on-premise-how-to-proprietors"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-proprietors.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-proprietors-_1">Настройка владельцев<a class="headerlink" href="#on-premise-how-to-proprietors-_1" title="Permanent link">&para;</a></h1>
<p>Владельцы (<strong>Proprietors</strong>) — это абстрактные сущности в рамках организации. Они упрощают группировку проектов по принадлежности к разным группам ответственных <a href="#on-premise-how-to-users">пользователей</a>.</p>
<p>Управление владельцами происходит в разделе <code>Settings -&gt; Proprietors</code>. Перейти на форму создания политики можно по кнопке <strong>Create new</strong>. В форме необходимо обязательно заполнить поле названия владельца <strong>Name</strong> и опциональные поля по желанию.</p>
<h2 id="on-premise-how-to-proprietors-_2">Привязка авторов<a class="headerlink" href="#on-premise-how-to-proprietors-_2" title="Permanent link">&para;</a></h2>
<p>В рамках системы имеется возможность создать связь между автором кода и конкретным владельцем. Для этого необходимо перейти на список авторов по кнопке <strong>Manage authors mapping</strong> и выбрать нужного владельца в поле Proprietor.</p></section><section class="print-page" id="on-premise-how-to-vcs-git"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-vcs-git.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-vcs-git-_1">Подключение системы контроля версий<a class="headerlink" href="#on-premise-how-to-vcs-git-_1" title="Permanent link">&para;</a></h1>
<p>Для добавления в систему проектов (Git репозиториев) на анализ необходимо предварительно создать подключение к системе контроля версий (VCS). CodeScoring поддерживает следующие платформы, использующие Git:</p>
<ul>
<li>GitLab</li>
<li>GitHub</li>
<li>BitBucket (только Data Center и Server)</li>
<li>Azure DevOps Git</li>
<li>Other Git (другие платформы, использующие Git)</li>
</ul>
<p>Интеграция происходит через два возможных механизма: Personal Access Token или ключ SSH. Для механизма Personal Access Token возможно подключение нескольких систем контроля версий с одним адресом, но разными токенами.</p>
<p>После подключения системы контроля версий невозможно поменять ее тип (<code>Instance type</code>) и адрес (<code>Instance URL</code>).</p>
<p><strong>Примечание</strong>: в случае, если для обращения к системе контроля версий используются приватные NS сервера, их надо указать в настройках инсталляции. Для получения соответствующих шаблонов необходимо обратиться к вендору.</p>
<h2 id="on-premise-how-to-vcs-git-ssh-">Добавление SSH-ключа<a class="headerlink" href="#on-premise-how-to-vcs-git-ssh-" title="Permanent link">&para;</a></h2>
<ol>
<li>Скопировать существующий или сгенерировать новый приватный SSH ключ в системе контроля версий по инструкции для:<ul>
<li><a href="https://docs.gitlab.com/ee/user/ssh.html]">Gitlab</a></li>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">Github</a></li>
<li><a href="https://support.atlassian.com/bitbucket-cloud/docs/configure-ssh-and-two-step-verification/">BitBucket</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/devops/repos/git/use-ssh-keys-to-authenticate?view=azure-devops">Azure DevOps Git</a></li>
</ul>
</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Settings -&gt; SSH Keys</code></li>
<li>Нажать <strong>Setup new</strong> в правом верхнем углу.</li>
<li>Заполнить форму. Приватный SSH ключ вставляется в поле <strong>Instance private key</strong>.</li>
<li>Перейти в раздел <code>Settings -&gt; VCS</code>.</li>
<li>Нажать <strong>Setup new</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. SSH ключ выбирается из списка в поле <strong>SSH key</strong>.
    <img alt="VCS form with SSH key" src="/assets/img/vcs-ssh-key.png" /></li>
<li>Проверить подключение можно по кнопке <strong>Test it</strong>. Для создания подключения необходимо нажать на кнопку <strong>Setup now</strong>.</li>
</ol>
<h2 id="on-premise-how-to-vcs-git-gitlab">Добавление токена для GitLab<a class="headerlink" href="#on-premise-how-to-vcs-git-gitlab" title="Permanent link">&para;</a></h2>
<p>Оригинальная инструкция для генерации токена на английском: <a href="https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html#create-a-personal-access-token">https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html#create-a-personal-access-token</a></p>
<ol>
<li>Войти в свой аккаунт в GitLab, для облачной версии логин доступен по ссылке <a href="https://gitlab.com/users/sign_in">https://gitlab.com/users/sign_in</a>.</li>
<li>
<p>Через меню пользователя в правом верхнем углу перейти в раздел <strong>Edit profile</strong>.</p>
<p><img alt="Edit profile" src="/assets/img/gitlab/edit-profile-link.png" /></p>
</li>
<li>
<p>Далее в левом меню выбрать раздел <strong>Access Tokens</strong>.</p>
<p><img alt="Access tokens" src="/assets/img/gitlab/access-tokens-link.png" /></p>
</li>
<li>
<p>Задать название токену, например, "<em>codescoring-demo</em>", дату можно оставить пустой</p>
</li>
<li>В секции <em>scopes</em> выбрать <strong>read_api</strong> и <strong>read_repository</strong>.
    <img alt="Token scopes" src="/assets/img/gitlab/scopes.png" /></li>
<li>Нажать кнопку <strong>Create personal access token</strong>.</li>
<li>Скопировать сгенерированный токен.</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Settings -&gt; VCS</code>.</li>
<li>Нажать <strong>Setup new</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. Токен вставляется в поле <em>Access token</em>.
    <img alt="VCS form for GitLab" src="/assets/img/gitlab/cs-vcs-form-gitlab.png" /></li>
</ol>
<h2 id="on-premise-how-to-vcs-git-github">Добавление токена для GitHub<a class="headerlink" href="#on-premise-how-to-vcs-git-github" title="Permanent link">&para;</a></h2>
<p>Оригинальная инструкция для генерации токена на английском: <a href="https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token">https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token</a></p>
<ol>
<li>Войти в свой аккаунт в GitHub, для облачной версии логин доступен по ссылке <a href="https://github.com/login">https://github.com/login</a>.</li>
<li>Если у аккаунта не верифицирован email, обязательно это сделать по <a href="https://docs.github.com/en/get-started/signing-up-for-github/verifying-your-email-address">инструкции</a>.</li>
<li>Через меню пользователя в правом верхнем углу перейти в раздел <strong>Settings</strong>.</li>
<li>Далее в левом меню выбрать раздел <strong>Developer settings</strong>.</li>
<li>В левом меню выбрать раздел <strong>Personal access tokens</strong>.</li>
<li>Задать название токену, например, "codescoring-demo".</li>
<li>В секции Select scopes выбрать все опции списка <em>repos</em>.</li>
<li>Нажать кнопку <strong>Generate token</strong>.</li>
<li>Скопировать сгенерированный токен.</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Settings -&gt; VCS</code>.</li>
<li>Нажать <strong>Setup new</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. Токен вставляется в поле <em>Access token</em>.
    <img alt="VCS form for GitHub" src="/assets/img/github/cs-vcs-form-github.png" /></li>
</ol>
<h2 id="on-premise-how-to-vcs-git-bitbucket-data-center-server">Добавление токена для BitBucket Data Center и Server<a class="headerlink" href="#on-premise-how-to-vcs-git-bitbucket-data-center-server" title="Permanent link">&para;</a></h2>
<p>Оригинальная инструкция для генерации токена на английском: <a href="https://confluence.atlassian.com/bitbucketserver072/personal-access-tokens-1005335924.html">https://confluence.atlassian.com/bitbucketserver072/personal-access-tokens-1005335924.html</a></p>
<ol>
<li>Войти в свой аккаунт в BitBucket.</li>
<li>Через меню пользователя в правом верхнем углу перейти в раздел <strong>Manage account</strong>.</li>
<li>Далее в левом меню выбрать раздел <strong>Personal access tokens</strong>.</li>
<li>Нажать на <strong>Create token</strong>.</li>
<li>Задать название токену, например, "codescoring-demo".</li>
<li>В секции <strong>Permissions</strong> дать права на чтение для проектов и репозиториев.</li>
<li>В секции <strong>Expiry</strong> при желании задать срок жизни токена.</li>
<li>Нажать кнопку <strong>Create</strong>.</li>
<li>Скопировать сгенерированный токен.</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Settings -&gt; VCS</code>.</li>
<li>Нажать <strong>Setup new</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. Токен вставляется в поле <em>Access token</em>.
    <img alt="VCS form for BitBucket Server" src="/assets/img/bitbucket/cs-vcs-form-bitbucket.png" /></li>
</ol>
<h2 id="on-premise-how-to-vcs-git-azure-devops-git">Добавление токена для Azure DevOps Git<a class="headerlink" href="#on-premise-how-to-vcs-git-azure-devops-git" title="Permanent link">&para;</a></h2>
<p>Оригинальная инструкция для генерации токена на английском: <a href="https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops">https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops</a></p>
<ol>
<li>Войти в свой аккаунт в Azure DevOps.</li>
<li>
<p>Через меню пользователя в правом верхнем углу перейти в раздел <strong>Personal access tokens</strong>.</p>
<p><img alt="PAT menu item" src="/assets/img/azure/pat-menu-item.png" /></p>
</li>
<li>
<p>Далее нажать кнопку <strong>New token</strong>.</p>
</li>
<li>Задать название токену, например, "codescoring-demo", и срок действия токена.</li>
<li>В секции <em>Scopes</em> обязательно отметить доступ на <strong>Read</strong> для сущностей <strong>Code</strong> и <strong>Identity</strong>.</li>
<li>Нажать кнопку <strong>Create</strong>.</li>
<li>Скопировать сгенерированный токен.</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Settings -&gt; VCS</code>.</li>
<li>Нажать <strong>Setup new</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. Токен вставляется в поле <em>Access token</em>.
    <img alt="VCS form for Azure" src="/assets/img/azure/cs-vcs-form-azure.png" /></li>
</ol></section><section class="print-page" id="on-premise-how-to-repo-managers"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-repo-managers.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-repo-managers-_1">Подключение менеджеров репозиториев<a class="headerlink" href="#on-premise-how-to-repo-managers-_1" title="Permanent link">&para;</a></h1>
<p>Codescoring OSA осуществляет проверку артефактов в менеджерах репозиториев <strong>Sonatype Nexus Repository</strong> и <strong>JFrog Artifactory</strong> через <a href="#osa">плагины OSA</a>. Для просмотра результатов проверок в интерфейсе CodeScoring можно предварительно настроить подключение к менеджерам репозиториев с плагином.</p>
<p>Для добавления нового менеджера репозиториев на инсталляции необходимо выполнить следующие действия:</p>
<ol>
<li>Перейти в раздел <code>Settings -&gt; Repo managers</code>.</li>
<li>Нажать на кнопку <strong>Setup new</strong>.</li>
<li>
<p>Заполнить поля в форме:</p>
<ul>
<li><strong>Name</strong> – название в системе CodeScoring;</li>
<li><strong>Is active</strong> – признак действующего менеджера репозиториев;</li>
<li><strong>Type</strong> – тип (Sonatype Nexus Repository или JFrog Artifactory);</li>
<li><strong>URL</strong> – адрес с указанием протокола. Например: <code>https://jfrog.example.com</code>;</li>
<li><strong>Username</strong> – имя пользователя с доступом к менеджеру репозиториев;</li>
<li><strong>Password</strong> – пароль.</li>
</ul>
</li>
<li>
<p>Проверить подключение после заполнения данных по кнопке <strong>Test it</strong>.</p>
</li>
</ol>
<p>После создания нового подключения по кнопке <strong>Setup now</strong> менеджер репозиториев отобразится в списке раздела, с возможностью просмотреть информацию о нем (<strong>View</strong>), изменить параметры подключения (<strong>Edit</strong>), или удалить подключение (<strong>Delete</strong>).</p>
<p>На странице просмотра можно увидеть список репозиториев со следующими параметрами:</p>
<ul>
<li><strong>Name</strong> – название;</li>
<li><strong>Type</strong> – тип менеджера репозитория;</li>
<li><strong>Ecosystem</strong> – тип содержащихся артифактов (NPM, PyPI и другие);</li>
<li><strong>Is active</strong> – наличие запросов на проверку компонентов за последние 24 часа;</li>
<li><strong>Is available</strong> – доступность репозитория в API (проверяется раз в час);</li>
<li><strong>Last request at</strong> – дата и время последнего запроса на проверку компонентов.</li>
</ul>
<p>Увидеть список пакетов из подключенных репозиториев можно в разделе <code>Components -&gt; Packages</code>, а список запросов на проверку в разделе <code>Components -&gt; Requests</code>. В рамках разделов доступна фильтрация по менеджеру репозитория (<strong>Repository Manager</strong>), отдельному репозиторию (<strong>Repository</strong>) или типу содержащихся артифактов (<strong>Repository Ecosystem</strong>).</p></section><section class="print-page" id="on-premise-how-to-projects"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-projects.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-projects-_1">Управление проектами<a class="headerlink" href="#on-premise-how-to-projects-_1" title="Permanent link">&para;</a></h1>
<p>Проект в CodeScoring – это часть анализируемой кодовой базы. В системе возможно создать два типа проектов:</p>
<ul>
<li><strong>VCS-проект</strong> – эквивалентен репозиторию в системе контроля версий.</li>
<li><strong>CLI-проект</strong> – не имеет привязки к репозиторию и позволяет сохранять результаты сканирования от консольного агента johnny.</li>
</ul>
<p>Управление проектами происходит в разделе <code>Settings-&gt;Projects</code>.</p>
<h2 id="on-premise-how-to-projects-vcs-">Создание VCS-проекта<a class="headerlink" href="#on-premise-how-to-projects-vcs-" title="Permanent link">&para;</a></h2>
<p><strong>Важно!</strong> Создать VCS-проект получится только после создания <a href="#on-premise-how-to-vcs-git">подключения к системе контроля версий</a>.</p>
<p>Для перехода на форму создания VCS-проекта необходимо нажать на кнопку <strong>Create new</strong> и выбрать вкладку <strong>VCS Projects</strong>. Выбранный при создании тип проекта нельзя перевести в другой.</p>
<ol>
<li>Для добавления проекта необходимо добавить в форме ссылку на репозиторий и выбрать соответствующую систему контроля версий из списка.</li>
<li>После добавления происходит первоначальное клонирование проекта, время которого будет зависеть от размера репозитория.</li>
<li>После клонирования проект будет доступен для редактирования и сможет участвовать в анализе.</li>
<li>Первый SCA анализ запустится автоматически сразу после клонирования проекта.</li>
</ol>
<p>Система принимает ссылки на репозитории в следующих форматах:</p>
<ul>
<li>GitLab<ul>
<li><code>&lt;http/https&gt;://&lt;GitLab Server URL&gt;/&lt;group&gt;/&lt;project</code></li>
</ul>
</li>
<li>GitHub<ul>
<li><code>https://github.com/&lt;ursername/organisation&gt;/&lt;project&gt;</code></li>
</ul>
</li>
<li>BitBucket<ul>
<li><code>&lt;http/https&gt;://&lt;Bitbucket Server URL&gt;/scm/&lt;group&gt;/&lt;project&gt;</code></li>
</ul>
</li>
<li>Azure DevOps Git<ul>
<li><code>https://&lt;organisation&gt;.visualstudio.com/&lt;group&gt;/_git/&lt;project&gt;</code></li>
<li><code>https://dev.azure.com/&lt;organisation&gt;/&lt;group&gt;/_git/&lt;project&gt;</code></li>
<li><code>&lt;http/https&gt;://&lt;Azure Server URL&gt;/&lt;organisation&gt;/&lt;group&gt;/_git/&lt;project&gt;</code></li>
</ul>
</li>
</ul>
<p>После добавления репозитория на странице настроек VCS-проекта доступно ручное обновление кода проекта по кнопке <strong>Refresh project code</strong>.</p>
<p><strong>Внимание!</strong> Если анализируемый проект коммерческий, то рекомендуется указать для него лицензию Commercial License. </p>
<h2 id="on-premise-how-to-projects-cli-">Создание CLI-проекта<a class="headerlink" href="#on-premise-how-to-projects-cli-" title="Permanent link">&para;</a></h2>
<p>Для перехода на форму создания CLI-проекта необходимо нажать на кнопку <strong>Create new</strong> и выбрать вкладку CLI Projects.</p>
<p>Для добавления проекта достаточно заполнить его название в поле <strong>Name</strong>.</p>
<h2 id="on-premise-how-to-projects-_2">Создание категорий проектов<a class="headerlink" href="#on-premise-how-to-projects-_2" title="Permanent link">&para;</a></h2>
<p>Категории используются для группировки проектов системы по смысловым группам.</p>
<p>Управление категориями происходит в разделе <code>Settings -&gt; Categories</code>. Перейти на форму создания категории можно по кнопке <strong>Create new</strong>. Для создания категории достаточно задать ей название.</p>
<h2 id="on-premise-how-to-projects-sbom">Работа со SBOM в рамках проекта<a class="headerlink" href="#on-premise-how-to-projects-sbom" title="Permanent link">&para;</a></h2>
<p>После проведения анализа проекта становится доступна выгрузка полученного списка используемых компонентов (SBOM) в формате CycloneDX.</p>
<p>Экспортировать полученный SBOM можно на странице проекта в разделе <code>Projects</code> по кнопке <strong>Export SBOM</strong>.</p>
<p>Для CLI-проектов также доступна загрузка SBOM через интерфейс по кнопке <strong>Import SBOM</strong>. Загружаемый SBOM должен быть в формате CycloneDX и иметь расширение <code>.json</code>.</p>
<h2 id="on-premise-how-to-projects-pdf-">Формирование PDF-отчета<a class="headerlink" href="#on-premise-how-to-projects-pdf-" title="Permanent link">&para;</a></h2>
<p>После проведения анализа также становится доступным формирование PDF-отчета со сводной информацией по проекту.</p>
<p>Экспортировать PDF-отчет с данными последнего анализа можно на странице проекта по кнопке <strong>Export PDF</strong>. Экспортировать отчет по анализу за определенную дату можно на странице <code>SCA Scan History</code>.</p>
<p>Полученный отчет содержит следующие данные:</p>
<ul>
<li>Общая информация по проекту (название, ветка VCS, время проведения последнего анализа, хэш коммита);</li>
<li>Распределение уязвимостей по CVSS;</li>
<li>Распределение уязвимостей по технологиям;</li>
<li>Таблица найденных зависимостей с разделением по технологиям и окружению разработки;</li>
<li>Таблица найденных уязвимостей с разделением по технологиям и окружению разработки.</li>
</ul></section><section class="print-page" id="on-premise-how-to-policies"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-policies.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-policies-_1">Настройка политик<a class="headerlink" href="#on-premise-how-to-policies-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-policies-_2">Принципы работы<a class="headerlink" href="#on-premise-how-to-policies-_2" title="Permanent link">&para;</a></h2>
<p><strong>Политики</strong> в системе CodeScoring представляют собой механизм отслеживания и блокирования Open Source компонентов в процессе разработки программного обеспечения. Они могут быть связаны с проверкой безопасности, совместимости лицензий или других критериев включения сторонних компонентов в разработку.</p>
<p>Политики можно создавать для:</p>
<ul>
<li>всей организации;</li>
<li>отдела;</li>
<li>проекта;</li>
<li>окружения разработки.</li>
</ul>
<p>Механизм политик учитывает указанный этап разработки программного обеспечения: от поступления сторонних компонентов в периметр организации до отслеживания сборок и написания нового кода.</p>
<p>Политики настраиваются по условиям, объединенным логическим выражением <strong>И/ИЛИ</strong>. Помимо стандартных настроек политик безопасности по уровню критичности уязвимостей, условия могут быть настроены согласно информации о компоненте: дата релиза, лицензия, автор и другие. Всего поддерживается <strong>30 типизированных условий</strong>. Среди проверок также присутствует встроенная вендорская политика проверки на лицензионную чистоту.</p>
<p>В результате срабатывания политики в системе CodeScoring создаются соответствующие оповещения <strong>Policy Alerts</strong>. Выбранные оповещения можно временно или навсегда проигнорировать. Оповещения могут быть экспортированы в виде отчета.</p>
<p>Политики могут быть <strong>блокирующими</strong>: при срабатывании такой политики используемые компоненты блокируются в хранилище артефактов (прокси-репозитории), либо останавливается сборка программного продукта до устранения выявленного дефекта.</p>
<p>Дополнительно, по срабатыванию политики может быть направлено уведомление ответственным специалистам в систему управления задачами или электронное письмо с описанием проблемы.</p>
<h2 id="on-premise-how-to-policies-_3">Настройка в системе<a class="headerlink" href="#on-premise-how-to-policies-_3" title="Permanent link">&para;</a></h2>
<p>Политики создаются в разделе <code>Settings -&gt; Policies</code>. Перейти на форму создания политики можно по кнопке <strong>Create new</strong>.</p>
<p>В форме создания политики задается контекст работы политики по следующим параметрам:</p>
<ul>
<li><strong>Name</strong> — название политики;</li>
<li><strong>Proprietors</strong> — собственник кода, на которого распространяется политика, если пустое - политика применяется для всей организации;</li>
<li><strong>Projects</strong> — проекты, на которые применяется политика;</li>
<li><strong>Connect conditions with</strong> — логическое объединение выбранных условий;</li>
<li><strong>Stages</strong> — стадии проекта, для которых применяется политика;</li>
<li><strong>OSA Components</strong> – тип компонентов в плагинах OSA, для которых применяется политика (<strong>Packages</strong> или <strong>Container images</strong>)</li>
<li><strong>Repositories</strong> – список репозиториев, для которых применяется политика;</li>
<li><strong>Level</strong> — уровень критичности политики;</li>
<li><strong>Blocker</strong> — признак блокировки сборки или установки компонента из прокси-репозитория;</li>
<li><strong>Is active</strong> — признак временного выключения политики;</li>
<li><strong>Description</strong> — описание политики;</li>
<li><strong>Conditions</strong> — перечень условий в политике.</li>
</ul>
<p>Далее настраиваются условия срабатывания политики, поддерживаются следующие параметры:</p>
<ul>
<li><strong>PURL</strong> — <a href="https://github.com/package-url/purl-spec">package URL</a>, идентификатор пакета;</li>
<li><strong>Dependency Name</strong> — название зависимости;</li>
<li><strong>Dependency Version</strong> — версия зависимости;</li>
<li><strong>Dependency Author</strong> — автор зависимости;</li>
<li><strong>Dependency Release Date</strong> — дата релиза версии зависимости;</li>
<li><strong>Dependency Age</strong> — возраст зависимости;</li>
<li><strong>Technology</strong> — технология (язык или экосистема);</li>
<li><strong>License</strong> — лицензия;</li>
<li><strong>License Category</strong> — категория лицензии;</li>
<li><strong>Vulnerability ID</strong> — идентификатор уязвимости;</li>
<li><strong>CVSS2 Score</strong> — численная оценка угрозы по стандарту CVSS 2;</li>
<li><strong>CVSS2 Severity</strong> — уровень угрозы по стандарту CVSS 2;</li>
<li><strong>CVSS2 Access Vector (AV)</strong> – путь эксплуатации уязвимости (физический или сетевой);</li>
<li><strong>CVSS2 Access Complexity (AC)</strong> – сложность эксплуатация уязвимости;</li>
<li><strong>CVSS2 Authentication (Au)</strong> – требования аутентификации для эксплуатации уязвимости;</li>
<li><strong>CVSS2 Availability Impact (A)</strong> – степень потери доступности данных;</li>
<li><strong>CVSS2 Confidentiality Impact (C)</strong> – cтепень потери конфиденциальности данных;</li>
<li><strong>CVSS2 Integrity Impact (I)</strong> – степень потери целостности данных;</li>
<li><strong>CVSS3 Attack Vector (AV)</strong> - поверхность атаки;</li>
<li><strong>CVSS3 Attack Complexity (AC)</strong> - сложность атаки;</li>
<li><strong>CVSS3 Priviliges Required (PR)</strong> - требуемый уровень доступа для эксплуатации уязвимости;</li>
<li><strong>CVSS3 User Interaction (UI)</strong> - наличие взаимодействия с пользователем;</li>
<li><strong>CVSS3 Scope (S)</strong> - область безопасности компонента;</li>
<li><strong>CVSS3 Confidentiality (C)</strong> - cтепень потери конфиденциальности данных;</li>
<li><strong>CVSS3 Integrity (I)</strong> - степень потери целостности данных;</li>
<li><strong>CVSS3 Availability (A)</strong> - степень потери доступности данных;</li>
<li><strong>CVSS3 Score</strong> — численная оценка угрозы по стандарту CVSS 3;</li>
<li><strong>CVSS3 Severity</strong> — уровень угрозы по стандарту CVSS 3;</li>
<li><strong>Vulnerability Publish Date</strong> — дата публикации уязвимости;</li>
<li><strong>Vulnerability Update Date</strong> — дата обновления уязвимости;</li>
<li><strong>Vulnerability has exploit</strong> - наличие эксплойта в уязвимости;</li>
<li><strong>Vulnerability impacts</strong> - область уязвимости;</li>
<li><strong>Vulnerability has fixed version</strong> – уязвимость исправлена в новой версии; </li>
<li><strong>Vulnerability Age (days)</strong> – возраст уязвимости (в днях);</li>
<li><strong>Env</strong> — окружение;</li>
<li><strong>Match type</strong> — тип соответствия зависимости (по манифесту, содержанию или разрешению);</li>
<li><strong>Relation</strong> — прямая или транзитивная зависимость;</li>
<li><strong>CWE</strong> — классификация в индексе Common Weakness Enumeration.</li>
</ul>
<p>Политика становится активной сразу после создания по нажатию кнопки <strong>Create</strong>. </p>
<p><strong>Важно!</strong> Политики срабатывают во время анализа, поэтому важно их создать до запуска анализа.</p>
<p><strong>Рекомендация!</strong> Если оставить поля <code>Proprietor</code> и <code>Project</code> пустыми, политика будет применяться для всех активных проектов в системе.</p>
<h2 id="on-premise-how-to-policies-_4">Результаты работы политик<a class="headerlink" href="#on-premise-how-to-policies-_4" title="Permanent link">&para;</a></h2>
<p>Результаты работы политик отображаются в разделе <code>Policy alerts</code>. Раздел имеет три вкладки:</p>
<ul>
<li><strong>Active</strong> – список уведомлений о сработавших политиках по результатам последнего анализа (проекта, образа или компонента в прокси-репозитории);</li>
<li><strong>Ignored</strong> – список уведомлений о проигнорированных политиках;</li>
<li><strong>Resolved</strong> – список уведомлений, которые были разрешены после последнего анализа (условие политики больше не актуально).</li>
</ul>
<p>Причина срабатывания политики отображается в поле <strong>Matched criteria</strong>, включая заданные условия и найденные данные о компоненте. Например, значение <code>CVSS3 Score &gt;= 3.00 (9.1)</code> подразумевает, что политика блокирования компонентов с CVSS3 равным или выше 3.00 сработала на компоненте с рейтингом уязвимости 9.1.</p>
<h2 id="on-premise-how-to-policies-_5">Игнорирование политик<a class="headerlink" href="#on-premise-how-to-policies-_5" title="Permanent link">&para;</a></h2>
<p>Созданные политики можно временно или навсегда проигнорировать при анализе. Условие игнорирования позволит оставить политики в системе, при этом не получая уведомлений о ее срабатывании, например в случае если быстро исправить уязвимость невозможно. Создание и настройка условий игнорирования происходит в разделе <code>Settings -&gt; Policy Ignores</code>.</p>
<p>Для создания условия игнорирования для одной или нескольких политик необходимо нажать на кнопку <strong>Create New</strong> и заполнить следующие поля:</p>
<ul>
<li><strong>Project</strong> - название проекта в системе;</li>
<li><strong>Technology</strong> - технология (язык или экосистема);</li>
<li><strong>Dependency name</strong> - название зависимости;</li>
<li><strong>Dependency version</strong> - версия зависимости;</li>
<li><strong>License</strong> - лицензия;</li>
<li><strong>Vulnerability ID</strong> - идентификатор уязвимости;</li>
<li><strong>Policies</strong> - игнорируемые политики;</li>
<li><strong>Is enabled</strong> - признак активности условия;</li>
<li><strong>Active from</strong> - дата начала работы условия;</li>
<li><strong>Active to</strong> - дата завершения работы условия;</li>
<li><strong>Note</strong> - заметка.</li>
</ul></section><section class="print-page" id="on-premise-how-to-launch-analysis"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-launch-analysis.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-launch-analysis-_1">Запуск анализа<a class="headerlink" href="#on-premise-how-to-launch-analysis-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-launch-analysis-_2">Ручной запуск анализа<a class="headerlink" href="#on-premise-how-to-launch-analysis-_2" title="Permanent link">&para;</a></h2>
<p>SCA-анализ запускается автоматически сразу при добавления проекта. Для ручного запуска анализа по проекту необходимо использовать кнопку <strong>Run Now</strong> на странице проекта в разделе <code>Projects</code>.</p>
<p>Также анализ можно запустить на все проекты и на каждый модуль (SCA, Quality, Authors) отдельно. Управление запуском общего анализа происходит в разделе <code>Settings -&gt; Workmode</code>.</p>
<p><strong>Важно!</strong> Для получения корректных результатов нужно запустить анализ последовательно для каждого модуля, предварительно дождавшись завершения предыдущего запуска. Порядок запуска:</p>
<ol>
<li>Software Composition Analysis (SCA)</li>
<li>Authors Analysis</li>
<li>Quality Analysis</li>
</ol>
<p>Прогресс выполнения анализа можно отслеживать по сообщениям в разделе <code>Settings -&gt; Audit log</code>.</p>
<p>Первый запуск Authors analysis может выполняться заметное время, так как происходит траверс всей истории репозитория. Последующие запуски будут разбирать только разницу в коммитах по обновлениям с последнего запуска.</p>
<h2 id="on-premise-how-to-launch-analysis-_3">Анализ по расписанию<a class="headerlink" href="#on-premise-how-to-launch-analysis-_3" title="Permanent link">&para;</a></h2>
<p>Помимо ручного запуска, можно настроить анализ отдельных проектов по расписанию.</p>
<p>Управление происходит на странице проекта в разделе <code>Settings -&gt; Projects</code>. </p>
<p>По умолчанию параметр <strong>Scan Schedule</strong> имеет значение <strong>Off</strong>. Для активации анализа по расписанию необходимо выбрать один из двух вариантов:</p>
<ul>
<li>Daily – ежедневный анализ;</li>
<li>Weekly – енеженедельный анализ.</li>
</ul>
<h2 id="on-premise-how-to-launch-analysis-_4">История результатов сканирования<a class="headerlink" href="#on-premise-how-to-launch-analysis-_4" title="Permanent link">&para;</a></h2>
<p>На каждый анализ проекта в рамках модуля SCA сохраняется снепшот результатов по найденным зависимостям и уязвимостям. Чтобы увидеть список доступных снепшотов, необходимо зайти на вкладку SCA на странице проекта и нажать на кнопку <strong>SCA scan history</strong>.</p>
<p><img alt="Scan history" src="/assets/img/sca_history_button.png" /></p>
<p>Снепшот содержит следующие данные:</p>
<ul>
<li><strong>Started at</strong> – дата сканирования проекта. Дата последнего сканирования отмечается зеленым лейблом latest;</li>
<li><strong>Startup type</strong> – тип запуска, ручной или по расписанию;</li>
<li><strong>User</strong> – пользователь, запустивший сканирование. Для запусков по расписанию указывается значение “system”;</li>
<li><strong>VCS reference</strong> – ветка и SHA коммита (для VCS проектов);</li>
<li><strong>Dependencies count</strong> – число найденных зависимостей;</li>
<li><strong>Vulnerabilities count</strong> – число найденных уязвимостей;</li>
<li><strong>Status</strong> – статус завершенного сканирования. Может иметь три возможных значения – success, failed или cancelled.</li>
</ul>
<p>По кнопке в правой части списка доступно скачивание SBOM, сгенерированного во время проведения анализа, а также экспорт отчета в PDF.</p>
<p><img alt="Scan history page" src="/assets/img/sca_history_page.png" /></p></section><section class="print-page" id="on-premise-how-to-registries"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-registries.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-registries-docker-">Работа с Docker-образами<a class="headerlink" href="#on-premise-how-to-registries-docker-" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-registries-_1">Подключение реестра с образами<a class="headerlink" href="#on-premise-how-to-registries-_1" title="Permanent link">&para;</a></h2>
<p>Для работы с Docker-образами необходимо предварительно подключить registry (реестр с образами) в разделе <code>System -&gt; Registries</code>. </p>
<p>Переход на форму создания нового подключения осуществляется по кнопке <strong>Setup new</strong>. В форме необходимо заполнить следующие поля:</p>
<ul>
<li><strong>Name</strong> – название реестра;</li>
<li><strong>Is active</strong> – признак действующего реестра. Для недействующих реестров не будет обновляться список доступных образов;</li>
<li><strong>Type</strong> – тип менеджера репозитория (Sonatype Nexus Repository, JFrog Artifactory или другой);</li>
<li><strong>Host</strong> – адрес реестра с указанием протокола. Например: <code>https://jfrog.example.com</code>;</li>
<li><strong>Username</strong> – имя пользователя с доступом к реестру;</li>
<li><strong>Password</strong> – пароль.</li>
</ul>
<p>Проверить подключение после заполнения данных можно по кнопке <strong>Test it</strong>. </p>
<p>После создания нового подключения по кнопке <strong>Setup now</strong> реестр отобразится в списке раздела, с возможностью просмотреть информацию о нем (<strong>View</strong>), изменить параметры подключения (<strong>Edit</strong>), или удалить подключение (<strong>Delete</strong>). </p>
<p>Для обновления списка доступных образов необходимо нажать на кнопку <strong>Update images list</strong> на странице просмотра. Также на странице просмотра доступна проверка подключения по кнопке <strong>Refresh status</strong>.</p>
<h2 id="on-premise-how-to-registries-_2">Просмотр и сканирование образов<a class="headerlink" href="#on-premise-how-to-registries-_2" title="Permanent link">&para;</a></h2>
<p>После подключения реестра полученные названия образов автоматически отображаются в разделе <code>Components -&gt; Container images</code>. Каждая запись в списке содержит следующую информацию:</p>
<ul>
<li><strong>Name</strong> – название образа;</li>
<li><strong>Container registry</strong> – название реестра, в котором содержится образ;</li>
<li><strong>Dependencies</strong> – количество найденных зависимостей;</li>
<li><strong>Vulnerabilities</strong> - количество найденных уязвимостей;</li>
<li><strong>Scan status</strong> – статус сканирования образа;</li>
<li><strong>Block status</strong> – статус блокировки компонента на момент последнего запроса (для репозиториев с плагином CodeScoring OSA);</li>
<li><strong>Last scanned</strong> – дата последнего сканирования.</li>
</ul>
<p>По умолчанию добавленный образ не является просканированным. Для проведения анализа необходимо перейти на страницу образа и нажать на кнопку <strong>Run SCA</strong>. По результатам сканирования на странице образа появится информация о найденных зависимостях и уязвимостях, а также список сработавших политик безопасности.</p>
<p>Для каждого просканированного образа доступно скачивание SBoM и PDF-отчета, а также просмотр истории сканирований по кнопке <strong>SCA scan history</strong>.</p></section><section class="print-page" id="on-premise-how-to-users"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-users.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-users-_1">Управление учетными записями<a class="headerlink" href="#on-premise-how-to-users-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-users-_2">Создание учетных записей<a class="headerlink" href="#on-premise-how-to-users-_2" title="Permanent link">&para;</a></h2>
<p>Система CodeScoring поддерживает работу множества пользователей с отдельными учетными записями. Создание и управление учетными записями пользователей происходит в разделе <code>Settings -&gt; Users</code>. </p>
<p>Для создания нового пользователя необходимо перейти на форму по кнопке <strong>Create New</strong> и заполнить следующие поля:</p>
<ul>
<li><strong>Username</strong> — имя пользователя в системе;</li>
<li><strong>First name</strong> — имя;</li>
<li><strong>Last name</strong> — фамилия;</li>
<li><strong>Contact email</strong> — электронная почта;</li>
<li><strong>Proprietor</strong> — принадлежность к владельцу кода в рамках системы;</li>
<li><strong>Access level</strong> — уровень доступа.</li>
</ul>
<p>Список созданных пользователей на вкладке <code>Users</code> можно отфильтровать по следующим параметрам:</p>
<ul>
<li><strong>Proprietor</strong> — владелец;</li>
<li><strong>Access level</strong> — уровень доступа;</li>
<li><strong>Is active</strong> — признак действующей учетной записи;</li>
<li><strong>From LDAP</strong> — признак учетной записи, созданной через LDAP.</li>
</ul>
<h2 id="on-premise-how-to-users-_3">Настройка учетных записей<a class="headerlink" href="#on-premise-how-to-users-_3" title="Permanent link">&para;</a></h2>
<p>Созданные учетные записи можно отредактировать или удалить в разделе <code>Settings -&gt; Users</code>. Добавить пользователя в проект с указанной ролью можно по кнопке <strong>Add Project</strong> на вкладке Projects страницы редактирования пользователя.</p>
<p>Время сессии для неактивного пользователя ограничено. По умолчанию сессия пользователя заканчивается через 2 недели с момента последней активности, после чего нужно произвести повторный вход в систему.</p>
<p>Для конфигурации времени жизни сессии доступна переменная окружения (в секундах):
<code>SESSION_COOKIE_AGE</code> </p>
<h2 id="on-premise-how-to-users-_4">Разделение уровней доступа<a class="headerlink" href="#on-premise-how-to-users-_4" title="Permanent link">&para;</a></h2>
<p>При создании учетной записи ей должен быть присвоен один из следующих уровней доступа - <strong>User</strong> (пользователь), <strong>Administrator</strong> (администратор) или <strong>Auditor</strong> (аудитор ИБ).</p>
<p>Для уровня доступа <strong>User</strong> доступно три роли в рамках индивидуального проекта:</p>
<ul>
<li><strong>Viewer</strong> — доступ только на просмотр результатов анализов в рамках проекта;</li>
<li><strong>Developer</strong> — доступ к запуску анализа в веб-интерфейсе, через агента и через плагин прокси-репозитория;</li>
<li><strong>Owner</strong> — доступ к просмотру политик проекта, изменению настроек проекта и управлению доступами других пользователей проекта.</li>
</ul>
<p>Для уровня доступа <strong>Administrator</strong> доступен просмотр и изменение всех настроек и проектов в системе без ограничений.</p>
<p>Для уровня доступа <strong>Auditor</strong> доступен просмотр всех настроек и проектов в системе без возможности вносить и сохранять изменения.</p>
<p>В проекте может быть несколько пользователей с одинаковыми ролями, в том числе несколько <strong>Owner</strong>. При отсутствии пользователей в роли <strong>Owner</strong> проектом может управлять только пользователь с уровнем доступа <strong>Administrator</strong>.</p>
<p>Более подробное перечисление доступных действий для каждого уровня доступа представлено в таблице ниже:</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><strong>Действие</strong></th>
<th style="text-align: center;"><strong>User (Viewer)</strong></th>
<th style="text-align: center;"><strong>User (Developer)</strong></th>
<th style="text-align: center;"><strong>User (Owner)</strong></th>
<th style="text-align: center;"><strong>Auditor</strong></th>
<th style="text-align: center;"><strong>Administrator</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Analysis</strong>: запуск SCA анализа</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Analysis</strong>: запуск Authors анализа</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Analysis</strong>: запуск Quality анализа</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Activation key</strong>: просмотр информации об активационном ключе</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Activation key</strong>: сохранение активационного ключа</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Audit log</strong>: просмотр аудит лога</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Audit log</strong>: экспорт аудит лога</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Authors merge</strong>: просмотр правил</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Authors merge</strong>: создание правил</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Dashboard</strong>: просмотр страницы</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Dependencies</strong>: просмотр списка зависимостей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Dependencies</strong>: экспорт списка зависимостей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Email</strong>: просмотр настроек почты</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Email</strong>: редактирование настроек почты</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Groups</strong>: просмотр групп пользователей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Groups</strong>: создание групп пользователей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Groups</strong>: редактирование групп пользователей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Groups</strong>: удаление групп пользователей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>LDAP</strong>: просмотр настроек LDAP</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>LDAP</strong>: редактирование настроек LDAP</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>OSS Index</strong>: просмотр настроек OSS Index</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>OSS Index</strong>: редактирование настроек OSS Index</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policies</strong>: просмотр политик</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policies</strong>: создание политик</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policies</strong>: редактирование настроек политик</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policies</strong>: удаление политик</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policy alerts</strong>: просмотр списка алертов</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policy alerts</strong>: экспорт списка алертов</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policy ignores</strong>: просмотр правил</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policy ignores</strong>: создание правил</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policy ignores</strong>: редактирование правил</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Policy ignores</strong>: удаление правил</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: просмотр проектов</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: просмотр Contribution map</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: просмотр Complexity map</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: создание проектов</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: редактирование настроек проектов</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: удаление проектов</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: управление правами доступа групп для проектов</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: управление правами доступа пользователей для проектов</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Projects</strong>: загрузка SBOM</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Project categories</strong>: просмотр категорий</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Project categories</strong>: создание категорий</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Project categories</strong>: редактирование категорий</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Project categories</strong>: удаление категорий</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Proprietors</strong>: просмотр владельцев кода</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Proprietors</strong>: создание владельцев кода</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Proprietors</strong>: редактирование владельцев кода</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Proprietors</strong>: удаление владельцев кода</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Task managers</strong>: просмотр интеграций</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Task managers</strong>: добавление интеграций</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Task managers</strong>: редактирование настроек интеграций</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Task managers</strong>: удаление интеграций</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Task managers</strong>: выполнение проверки настроек</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Users</strong>: просмотр пользователей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Users</strong>: создание пользователей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Users</strong>: редактирование настроек пользователей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Users</strong>: удаление пользователей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>VCS</strong>: просмотр репозиториев</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>VCS</strong>: добавление репозиториев</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>VCS</strong>: редактирование настроек репозиториев</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>VCS</strong>: удаление репозиториев</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>VCS</strong>: выполнение проверки настроек</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Vulnerabilities</strong>: просмотр списка уязвимостей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Vulnerabilities</strong>: экспорт списка уязвимостей</td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
<td style="text-align: center;"><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8-1.41-1.42Z"/></svg></span></td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-users-_5">Группы пользователей<a class="headerlink" href="#on-premise-how-to-users-_5" title="Permanent link">&para;</a></h2>
<p>Пользователи внутри системы могут быть распределены в группы. Создание и управление группами происходит в разделе <code>Settings-&gt;Groups</code>. </p>
<p>Для создания новой группы пользователей необходимо перейти на форму по кнопке <strong>Create New</strong> и заполнить следующие поля:</p>
<ul>
<li><strong>Name</strong> — название группы;</li>
<li><strong>Description</strong> — описание.</li>
</ul>
<p>Группы могут быть добавлены к созданным проектам для более удобного отслеживания пользователей, связанных с проектом.</p></section><section class="print-page" id="on-premise-how-to-ldap-settings"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-ldap-settings.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-ldap-settings-ldap">Работа с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-ldap-settings-ldap_1">Возможности интеграции с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_1" title="Permanent link">&para;</a></h2>
<p><strong>CodeScoring</strong> поддерживает аутентификацию и авторизацию пользователей по протоколу <strong>LDAP</strong> и маппинг атрибутов
записей о пользователях в <strong>LDAP</strong> на атрибуты пользователей в системе.</p>
<h2 id="on-premise-how-to-ldap-settings-codescoring">Страница аутентификации CodeScoring<a class="headerlink" href="#on-premise-how-to-ldap-settings-codescoring" title="Permanent link">&para;</a></h2>
<p>На странице аутентификации доступно меню с выбором провайдера аутентификации. Помимо провайдера по умолчанию (локальные
учётные записи, <code>internal directory</code>), доступны для выбора активные интеграции с <strong>LDAP</strong> серверами.</p>
<p float="left">
  <img src="/assets/img/ldap/login-2.png" alt="выбор провайдера аутентификации" width="350" />
  <img src="/assets/img/ldap/login-1.png" alt="аутентификации через провайдера по умолчанию" width="350" /> 
</p>

<h2 id="on-premise-how-to-ldap-settings-ldap-codescoring">Маппинг атрибутов записей о пользователях LDAP на атрибуты пользователей CodeScoring<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap-codescoring" title="Permanent link">&para;</a></h2>
<p>При аутентификации через <strong>LDAP</strong> происходит маппинг следующих данных из записи в директории на учётную запись в CodeScoring:</p>
<ul>
<li>название УЗ (<code>username</code>)</li>
<li>имя</li>
<li>фамилия</li>
<li>электронная почта</li>
</ul>
<p><img alt="маппинг атрибутов записей на УЗ в CodeScoring" src="/assets/img/ldap/user_field_mapping.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-ldap-codescoring_1">Маппинг групп LDAP на группы и роли CodeScoring<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap-codescoring_1" title="Permanent link">&para;</a></h2>
<p>При аутентификации через LDAP CodeScoring может запрашивать данные LDAP-групп пользователя и производить их маппинг
на свои группы и роли. Для активации этой возможности в настройках LDAP необходимо заполнить следующие поля:</p>
<ul>
<li><code>Group search base</code></li>
<li><code>Group search filter for user</code></li>
<li><code>Group search filter for all groups</code></li>
<li><code>Group name field</code></li>
<li><code>Group member field</code></li>
</ul>
<p>CodeScoring производит маппинг согласно правилам, управление которыми доступно в разделе <code>Settings -&gt; Group mapping</code>.</p>
<p>Маппинг запускается только в двух случаях:</p>
<ul>
<li>в момент входа пользователя в систему</li>
<li>при нажатии кнопки <code>Apply all rules</code> в разделе <code>Settings -&gt; Group mapping</code></li>
</ul>
<p>Правила маппинга применяются следующим образом:</p>
<ul>
<li>в процессе маппинга обновляется состав групп пользователя</li>
<li>добавление, изменение и удаление правил маппинга не приведёт к обновлению групп пользователя</li>
<li>для применения изменённых правил, необходимо инициировать процесс маппинга одним из двух способов, указанных выше</li>
<li>группы пользователя, добавленные или отредактированные администратором в ручном режиме, не изменяются в процессе
маппинга, то есть приоритет отдаётся ручным изменениям</li>
<li>если при поиске LDAP-групп после успешной аутентификации в LDAP произошла ошибка, группы пользователей, применённые
согласно правилам маппинга, будут удалены</li>
</ul>
<p><img alt="создание правил маппинга групп LDAP на роли и группы CodeScoring" src="/assets/img/ldap/group_mapping_create.png" /></p>
<p><img alt="просмотр правил маппинга групп LDAP на роли и группы CodeScoring" src="/assets/img/ldap/group_mapping_list.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-ldap_2">Просмотр существующих интеграций с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_2" title="Permanent link">&para;</a></h2>
<p>Просмотр существующих интеграций доступен в разделе <code>Settings -&gt; LDAP</code>. В разделе отображаются таблица со списком
настроенных интеграций LDAP, кнопка для создания новой интеграции (<code>Setup new</code>), окно поиска (<code>Search</code>).</p>
<p><img alt="просмотр списка интеграций с LDAP" src="/assets/img/ldap/list.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-ldap_3">Просмотр деталей о существующей интеграции с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_3" title="Permanent link">&para;</a></h2>
<p>Просмотр деталей открывается при нажатии на гиперссылку с названием интеграции
либо при нажатии на кнопку View в разделе Actions.</p>
<p>При просмотре доступны следующие действия:</p>
<ul>
<li>удаление интеграции (<code>Delete</code>)</li>
<li>редактирование интеграции (<code>Edit</code>)</li>
<li>проверка доступности (<code>Refresh status</code>)</li>
</ul>
<p>Помимо основных полей настроек (описаны ниже), при просмотре деталей об интеграции с <strong>LDAP</strong> доступны данные о:</p>
<ul>
<li>дате создания</li>
<li>дате последнего обновления</li>
<li>статусе доступности</li>
<li>(опционально) причине недоступности</li>
</ul>
<p><img alt="просмотр деталей об интеграции с LDAP" src="/assets/img/ldap/view.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-ldap_4">Создание или редактирование интеграции с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_4" title="Permanent link">&para;</a></h2>
<p>Для того чтобы создать новую интеграцию с <strong>LDAP</strong>, необходимо на просмотре списка интеграций нажать на кнопку <code>Setup new</code>.
Для того чтобы отредактировать существующую интеграцию, необходимо нажать на кнопку <code>Edit</code> на странице
просмотра или списка интеграций. 
Формы создания и редактирования идентичны.</p>
<h3 id="on-premise-how-to-ldap-settings-_1">Описание полей формы<a class="headerlink" href="#on-premise-how-to-ldap-settings-_1" title="Permanent link">&para;</a></h3>
<ul>
<li><code>Name</code> — название интеграции, отображается на странице аутентификации</li>
<li><code>LDAP protocol</code> — выбор между протоколами <strong>LDAP</strong> и <strong>LDAPS</strong> (<strong>LDAP</strong> поверх <strong>SSL</strong>)</li>
<li><code>LDAP hostname</code> — доменное имя или IP адрес сервера <strong>LDAP</strong></li>
<li><code>LDAP port</code> — порт <strong>LDAP</strong> сервера</li>
<li><code>User search base</code> — указание места поиска записей о пользователе</li>
<li><code>User search filter</code> — фильтр для поиска записи о пользователе. Должен содержать шаблон <code>%USERNAME%</code>, при поиске он 
будет заменён на имя УЗ, для которой производится аутентификация через LDAP</li>
<li><code>Username field</code> — атрибут хранящий название УЗ пользователя в записи о нём</li>
<li><code>Email field</code> — атрибут хранящий email пользователя в записи о нём</li>
<li><code>First name field</code> — атрибут хранящий имя пользователя в записи о нём</li>
<li><code>Last name field</code> — атрибут хранящий фамилию пользователя в записи о нём</li>
<li><code>Username format</code> — выбор формата строки авторизации</li>
<li><code>Domain</code> — указание домена <strong>Active Directory</strong> (появляется при выборе соответствующего <strong>Username format</strong>`)</li>
<li><code>Service user</code> — логин пользователя с правами чтения каталогов на сервере <strong>LDAP</strong></li>
<li><code>Service user password</code> — пароль пользователя с правами чтения каталогов на сервере <strong>LDAP</strong></li>
<li><code>Group search base</code> — указание места поиска записей о группах</li>
<li><code>Group search filter for user</code> — фильтр для поиска записей о группах, к которым принадлежит пользователь. Должен 
содержать шаблон <code>%USERNAME%</code>, при поиске он будет заменён на имя УЗ, для которой производится аутентификация через <strong>LDAP</strong></li>
<li><code>Group search filter for all groups</code> — фильтр для поиска записей о всех группах в <strong>LDAP</strong></li>
<li><code>Group name field</code> — атрибут хранящий название группы в записи о ней</li>
<li><code>Group member field</code> — атрибут хранящий идентификаторы членов группы в записи о ней</li>
<li><code>Use tls</code> — использовать <strong>TLS</strong></li>
<li><code>Is active</code> — используется ли интеграция с <strong>LDAP</strong> для аутентификации пользователей</li>
</ul>
<p><img alt="поля создания или редактирования" src="/assets/img/ldap/edit_or_create.png" /></p>
<h3 id="on-premise-how-to-ldap-settings-username-format">Доступные опции для username format<a class="headerlink" href="#on-premise-how-to-ldap-settings-username-format" title="Permanent link">&para;</a></h3>
<p><img alt="доступные опции для username format" src="/assets/img/ldap/username_format.png" /> </p>
<h3 id="on-premise-how-to-ldap-settings-ldap_5">Тестирование конфигурации интеграции с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_5" title="Permanent link">&para;</a></h3>
<p>Для удобства конфигурации пользователям доступны 2 формы для тестирования подключения:</p>
<ul>
<li>тестирование подключения и аутентификации (<code>test bind</code>)</li>
<li>тестирование поиска (<code>test search</code>)</li>
</ul>
<p>Для обоих тестов комбинируются данные из основной формы с данными формы тестирования. Данные из полей <code>Service user</code> и 
<code>Service user password</code> игнорируются.</p>
<h4 id="on-premise-how-to-ldap-settings-_2">Тестирование подключения и аутентификации<a class="headerlink" href="#on-premise-how-to-ldap-settings-_2" title="Permanent link">&para;</a></h4>
<p>При нажатии на кнопку теста (<code>Test it</code>) происходит подключение к LDAP серверу (операция <code>bind</code>). В случае успешного
теста выводится уведомление об успехе операции, в случае провала теста — сообщение об ошибке.</p>
<p><img alt="успешный тест соединения" src="/assets/img/ldap/test_bind_success.png" />
<img alt="проваленный тест соединения" src="/assets/img/ldap/test_bind_fail.png" /> </p>
<h4 id="on-premise-how-to-ldap-settings-_3">Тестирование загрузки данных о пользователе<a class="headerlink" href="#on-premise-how-to-ldap-settings-_3" title="Permanent link">&para;</a></h4>
<p>При нажатии на кнопку теста (<code>Test it</code>) происходит подключение к LDAP серверу (операция <code>bind</code>) и поиск данных о 
пользователе (операция <code>search</code>) согласно данным в форме. В случае успешного теста выводится уведомление об успехе
операции и результат поиска, в случае провала теста — сообщение об ошибке.</p>
<p><img alt="успешный тест загрузки данных о пользователе" src="/assets/img/ldap/test_search_success.png" />
<img alt="проваленный тест загрузки данных о пользователе" src="/assets/img/ldap/test_search_fail.png" /> </p>
<h4 id="on-premise-how-to-ldap-settings-_4">Тестирование загрузки данных о группах<a class="headerlink" href="#on-premise-how-to-ldap-settings-_4" title="Permanent link">&para;</a></h4>
<p>При нажатии на кнопку теста (<code>Test it</code>) происходит подключение к LDAP серверу (операция <code>bind</code>) и поиск данных о
группах (операция <code>search</code>) согласно данным в форме. В случае успешного теста выводится уведомление об успехе
операции и результат поиска, в случае провала теста — сообщение об ошибке.
<img alt="успешный тест загрузки данных о группах" src="/assets/img/ldap/test_load_groups_success.png" />
<img alt="проваленный тест загрузки данных о группах" src="/assets/img/ldap/test_load_groups_fail.png" /> </p>
<h2 id="on-premise-how-to-ldap-settings-ldap_6">Механизм аутентификации с помощью LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_6" title="Permanent link">&para;</a></h2>
<p><img alt="иллюстрация механизма аутентификации с помощью LDAP" src="/assets/img/ldap/auth_swimlane.png" /> </p>
<h2 id="on-premise-how-to-ldap-settings-_5">Замечания<a class="headerlink" href="#on-premise-how-to-ldap-settings-_5" title="Permanent link">&para;</a></h2>
<ul>
<li>Использование авторизации через <strong>LDAP</strong> не подразумевает полную синхронизацию директории с информацией о пользователях из <strong>Службы каталогов</strong>.</li>
<li>Редактирование название УЗ (<code>username</code>) и назначение пароля пользователю из <strong>LDAP</strong> невозможно.</li>
<li>Возможно наличие пользователей из различных провайдеров аутентификации с одинаковым названием УЗ (<code>username</code>).</li>
<li>Возможно назначение пользователю из <strong>LDAP</strong> любого уровня доступа (<code>User</code>, <code>Auditor</code>, <code>Administrator</code>).</li>
</ul></section><section class="print-page" id="on-premise-how-to-graphs"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-graphs.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-graphs-_1">Работа с визуализацией графов зависимостей<a class="headerlink" href="#on-premise-how-to-graphs-_1" title="Permanent link">&para;</a></h1>
<p>Open Source зависимости программных проектов представляют собой граф — структуру, в которой отдельные компоненты выступают узлами, а связи между ними представлены в виде ребер.</p>
<p>Увидеть визуализацию графов зависимостей можно в разделе <code>Dependencies</code> или на странице проекта, нажав на соответствующую иконку в списке зависимостей.</p>
<p><img alt="Dependencies" src="/assets/img/dependencies_list.png" /></p>
<p>На странице с интерактивной визуализацией представлены компоненты по уровням вложенности — от корневой зависимости до максимального уровня транзитивных зависимостей. По наведению курсора на объекты можно увидеть более подробную информацию о компоненте: версия, окружение, технология и количество уязвимостей.</p>
<p>Визуализация интерактивна и масштабируема. По нажатию на компоненту можно отследить путь ее попадания в проект. Компоненты с найденными уязвимостями обозначаются цветом.</p>
<p><img alt="Graph" src="/assets/img/graph.png" /></p>
<p>Компоненты на полученном графе можно отфильтровать по следующим параметрам: </p>
<ul>
<li>технология;</li>
<li>среда разработки;</li>
<li>степень критичности уязвимости.</li>
</ul></section><section class="print-page" id="on-premise-how-to-notifications"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-notifications.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-notifications-_1">Настройка уведомлений<a class="headerlink" href="#on-premise-how-to-notifications-_1" title="Permanent link">&para;</a></h1>
<p>Для каждой политики можно настроить дополнительные уведомления о срабатывании политик, помимо просмотра результатов в разделе <code>Policy Alerts</code>. На данный момент доступно два способа оповещения: через <strong>email</strong> и через таск-менеджер <strong>Jira</strong>.</p>
<h2 id="on-premise-how-to-notifications-email">Уведомления через email<a class="headerlink" href="#on-premise-how-to-notifications-email" title="Permanent link">&para;</a></h2>
<p>Отправка email оповещений осуществляется через интеграцию по протоколу SMTP.</p>
<p>Для отправки уведомлений через email необходимо предварительно настроить почтовый сервер в разделе <code>Settings -&gt; Email</code>. Для этого нужно заполнить все обязательные параметры и активировать флаг <strong>Is active</strong>.</p>
<p>Проверить правильность конфигурации можно по кнопке <strong>Test it</strong>.</p>
<p><img alt="CodeScoring email settings example" src="/assets/img/email-settings.png" /></p>
<p>После настройки почтового сервера в разделе <code>Actions</code> на странице политики можно добавить email адрес, на который будет осуществляться рассылка писем с результатами работы политики.</p>
<p><img alt="Add email" src="/assets/img/actions-email.png" /></p>
<p>Письмо с результатами работы политики отправляется <strong>по завершении сканирования проекта или контейнерного образа</strong>. В письме содержится список всех политик, для которых были настроены уведомления и которые сработали как минимум один раз, а также следующая информация о данных политиках:</p>
<ul>
<li><strong>Policy name</strong> — название сработавшей политики;</li>
<li><strong>Blocker</strong> — признак блокирующей политики;</li>
<li><strong>Dependency</strong>  — название компонента;</li>
<li><strong>Vulnerability</strong> — идентификатор уязвимости.</li>
</ul>
<h2 id="on-premise-how-to-notifications-jira">Создание задач в Jira<a class="headerlink" href="#on-premise-how-to-notifications-jira" title="Permanent link">&para;</a></h2>
<p>CodeScoring поддерживает интеграцию с таск-менеджером Jira для формирования задач по сработавшим политикам. Настройка интеграции происходит в разделе <code>Settings -&gt; Task managers</code>.</p>
<p>Для создания новой интеграции используется форма по кнопке <strong>Setup new</strong>.</p>
<ul>
<li><strong>Name</strong> - название интеграции;</li>
<li><strong>Type</strong> - тип таск-менеджера (по умолчанию – Jira Server);</li>
<li><strong>URL</strong> - адрес, по которому доступен таск-менеджер;</li>
<li><strong>Auth type</strong> - тип аутентификации (через access token или логин и пароль).</li>
</ul>
<p>После заполнения полей можно проверить соединение с сервером по кнопке <strong>Test it</strong>, или завершить создание по кнопке <strong>Setup now</strong>.</p>
<p><img alt="CodeScoring Jira settings example" src="/assets/img/jira-settings.png" /></p>
<p>После настройки интеграции в разделе <code>Actions</code> на странице политики можно добавить сервер Jira, на котором будет создаваться задача с результатами работы политики.</p></section><section class="print-page" id="on-premise-how-to-audit-log"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-audit-log.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-audit-log--">Работа с аудит-логом<a class="headerlink" href="#on-premise-how-to-audit-log--" title="Permanent link">&para;</a></h1>
<p>Аудит-лог – это журнал событий в системе <strong>CodeScoring</strong>. Он находится в разделе <code>Settings -&gt; Audit log</code>.</p>
<p>В аудит-логе фиксируются события системы, действия пользователей и произошедшие ошибки. Каждое событие содержит следующие данные:</p>
<ul>
<li><strong>Event time</strong> – дата и время события;</li>
<li><strong>Actor</strong> – имя пользователя или <code>system</code> для действий системы;</li>
<li><strong>Message</strong> – сообщение с деталями;</li>
<li><strong>Duration</strong> – продолжительность событий по этапам анализа и работе с внешними источниками.</li>
</ul>
<p>Журнал можно отфильтровать по периоду или исполнителю, а также найти в нем конкретное событие, используя поле <code>Search</code>. Также доступен экспорт журнала в формате CSV.</p>
<p>События в аудит-логе разделяются на несколько категорий. Ниже приведен полный список возможных событий по каждой из категорий с расшифровками.</p>
<h2 id="on-premise-how-to-audit-log-_1">Активация лицензии<a class="headerlink" href="#on-premise-how-to-audit-log-_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Object <ActivationKey: Owner: {owner.name}. Expired: YYYY-ММ-DD HH:MM:SS+HH:MM (timezone). Authors limit: {limit.number}> created</em></td>
<td>Активация лицензии на ПО с указанием владельца ключа и ограничения по количеству авторов</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-_2">Аутентификация пользователя<a class="headerlink" href="#on-premise-how-to-audit-log-_2" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>User logged in</em></td>
<td>Пользователь успешно аутентифицировался в системе</td>
</tr>
<tr>
<td><em>User logged out</em></td>
<td>Пользователь вышел из системы</td>
</tr>
<tr>
<td><em>Failed login attempt {username}</em></td>
<td>Введен неверный пароль при попытке аутентификации</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-_3">Управление объектами<a class="headerlink" href="#on-premise-how-to-audit-log-_3" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Object {instance!r} created</em></td>
<td>Создание любого объекта в системе пользователем через интерфейс</td>
</tr>
<tr>
<td><em>Object {instance!r} updated</em></td>
<td>Обновление любого объекта в системе пользователем через интерфейс</td>
</tr>
<tr>
<td><em>Object {instance!r} deleted</em></td>
<td>Удаление любого объекта в системе пользователем через интерфейс</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-sca">Запуск SCA анализа<a class="headerlink" href="#on-premise-how-to-audit-log-sca" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>[SCA][{analysis_run.project.name}][{analysis_run.sequence}/{analysis_run.pk}] Analysis started</em></td>
<td>SCA анализ проекта запущен</td>
</tr>
<tr>
<td><em>[SCA][{analysis_run.project.name}][{analysis_run.sequence}/{analysis_run.pk}] Analysis finished</em></td>
<td>SCA анализ проекта окончен</td>
</tr>
<tr>
<td><em>[SCA][{analysis_run.project.name}][{analysis_run.sequence}/{analysis_run.pk}] Analysis failed. Check server logs.</em></td>
<td>SCA анализ проекта завершился с ошибкой. Необходимо проверить логи сервера.</td>
</tr>
<tr>
<td><em>Failed to clone for repository {repository.name}.</em></td>
<td>Клонирование репозитория не удалось</td>
</tr>
<tr>
<td><em>Failed to detect branch for repository "{repository.name}</em></td>
<td>Не удалось обнаружить ветку для репозитория</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Clone source code</em></td>
<td>Клонирование исходного кода проекта запущено</td>
</tr>
<tr>
<td><em>SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Collect files data</em></td>
<td>Поиск данных о файлах проекта запущен</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Collect manifests</em></td>
<td>Поиск манифестов проекта запущен</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Create pipeline</em></td>
<td>Создание pipeline для SCA анализа проекта запущено</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Check policies</em></td>
<td>Проверка политик SCA анализа проекта запущена</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Update project metrics</em></td>
<td>Обновление метрик проекта для SCA анализа проекта запущено</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Analyze dependencies</em></td>
<td>Анализ зависимостей проекта для SCA анализа проекта запущен</td>
</tr>
<tr>
<td><em>(Run #{task.id}) Analysis started via API</em></td>
<td>Анализ запущен через консольный агент по API с uuid запуска</td>
</tr>
<tr>
<td><em>Some tasks in analysis failed</em></td>
<td>Некоторые задачи при анализе не выполнены</td>
</tr>
<tr>
<td><em>Could not connect to OSS Index, reason: {err}</em></td>
<td>Не удалось подключиться к индексу OSS с указанием ошибки</td>
</tr>
<tr>
<td><em>[[SCA][{project.name}] Analysis didn't start (Reason: {err.message})]</em></td>
<td>SCA анализ проекта не запустился с указанием ошибки</td>
</tr>
<tr>
<td><em>Overall SCA run started for {len(projects)} project(s)</em></td>
<td>Запущен SCA анализ для проектов</td>
</tr>
</tbody>
</table>
<p>Каждое событие SCA анализа содержит последовательный номер анализа в проекте и uuid запуска.</p>
<h2 id="on-premise-how-to-audit-log-tqi">Запуск TQI анализа<a class="headerlink" href="#on-premise-how-to-audit-log-tqi" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Rebuild author {primary_email}</em></td>
<td>Обновление информации по автору на основании правил объединения по основному email</td>
</tr>
<tr>
<td><em>Generate authors merge rules</em></td>
<td>Создание правил слияния авторов</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Collect commits data for project {project.name}</em></td>
<td>Сбор данных коммитов для проекта запущен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Create authors</em></td>
<td>Создание авторов</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Load authors OSS contributions</em></td>
<td>Загрузка вклада авторов в OSS</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Authors analysis started</em></td>
<td>Начался анализ авторов</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Authors analysis completed</em></td>
<td>Анализ авторов успешно завершен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Authors analysis failed. Check server logs.</em></td>
<td>Анализ авторов завершен с ошибкой. Необходимо проверить логи сервера</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Authors analysis cancelled</em></td>
<td>Анализ авторов отменен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Update project {project.name}</em></td>
<td>Обновление проекта</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clones analysis started</em></td>
<td>Запущен анализ клонированного кода запущен </td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clones analysis completed</em></td>
<td>Завершен анализ клонированного кода </td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clones analysis failed. Check server logs.</em></td>
<td>Анализ клонированного кода  завершен с ошибкой. Необходимо проверить логи сервера</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clones analysis cancelled</em></td>
<td>Анализ клонированного кода  отменен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clone source code for project {project.name}</em></td>
<td>Клонирование репозитория исходного кода проекта запущено</td>
</tr>
</tbody>
</table>
<p>Каждое событие TQI анализа содержит ID запуска.</p>
<h2 id="on-premise-how-to-audit-log-_4">Управление политиками<a class="headerlink" href="#on-premise-how-to-audit-log-_4" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Policy ignore {policy_ignore} created</em></td>
<td>Создание политики игнорирования из алертов</td>
</tr>
<tr>
<td><em>Policy ignore {policy_ignore} activated</em></td>
<td>Активация политики игнорирования из алертов</td>
</tr>
<tr>
<td><em>To Policy ignore {policy_ignore} added Policy {policy_alert.policy}</em></td>
<td>Добавлена политика в существующее правило игнорирования</td>
</tr>
</tbody>
</table></section><section class="print-page" id="on-premise-how-to-metrics"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-metrics.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-metrics-_1">Настройка метрик<a class="headerlink" href="#on-premise-how-to-metrics-_1" title="Permanent link">&para;</a></h1>
<p>CodeScoring хранит метрики в формате, поддерживаемом инструментом мониторинга <strong>Prometheus</strong>. На данный момент доступны метрики с инсталляции CodeScoring и плагинов в прокси-репозиториях.</p>
<h2 id="on-premise-how-to-metrics-c">Cбор метрик с инсталляции<a class="headerlink" href="#on-premise-how-to-metrics-c" title="Permanent link">&para;</a></h2>
<p>Метрики с инсталляции доступны в <strong>CodeScoring API</strong> по адресу <code>{installation-url}/api/metrics</code>. Для того, чтобы настроить отслеживание метрик в Prometheus, необходимо выполнить следующие шаги:</p>
<ol>
<li>
<p>Открыть файл конфигурации <code>prometheus.yml</code> и добавить параметры для мониторинга метрик. Ниже приведен пример:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-how-to-metrics-__codelineno-0-1"></a><span class="nt">global</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-how-to-metrics-__codelineno-0-2"></a><span class="w">  </span><span class="nt">scrape_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15s</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#on-premise-how-to-metrics-__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#on-premise-how-to-metrics-__codelineno-0-4"></a><span class="w">  </span><span class="nt">scrape_configs</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#on-premise-how-to-metrics-__codelineno-0-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;demo-codescoring&#39;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#on-premise-how-to-metrics-__codelineno-0-6"></a><span class="w">    </span><span class="nt">metrics_path</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;/api/metrics&#39;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#on-premise-how-to-metrics-__codelineno-0-7"></a><span class="w">    </span><span class="nt">static_configs</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#on-premise-how-to-metrics-__codelineno-0-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;{installation-url}&#39;</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># Адрес хоста инсталляции</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#on-premise-how-to-metrics-__codelineno-0-9"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;osa&#39;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#on-premise-how-to-metrics-__codelineno-0-10"></a><span class="w">    </span><span class="nt">metrics_path</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;/api/osa/metrics&#39;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#on-premise-how-to-metrics-__codelineno-0-11"></a><span class="w">    </span><span class="nt">static_configs</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#on-premise-how-to-metrics-__codelineno-0-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;{installation-url}&#39;</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># Адрес хоста инсталляции</span>
</code></pre></div>
</li>
<li>
<p>Перезапустить Prometheus, чтобы изменения вступили в силу.</p>
</li>
<li>
<p>Открыть интерфейс Prometheus и перейти на страницу <strong>Graph</strong>. В поле запроса ввеcти название одной из метрик:</p>
</li>
</ol>
<p><strong>Метрики очередей</strong></p>
<ul>
<li><code>codescoring_tasks_queue_size_total</code> – общее количество задач, ожидающих выполнения;</li>
<li><code>codescoring_tasks_schedule_queue_size_total</code> – общее количество запланированных задач, ожидающих выполнения;</li>
<li><code>codescoring_tasks_running_tasks_total</code> – общее количество задач, выполняющихся в данный момент.</li>
</ul>
<p>Данные метрики можно отфильтровать по лейблу <code>queue</code> со следующими возможными значениями: <code>ipcs</code>, <code>high-priority</code>, <code>osa-container-image-scan</code> , <code>osa-package-scan</code>, <code>policy</code> и <code>tqi</code>.</p>
<p><strong>Метрики анализа</strong></p>
<ul>
<li><code>codescoring_running_analyses_total</code> – общее количество выполняющихся анализов. Данную метрику можно отфильтровать по лейблу <code>analysis_type</code> со следующими возможными значениями: <code>sca</code>, <code>authors</code> и <code>clones</code>.</li>
</ul>
<p><strong>Метрики запросов от плагинов OSA</strong></p>
<ul>
<li><code>codescoring_registration_packages_queue_size</code> – очередь регистрации пакетов из OSA;</li>
<li><code>codescoring_registration_container_images_queue_size</code> – очередь регистрации контейнерных образов из OSA.</li>
</ul>
<p>Пример визуализации метрик:</p>
<p><img alt="Prometheus metrics" src="/assets/img/prometheus_metrics.png" /></p>
<h2 id="on-premise-how-to-metrics-osa">Сбор метрик OSA<a class="headerlink" href="#on-premise-how-to-metrics-osa" title="Permanent link">&para;</a></h2>
<p>Метрики OSA содержат количество и время запросов от плагинов, а также количество просканированных и заблокированных компонентов в менеджерах репозиториев. Метрики доступны в <strong>CodeScoring API</strong> по адресу <code>{installation-url}/api/osa/metrics</code>.</p>
<p>Доступны следующие метрики OSA:</p>
<p><strong>Метрики соединений</strong></p>
<ul>
<li>
<p><code>codescoring_osa_api_db_connection_pool</code> – пул соединений к базе данных. Данную метрику можно отфильтровать по лейблу <code>measure</code> со следующими возможными значениями: <code>pool_min</code>, <code>pool_max</code>, <code>pool_size</code>, <code>pool_available</code> и <code>requests_waiting</code>.</p>
</li>
<li>
<p><code>codescoring_osa_api_redis_connection_pool</code> – пул соединений к Redis. Данную метрику можно отфильтровать по лейблу <code>measure</code> со следующими возможными значениями: <code>available connections</code>, <code>in_use_connections</code>, <code>total_connections</code>.</p>
</li>
</ul>
<p><strong>Метрики запросов компонентов</strong></p>
<ul>
<li><code>codescoring_osa_api_http_request_duration_seconds_sum</code> – общее время запроса;</li>
<li><code>codescoring_osa_api_http_request_duration_seconds_bucket</code> – время запроса по временным рядам;</li>
<li><code>codescoring_osa_api_http_requests_total</code> – общее количество запросов.</li>
</ul>
<p>Данные метрики можно отфильтровать по лейблам handler'a, статуса и метода запроса. Например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-how-to-metrics-__codelineno-1-1"></a>codescoring_osa_api_http_request_duration_seconds_bucket{handler=&quot;/api/osa/packages/&quot;,le=&quot;0.01&quot;,method=&quot;POST&quot;,status=&quot;2xx&quot;} 0.0
</code></pre></div>
<p><strong>Метрики статусов компонентов</strong></p>
<ul>
<li><code>codescoring_osa_api_requested_component_block_status_total</code> – количество запрошенных компонентов в определенном статусе блокировки.</li>
</ul>
<p>Данную метрику можно отфильтровать по лейблам <code>object_type</code> и <code>block_status</code>. Например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-how-to-metrics-__codelineno-2-1"></a>codescoring_osa_api_requested_component_block_status_total{block_status=&quot;blocked_by_policies&quot;,object_type=&quot;package&quot;}
</code></pre></div>
<ul>
<li><code>codescoring_osa_api_requested_component_scan_status_total</code> – количество запрошенных компонентов в определенном статусе сканирования.</li>
</ul>
<p>Данную метрику можно отфильтровать по лейблам <code>object_type</code> и <code>scan_status</code>. Например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-how-to-metrics-__codelineno-3-1"></a>codescoring_osa_api_requested_component_scan_status_total{object_type=&quot;container_image&quot;,scan_status=&quot;not_scanned&quot;}
</code></pre></div></section><section class="print-page" id="on-premise-how-to-api"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-api.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-api-api">Работа с API<a class="headerlink" href="#on-premise-how-to-api-api" title="Permanent link">&para;</a></h1>
<p>Система CodeScoring имеет открытый API, который позволяет программно взаимодействовать с системой. Для описания команд API используется инструмент Swagger, доступный по ссылке <strong>[installation-url]/api/swagger</strong>.</p>
<h2 id="on-premise-how-to-api-_1">Начало работы<a class="headerlink" href="#on-premise-how-to-api-_1" title="Permanent link">&para;</a></h2>
<p>Чтобы начать работу с CodeScoring API, необходим токен для аутентификации запросов. Получить токен можно в разделе <code>User profile</code> по нажатию кнопки <strong>Generate</strong> в поле <code>API Token</code>.</p>
<p>Для аутентификации запросов вне Swagger необходимо прописать токен в header следующим образом:</p>
<p><code>Authorization: token &lt;YOUR_TOKEN&gt;</code></p>
<h2 id="on-premise-how-to-api-api_1">Структура API<a class="headerlink" href="#on-premise-how-to-api-api_1" title="Permanent link">&para;</a></h2>
<p>Открытый API предоставляет ряд эндпоинтов, которые позволяют выполнять основные операции в системе. Эндпоинты разделены на разделы, соответствующие сущностям CodeScoring — зависимостям, лицензиям, уязвимостям, авторам и т.д.</p>
<p>Примеры использования некоторых команд в API:</p>
<ul>
<li>Запустить анализ всех проектов:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-how-to-api-__codelineno-0-1"></a>curl<span class="w"> </span>-X<span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-how-to-api-__codelineno-0-2"></a><span class="w">  </span><span class="s1">&#39;[installation_url]/api/analyses/overall_sca/start/&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#on-premise-how-to-api-__codelineno-0-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#on-premise-how-to-api-__codelineno-0-4"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: token &lt;YOUR_TOKEN&gt;&#39;</span>
</code></pre></div>
<ul>
<li>Добавить политику: </li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-how-to-api-__codelineno-1-1"></a>curl<span class="w"> </span>-X<span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#on-premise-how-to-api-__codelineno-1-2"></a><span class="w">  </span><span class="s1">&#39;[installation_url]/api/policies/&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#on-premise-how-to-api-__codelineno-1-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#on-premise-how-to-api-__codelineno-1-4"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: token &lt;YOUR_TOKEN&gt;&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#on-premise-how-to-api-__codelineno-1-5"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#on-premise-how-to-api-__codelineno-1-6"></a><span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#on-premise-how-to-api-__codelineno-1-7"></a><span class="s1">  &quot;name&quot;: &quot;string&quot;,</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#on-premise-how-to-api-__codelineno-1-8"></a><span class="s1">  &quot;stages&quot;: [</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#on-premise-how-to-api-__codelineno-1-9"></a><span class="s1">    &quot;dev&quot;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#on-premise-how-to-api-__codelineno-1-10"></a><span class="s1">  ],</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#on-premise-how-to-api-__codelineno-1-11"></a><span class="s1">  &quot;level&quot;: &quot;info&quot;,</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#on-premise-how-to-api-__codelineno-1-12"></a><span class="s1">  &quot;proprietors&quot;: [</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#on-premise-how-to-api-__codelineno-1-13"></a><span class="s1">    0</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#on-premise-how-to-api-__codelineno-1-14"></a><span class="s1">  ],</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#on-premise-how-to-api-__codelineno-1-15"></a><span class="s1">  &quot;projects&quot;: [</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#on-premise-how-to-api-__codelineno-1-16"></a><span class="s1">    0</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#on-premise-how-to-api-__codelineno-1-17"></a><span class="s1">  ],</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#on-premise-how-to-api-__codelineno-1-18"></a><span class="s1">  &quot;conditions&quot;: {</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#on-premise-how-to-api-__codelineno-1-19"></a><span class="s1">    &quot;additionalProp1&quot;: &quot;string&quot;,</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#on-premise-how-to-api-__codelineno-1-20"></a><span class="s1">    &quot;additionalProp2&quot;: &quot;string&quot;,</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#on-premise-how-to-api-__codelineno-1-21"></a><span class="s1">    &quot;additionalProp3&quot;: &quot;string&quot;</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#on-premise-how-to-api-__codelineno-1-22"></a><span class="s1">  },</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#on-premise-how-to-api-__codelineno-1-23"></a><span class="s1">  &quot;conditions_connector&quot;: &quot;and&quot;,</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#on-premise-how-to-api-__codelineno-1-24"></a><span class="s1">  &quot;is_active&quot;: true,</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#on-premise-how-to-api-__codelineno-1-25"></a><span class="s1">  &quot;is_blocks_build&quot;: true,</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#on-premise-how-to-api-__codelineno-1-26"></a><span class="s1">  &quot;description&quot;: &quot;string&quot;</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#on-premise-how-to-api-__codelineno-1-27"></a><span class="s1">}&#39;</span>
</code></pre></div>
<ul>
<li>Получить информацию об отдельном проекте: </li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-how-to-api-__codelineno-2-1"></a>curl<span class="w"> </span>-X<span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#on-premise-how-to-api-__codelineno-2-2"></a><span class="w">  </span><span class="s1">&#39;[installation_url]/api/projects/340/&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#on-premise-how-to-api-__codelineno-2-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#on-premise-how-to-api-__codelineno-2-4"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: token &lt;YOUR_TOKEN&gt;&#39;</span>
</code></pre></div>
<ul>
<li>Получить список доступных лицензий: </li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-how-to-api-__codelineno-3-1"></a>curl<span class="w"> </span>-X<span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#on-premise-how-to-api-__codelineno-3-2"></a><span class="w">  </span><span class="s1">&#39;[installation_url]/api/licenses/&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#on-premise-how-to-api-__codelineno-3-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#on-premise-how-to-api-__codelineno-3-4"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: token &lt;YOUR_TOKEN&gt;&#39;</span>
</code></pre></div>
<p><strong>Важно!</strong>: команды создания и изменения основных сущностей в системе, таких как проекты, находятся в разделах с приставкой <strong>settings &gt;</strong>.</p></section><h1 class='nav-section-title-end'>Ended: Начало работы с on-premise</h1>
                        <h1 class='nav-section-title' id='section-работа-с-codescoring-osa'>
                            Работа с CodeScoring OSA <a class='headerlink' href='#section-работа-с-codescoring-osa' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="osa"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-index.en">English</a></li>
</ul>
<h1 id="osa-codescoring-osa">CodeScoring OSA<a class="headerlink" href="#osa-codescoring-osa" title="Permanent link">&para;</a></h1>
<h2 id="osa-_1">Общее описание<a class="headerlink" href="#osa-_1" title="Permanent link">&para;</a></h2>
<p><strong>CodeScoring</strong> реализует модуль <em>OSA</em> через специализированные плагины, которые осуществляют блокировку загрузки нежелательных компонентов в <strong>Sonatype Nexus Repository</strong> и <strong>JFrog Artifactory</strong>.</p>
<p>Плагин встраивается в цепочку обработки <em>request|response</em> <strong>Sonatype Nexus Repository</strong> и <strong>JFrog Artifactory</strong>, что обеспечивает блокирование нежелательных компонентов при любой попытке их скачивания, используя командный интерфейс выбранного пакетного менеджера или веб-интерфейс.</p>
<p><strong>Рекомендации по установке и настройке плагина:</strong></p>
<ul>
<li><a href="#osa-nexus_osa">Sonatype Nexus Repository</a></li>
<li><a href="#osa-jfrog_osa">JFrog Artifactory</a></li>
</ul>
<h2 id="osa-_2">Анализ архивов<a class="headerlink" href="#osa-_2" title="Permanent link">&para;</a></h2>
<p>Плагины поддерживают сканирование архивов в следующих форматах:</p>
<table>
<thead>
<tr>
<th>Экосистема</th>
<th>Формат архива</th>
</tr>
</thead>
<tbody>
<tr>
<td>Maven</td>
<td><code>.jar</code>, <code>.war</code>, <code>.ear</code></td>
</tr>
<tr>
<td>NPM</td>
<td><code>.tgz</code></td>
</tr>
<tr>
<td>PyPI</td>
<td><code>.zip</code>, <code>.tar</code>, <code>.tgz</code>, <code>.tar,gz</code>, <code>.tar.bz2</code>, <code>.egg</code>, <code>.whl</code></td>
</tr>
<tr>
<td>Nuget</td>
<td><code>.nupkg</code></td>
</tr>
<tr>
<td>Cocoapods</td>
<td><code>.tar.gz</code>, <code>.zip</code></td>
</tr>
<tr>
<td>Go</td>
<td><code>.mod</code>, <code>.zip</code></td>
</tr>
<tr>
<td>Gems</td>
<td><code>.rz</code>, <code>gz</code></td>
</tr>
<tr>
<td>Debian</td>
<td><code>.deb</code>, <code>.xz</code>, <code>.gz</code></td>
</tr>
<tr>
<td>Yum</td>
<td><code>.rpm</code></td>
</tr>
<tr>
<td>Alpine</td>
<td><code>.apk</code></td>
</tr>
<tr>
<td>Docker</td>
<td><code>.json</code></td>
</tr>
</tbody>
</table></section><section class="print-page" id="osa-nexus_osa"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-nexus_osa.en">English</a></li>
</ul>
<h1 id="osa-nexus_osa-codescoring-nexus-osa">CodeScoring Nexus OSA<a class="headerlink" href="#osa-nexus_osa-codescoring-nexus-osa" title="Permanent link">&para;</a></h1>
<h2 id="osa-nexus_osa-_1">Установка плагина<a class="headerlink" href="#osa-nexus_osa-_1" title="Permanent link">&para;</a></h2>
<p>Плагин <strong>CodeScoring Nexus OSA</strong> поставляется в виде JAR-файла и поддерживает версии Sonatype Nexus Repository Manager (NXRM) <strong>3.39.0-01</strong> и выше.</p>
<p>Для добавления плагина в <strong>NXRM</strong> необходимо:</p>
<ol>
<li>Скопировать полученный от вендора файл <code>nexus-codescoring-plugin.jar</code> в директорию <code>/opt/sonatype/nexus/deploy</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-nexus_osa-__codelineno-0-1"></a>cp<span class="w"> </span>nexus-codescoring-plugin.jar<span class="w"> </span>/opt/sonatype/nexus/deploy/nexus-codescoring-plugin.jar
</code></pre></div>
Если <strong>NXRM</strong> запущен в Docker-контейнере:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-nexus_osa-__codelineno-1-1"></a>docker<span class="w"> </span>cp<span class="w"> </span>nexus-codescoring-plugin.jar<span class="w"> </span>nexus:/opt/sonatype/nexus/deploy/nexus-codescoring-plugin.jar
</code></pre></div></li>
<li>Выдать права для пользователя и группы <code>nexus</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-nexus_osa-__codelineno-2-1"></a>chown<span class="w"> </span>nexus:nexus<span class="w"> </span>/opt/sonatype/nexus/deploy/nexus-codescoring-plugin.jar
</code></pre></div>
Если <strong>NXRM</strong> запущен в Docker-контейнере:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-nexus_osa-__codelineno-3-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-u<span class="w"> </span><span class="m">0</span><span class="w"> </span>nexus<span class="w"> </span>chown<span class="w"> </span>nexus:nexus<span class="w"> </span>/opt/sonatype/nexus/deploy/nexus-codescoring-plugin.jar
</code></pre></div></li>
</ol>
<p>После выполненных операций, необходимо произвести перезапуск NXRM.</p>
<h2 id="osa-nexus_osa-_2">Настройка плагина<a class="headerlink" href="#osa-nexus_osa-_2" title="Permanent link">&para;</a></h2>
<p>Для применения плагина <strong>CodeScoring OSA</strong> в дальнейшей работе, необходимо использовать механизм <strong>Capability</strong>, предоставляемый <strong>NXRM</strong>. <strong>Capability</strong> – это набор API и компонентов UI для встраивания в <strong>NXRM</strong>, позволяющий расширять его функциональность.</p>
<p>Плагин <strong>CodeScoring OSA</strong> предоставляет четыре новые <strong>Capability</strong>:</p>
<ul>
<li><strong>CodeScoring Configuration</strong> — настройка взаимодействия с <strong>on-premise</strong> инсталляцией <strong>CodeScoring</strong>;</li>
<li><strong>CodeScoring Scan</strong> — настройка сканирования для отдельно выбранного прокси-репозитория;</li>
<li><strong>CodeScoring Docker Repository Scan</strong> – настройка сканирования для отдельно выбранного hosted docker репозитория;</li>
<li><strong>CodeScoring All Repositories Scan</strong> – настройка сканирования для всех репозиториев.</li>
</ul>
<p>После установки плагина <strong>CodeScoring OSA</strong> в разделе <code>System -&gt; Capabilities</code> появится возможность создания <strong>Capability</strong> через элемент (<code>+ Create capability</code>) интерфейса.</p>
<p><img alt="CodeScoring capability creation example" src="/assets/img/osa/capability_create_example.png" /></p>
<h3 id="osa-nexus_osa-codescoring-configuration">CodeScoring Configuration<a class="headerlink" href="#osa-nexus_osa-codescoring-configuration" title="Permanent link">&para;</a></h3>
<p>Расширение позволяет задать общие настройки плагина для работы с <strong>on-premise</strong> версией <strong>CodeScoring</strong>:</p>
<ul>
<li><strong>CodeScoring Token</strong> – ключ для авторизации вызовов API (<em>Создается из CodeScoring раздела <code>Profile -&gt; Home</code></em>);</li>
<li><strong>CodeScoring URL</strong> – адрес <strong>on-premise</strong> инсталляции <strong>CodeScoring</strong>;</li>
<li><strong>HttpClient Connection Pool Size</strong> – количество доступных соединений. Параметр позволяет управлять количеством параллельных запросов, чтобы ускорить сканирование;</li>
<li><strong>HTTP Proxy Host</strong> – адрес прокси-сервера. Используется в случае, если нет возможности наладить прямое соединение между NXRM и CodeScoring;</li>
<li><strong>HTTP Proxy Port</strong> – порт прокси-сервера;</li>
<li><strong>Store artifact analysis in the DB to retrieve them via REST</strong> – сохранение результатов сканирования артифакта в базе NXRM с возможностью извлечения из Nexus API;</li>
<li><strong>Block downloads in case of plugin or CodeScoring errors</strong> – блокировка загрузки компонента при наличии ошибок от плагина или CodeScoring API.</li>
<li><strong>Custom message for blocked packages</strong> – сообщение для пользователя при блокировке компонентов;</li>
<li><strong>Nexus URL for identification in CodeScoring</strong> – адрес Nexus Repository Manager с протоколом для отображения результатов на инсталляции.</li>
</ul>
<p><img alt="CodeScoring capability config settings example" src="/assets/img/osa/capability_config_settings_example.png" /></p>
<p><strong>Внимание</strong>: указанные настройки будут использовать все экземпляры осуществляющие проверку прокси репозиториев.</p>
<h3 id="osa-nexus_osa-codescoring-proxy-repository-scan">CodeScoring Proxy Repository Scan<a class="headerlink" href="#osa-nexus_osa-codescoring-proxy-repository-scan" title="Permanent link">&para;</a></h3>
<p>Расширение позволяет включить проверку компонентов на выбранный прокси репозиторий со следующими параметрами:</p>
<ul>
<li><strong>Repository</strong> – выбор репозитория, для которого будет применена функция экранирования;</li>
<li><strong>Security violation response status</strong> – код ошибки, возвращаемый при срабатывании политик безопасности;</li>
<li><strong>Delete blocked by policy component from repository</strong> – принудительное удаление блокируемых компонентов из репозитория (<em>создание "стерильного" репозитория</em>);</li>
<li><strong>Select capability work mode</strong> – режим работы плагина. </li>
</ul>
<p><img alt="CodeScoring capability scan settings example" src="/assets/img/osa/capability_scan_settings_example.png" /></p>
<h3 id="osa-nexus_osa-codescoring-docker-repository-scan">CodeScoring Docker Repository Scan<a class="headerlink" href="#osa-nexus_osa-codescoring-docker-repository-scan" title="Permanent link">&para;</a></h3>
<p>Расширение позволяет включить проверку компонентов на выбранный hosted или proxy docker репозиторий со следующими параметрами:</p>
<ul>
<li><strong>Repository</strong> – выбор репозитория, для которого будет применена функция экранирования;</li>
<li><strong>Security violation response status</strong> – код ошибки, возвращаемый при срабатывании политик безопасности;</li>
<li><strong>This user skips container image scan</strong> – имя пользователя, для которого не применяется сканирование образов. Используется при загрузке и проверке компонентов консольным агентом;</li>
<li><strong>Host and port used for CodeScoring to download container image to scan</strong> – адрес (без указания протокола) и порт, через которые будут загружаться образы для сканирования. Используется для связи Nexus с репозиторием через Docker;</li>
<li><strong>Block not scanned images</strong> – блокировка загрузки образов, которые не были просканированы;</li>
<li><strong>Select capability work mode</strong> – режим работы плагина. Режимы работы описаны в секции ниже;</li>
<li><strong>Append repository name to image name for Docker repositories</strong> – добавление названия репозитория в URL (например: <code>nexus.domain.com</code> -&gt; <code>nexus.domain.com/repoName</code>).</li>
</ul>
<p><img alt="CodeScoring capability docker repository example" src="/assets/img/osa/capability_docker_settings_example.png" /></p>
<h3 id="osa-nexus_osa-codescoring-all-repositories-scan">CodeScoring All Repositories Scan<a class="headerlink" href="#osa-nexus_osa-codescoring-all-repositories-scan" title="Permanent link">&para;</a></h3>
<p>Расширение позволяет включить проверку компонентов на все репозитории в рамках Sonatype Nexus Repository Manager со следующими параметрами:</p>
<ul>
<li><strong>List of comma separated repositories to ignore</strong> – список репозиториев, которые не будут сканироваться;</li>
<li><strong>Security violation response status</strong> – код ошибки, возвращаемый при срабатывании политик безопасности;</li>
<li><strong>This user skips container image scan</strong> – имя пользователя, для которого не применяется сканирование образов. Используется при загрузке и проверке компонентов консольным агентом;</li>
<li><strong>Host and port used for CodeScoring to download container image to scan</strong> – адрес (без указания протокола) и порт, через которые будут загружаться образы для сканирования. Используется для связи Nexus с репозиторием через Docker;</li>
<li><strong>Select capability work mode</strong> – режим работы плагина. Режимы работы описаны в секции ниже;</li>
<li><strong>Append repository name to image name for Docker repositories</strong> – добавление названия репозитория в URL (например: <code>nexus.domain.com</code> -&gt; <code>nexus.domain.com/repoName</code>).</li>
</ul>
<p><img alt="CodeScoring capability all repositories scan" src="/assets/img/osa/capability_all_repositories_settings_example.png" /></p>
<h3 id="osa-nexus_osa-_3">Настройка режима работы плагина<a class="headerlink" href="#osa-nexus_osa-_3" title="Permanent link">&para;</a></h3>
<p>Режим работы плагина необходимо определить текстовой строкой в соответствующем поле настроек Capability <strong>CodeScoring Proxy Repository Scan</strong> и Capability <strong>CodeScoring Docker Repository Scan</strong>.</p>
<p>Плагин имеет 5 режимов работы, определяющих строгость проверки компонентов перед загрузкой.</p>
<ul>
<li><strong>warmup</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов;</li>
<li><strong>spectator</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов, сохранение результатов запросов компонентов на инсталляции;</li>
<li><strong>moderate</strong> – блокировка компонентов, не прошедших проверку политик. Разрешена загрузка непросканированных компонентов;</li>
<li><strong>strict</strong> – блокировка компонентов, не прошедших проверку политик. Запрещена загрузка непросканированных компонентов;</li>
<li><strong>strict_wait</strong> – блокировка компонентов, не прошедших проверку политик. Ожидание проверки для непросканированных компонентов.</li>
</ul>
<h3 id="osa-nexus_osa-_4">Настройка логирования<a class="headerlink" href="#osa-nexus_osa-_4" title="Permanent link">&para;</a></h3>
<p>Для настройки логирования событий плагина необходимо зайти в раздел <code>Support -&gt; Logging</code> и добавить логгер с названием <strong>ru.codescoring</strong> и уровнем логирования <strong>DEBUG</strong>.</p>
<p><img alt="NXRM logs" src="/assets/img/osa/nxrm_logs.png" /></p>
<p>Результаты логирования событий доступны в разделе <code>Support -&gt; Logs</code>.</p>
<h3 id="osa-nexus_osa-_5">Сохранение и извлечение результатов сканирования артефакта<a class="headerlink" href="#osa-nexus_osa-_5" title="Permanent link">&para;</a></h3>
<p>При активации признака <strong>Store artifact analysis in the DB to retrieve them via REST</strong> в конфигурации плагина результаты сканирования артефактов будут сохраняться в базу данных Nexus. Это позволяет получить информацию о том, какие компоненты запрашивались пользователями и какой был статус загрузки данных компонентов.</p>
<p>Извлечь результаты сканирования через Nexus REST API можно с помощью эндпоинта <code>v1/analysis</code> с тремя опциональными параметрами:</p>
<ul>
<li><strong>userName</strong> – имя пользователя в Nexus;</li>
<li><strong>date</strong> – дата сканирования в формате ГГГГ-ММ-ДД;</li>
<li><strong>repositoryName</strong> – название репозитория в Nexus.</li>
</ul>
<p>Пример запроса с помощью <code>curl</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-nexus_osa-__codelineno-4-1"></a>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span>https://test.nexus.com/service/rest/v1/analysis?userName<span class="o">=</span>example_user<span class="p">&amp;</span><span class="nv">date</span><span class="o">=</span><span class="m">2023</span>-10-19<span class="p">&amp;</span><span class="nv">repositoryName</span><span class="o">=</span>example_repository
</code></pre></div>
<p>Пример ответа с результатом сканирования:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#osa-nexus_osa-__codelineno-5-1"></a><span class="o">[</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#osa-nexus_osa-__codelineno-5-2"></a><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#osa-nexus_osa-__codelineno-5-3"></a><span class="w">    </span><span class="s2">&quot;userName&quot;</span>:<span class="w"> </span><span class="s2">&quot;bobbi&quot;</span>,
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#osa-nexus_osa-__codelineno-5-4"></a><span class="w">    </span><span class="s2">&quot;artifactName&quot;</span>:<span class="w"> </span><span class="s2">&quot;specs&quot;</span>,
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#osa-nexus_osa-__codelineno-5-5"></a><span class="w">    </span><span class="s2">&quot;artifactVersion&quot;</span>:<span class="w"> </span><span class="s2">&quot;4.8&quot;</span>,
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#osa-nexus_osa-__codelineno-5-6"></a><span class="w">    </span><span class="s2">&quot;repositoryName&quot;</span>:<span class="w"> </span><span class="s2">&quot;gems&quot;</span>,
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#osa-nexus_osa-__codelineno-5-7"></a><span class="w">    </span><span class="s2">&quot;downloadState&quot;</span>:<span class="w"> </span><span class="s2">&quot;LOADED&quot;</span>,
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#osa-nexus_osa-__codelineno-5-8"></a><span class="w">    </span><span class="s2">&quot;scanDate&quot;</span>:<span class="w"> </span><span class="s2">&quot;2023-08-12&quot;</span>,
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#osa-nexus_osa-__codelineno-5-9"></a><span class="w">    </span><span class="s2">&quot;scanTime&quot;</span>:<span class="w"> </span><span class="s2">&quot;10:17:59&quot;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#osa-nexus_osa-__codelineno-5-10"></a><span class="w"> </span><span class="o">}</span>,
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#osa-nexus_osa-__codelineno-5-11"></a><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#osa-nexus_osa-__codelineno-5-12"></a><span class="w">    </span><span class="s2">&quot;userName&quot;</span>:<span class="w"> </span><span class="s2">&quot;bobbi&quot;</span>,
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#osa-nexus_osa-__codelineno-5-13"></a><span class="w">    </span><span class="s2">&quot;artifactName&quot;</span>:<span class="w"> </span><span class="s2">&quot;kmod&quot;</span>,
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#osa-nexus_osa-__codelineno-5-14"></a><span class="w">    </span><span class="s2">&quot;artifactVersion&quot;</span>:<span class="w"> </span><span class="s2">&quot;27-1ubuntu2&quot;</span>,
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#osa-nexus_osa-__codelineno-5-15"></a><span class="w">    </span><span class="s2">&quot;repositoryName&quot;</span>:<span class="w"> </span><span class="s2">&quot;ubuntu&quot;</span>,
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#osa-nexus_osa-__codelineno-5-16"></a><span class="w">    </span><span class="s2">&quot;downloadState&quot;</span>:<span class="w"> </span><span class="s2">&quot;LOADED&quot;</span>,
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#osa-nexus_osa-__codelineno-5-17"></a><span class="w">    </span><span class="s2">&quot;scanDate&quot;</span>:<span class="w"> </span><span class="s2">&quot;2023-08-12&quot;</span>,
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#osa-nexus_osa-__codelineno-5-18"></a><span class="w">    </span><span class="s2">&quot;scanTime&quot;</span>:<span class="w"> </span><span class="s2">&quot;11:52:53&quot;</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#osa-nexus_osa-__codelineno-5-19"></a><span class="w">  </span><span class="o">}</span>,
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#osa-nexus_osa-__codelineno-5-20"></a><span class="o">]</span>
</code></pre></div></p>
<h2 id="osa-nexus_osa-_6">Блокировка компонента<a class="headerlink" href="#osa-nexus_osa-_6" title="Permanent link">&para;</a></h2>
<p>При блокировании загрузки компонента в консоли пользователя отображается одна из следующих причин блокировки:</p>
<ul>
<li><strong>"The download has been blocked in accordance with the policies configured in CodeScoring"</strong> – блокировка компонента согласно настроенным на инсталляции политикам;</li>
<li><strong>"The component has not yet been scanned by CodeScoring, it is scheduled to be scanned shortly. The download is blocked according to the plugin settings"</strong> – блокировка непросканированного компонента с последующим запуском сканирования. Используется в режиме <code>strict</code>;</li>
<li><strong>"The download has been blocked due to the failure of the scan of the component in CodeScoring"</strong> – не удалось просканировать компонент;</li>
<li><strong>"The download has been blocked due to the wrong mode of the plugin"</strong> – используется некорректный <a href="#osa-nexus_osa-_3">режим работы плагина</a>;</li>
<li><strong>"The download has been blocked due to the timeout of the scan of the component in CodeScoring"</strong> – истекло время ожидания сканирования компонента. Используется в режиме <code>strict_wait</code>;</li>
<li><strong>"The download has been blocked, because registry is not configured in CodeScoring"</strong> – отсутствует соответствующий Registry на инсталляции.</li>
</ul>
<p>Ответ также содержит ссылку на страницу компонента в CodeScoring с информацией о сработавших политиках безопасности и найденных уязвимостях:</p>
<p><img alt="Component page" src="/assets/img/osa/component-page.png" /></p></section><section class="print-page" id="osa-jfrog_osa"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-jfrog_osa.en">English</a></li>
</ul>
<h1 id="osa-jfrog_osa-codescoring-jfrog-osa">CodeScoring JFrog OSA<a class="headerlink" href="#osa-jfrog_osa-codescoring-jfrog-osa" title="Permanent link">&para;</a></h1>
<h2 id="osa-jfrog_osa-_1">Установка плагина<a class="headerlink" href="#osa-jfrog_osa-_1" title="Permanent link">&para;</a></h2>
<p>Плагин <strong>CodeScoring JFrog OSA</strong> поддерживает версии JFrog Artifactory Pro <strong>7.43</strong> и выше.</p>
<p>Плагин поставляется в виде архива со следующей структурой:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-jfrog_osa-__codelineno-0-1"></a>.
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-jfrog_osa-__codelineno-0-2"></a>├── CHANGELOG.md
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-jfrog_osa-__codelineno-0-3"></a>├── codescoring.groovy
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-jfrog_osa-__codelineno-0-4"></a>├── codescoring.yaml
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-jfrog_osa-__codelineno-0-5"></a>└── lib
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-jfrog_osa-__codelineno-0-6"></a>    └── codescoring-plugin-jfrog.jar
</code></pre></div>
<p>Для добавления плагина в <strong>JFrog</strong> необходимо:</p>
<ol>
<li>Распаковать полученный архив в директорию <code>$JFROG_HOME/artifactory/var/etc/artifactory/plugins</code>.</li>
<li>Создать в директории файл для настройки <code>codescoring.yaml</code>. Пример содержания находится в поставляемом архиве.</li>
<li>Вызвать <strong>API JFrog Pro</strong> для загрузки плагина <code>POST /api/plugins/reload</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-jfrog_osa-__codelineno-1-1"></a>curl -X POST https://[JFROG_URL]/api/plugins/reload
</code></pre></div></li>
</ol>
<h2 id="osa-jfrog_osa-_2">Проверка установки плагина<a class="headerlink" href="#osa-jfrog_osa-_2" title="Permanent link">&para;</a></h2>
<p>Для проверки установки плагина в системе необходимо проверить логи сервиса. При успешной загрузке и инициализации в логах появится сообщение следующего содержания:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-jfrog_osa-__codelineno-2-1"></a>2023-08-08T09:41:35.105Z [jfrt ] [INFO ] [70be801ff583b741] [r.c.p.codescoring:16          ] [art-init            ] - CodeScoring: Initialization of CodeScoringPlugin completed
</code></pre></div>
<h2 id="osa-jfrog_osa-_3">Обновление плагина<a class="headerlink" href="#osa-jfrog_osa-_3" title="Permanent link">&para;</a></h2>
<p>В случае обновления архива с плагином, для вступления обновлений в силу необходимо использовать следующую команду API:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-jfrog_osa-__codelineno-3-1"></a>curl -X POST https://[JFROG_URL]/api/plugins/reload
</code></pre></div>
<p>В случае обновления конфигурации плагина в файле <code>codescoring.yaml</code>, необходимо использовать следующую команду API:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-jfrog_osa-__codelineno-4-1"></a>curl -X POST https://[JFROG_URL]/api/plugins/execute/codeScoringReload
</code></pre></div>
<h2 id="osa-jfrog_osa-_4">Настройка плагина<a class="headerlink" href="#osa-jfrog_osa-_4" title="Permanent link">&para;</a></h2>
<p>Для настройки плагина используется файл <code>codescoring.yaml</code>.</p>
<p>Пример содержания файла:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#osa-jfrog_osa-__codelineno-5-1"></a># true/false
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#osa-jfrog_osa-__codelineno-5-2"></a>disablePlugin: false
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#osa-jfrog_osa-__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#osa-jfrog_osa-__codelineno-5-4"></a>codeScoringAPI:
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#osa-jfrog_osa-__codelineno-5-5"></a>  # The base URL for all CodeScoring API endpoints.
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#osa-jfrog_osa-__codelineno-5-6"></a>  # Required field. https://host:port
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#osa-jfrog_osa-__codelineno-5-7"></a>  url: https://example.com:443
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#osa-jfrog_osa-__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#osa-jfrog_osa-__codelineno-5-9"></a>  # Your CodeScoring API Token for authentication.
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#osa-jfrog_osa-__codelineno-5-10"></a>  # Required.
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#osa-jfrog_osa-__codelineno-5-11"></a>  token: 0d496e5e7153d98fd346d7498cdf2dc61a669077
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#osa-jfrog_osa-__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#osa-jfrog_osa-__codelineno-5-13"></a>  # Http client connection pool size to CodeScoring BE service.
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#osa-jfrog_osa-__codelineno-5-14"></a>  # By default, value is 200 since it correlates with the default artifactory thread pool size for tomcat.
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#osa-jfrog_osa-__codelineno-5-15"></a>  # If you tuned yours instance of the artifactory https://jfrog.com/help/r/how-do-i-tune-artifactory-for-heavy-loads
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#osa-jfrog_osa-__codelineno-5-16"></a>  # you should scale this value for better performance maximum up to tomcat.connector.maxThreads value.
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#osa-jfrog_osa-__codelineno-5-17"></a>  connectionPoolSize: 200
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#osa-jfrog_osa-__codelineno-5-18"></a>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#osa-jfrog_osa-__codelineno-5-19"></a>  # By default, if CodeScoring API hasn&#39;t responded within a duration of 60 seconds, the request will be cancelled.
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#osa-jfrog_osa-__codelineno-5-20"></a>  # This property lets you customize the timeout duration in seconds.
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#osa-jfrog_osa-__codelineno-5-21"></a>  timeout: 60
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#osa-jfrog_osa-__codelineno-5-22"></a>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#osa-jfrog_osa-__codelineno-5-23"></a>  # If you are using a proxy, you must provide both Hostname/IP and port.
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#osa-jfrog_osa-__codelineno-5-24"></a>  proxy:
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#osa-jfrog_osa-__codelineno-5-25"></a>    host: 192.168.1.100
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#osa-jfrog_osa-__codelineno-5-26"></a>    port: 8080
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#osa-jfrog_osa-__codelineno-5-27"></a>
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#osa-jfrog_osa-__codelineno-5-28"></a># Artifactory&#39;s response status code for blocked packages.
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#osa-jfrog_osa-__codelineno-5-29"></a>blockedBuildResponseCode: 403
<a id="__codelineno-5-30" name="__codelineno-5-30" href="#osa-jfrog_osa-__codelineno-5-30"></a>
<a id="__codelineno-5-31" name="__codelineno-5-31" href="#osa-jfrog_osa-__codelineno-5-31"></a># If set to &#39;false&#39; allows artifact downloads regardless of errors from CodeScoringAPI or plugin
<a id="__codelineno-5-32" name="__codelineno-5-32" href="#osa-jfrog_osa-__codelineno-5-32"></a>blockOnErrors: true
<a id="__codelineno-5-33" name="__codelineno-5-33" href="#osa-jfrog_osa-__codelineno-5-33"></a>
<a id="__codelineno-5-34" name="__codelineno-5-34" href="#osa-jfrog_osa-__codelineno-5-34"></a># Default settings for all repositories. Can be overridden by repositories.repo-name: settings
<a id="__codelineno-5-35" name="__codelineno-5-35" href="#osa-jfrog_osa-__codelineno-5-35"></a>defaults:
<a id="__codelineno-5-36" name="__codelineno-5-36" href="#osa-jfrog_osa-__codelineno-5-36"></a>  dockerRegistryUrl: jfrog.my.domain
<a id="__codelineno-5-37" name="__codelineno-5-37" href="#osa-jfrog_osa-__codelineno-5-37"></a>
<a id="__codelineno-5-38" name="__codelineno-5-38" href="#osa-jfrog_osa-__codelineno-5-38"></a>  # warmup |  Scan cache warmup without requests monitoring, no blocking
<a id="__codelineno-5-39" name="__codelineno-5-39" href="#osa-jfrog_osa-__codelineno-5-39"></a>  # spectator | Scan cache warmup with requests monitoring, no blocking
<a id="__codelineno-5-40" name="__codelineno-5-40" href="#osa-jfrog_osa-__codelineno-5-40"></a>  # moderate | Policy-based blocking using cache results, not scanned component downloads allowed
<a id="__codelineno-5-41" name="__codelineno-5-41" href="#osa-jfrog_osa-__codelineno-5-41"></a>  # strict | Policy-based blocking using cache results, not scanned component downloads blocked
<a id="__codelineno-5-42" name="__codelineno-5-42" href="#osa-jfrog_osa-__codelineno-5-42"></a>  # strict_wait | Policy-based blocking, wait until component is scanned
<a id="__codelineno-5-43" name="__codelineno-5-43" href="#osa-jfrog_osa-__codelineno-5-43"></a>  # default value is strict_wait if not specified in default or repository settings or in case of a typo
<a id="__codelineno-5-44" name="__codelineno-5-44" href="#osa-jfrog_osa-__codelineno-5-44"></a>  workMode: strict_wait
<a id="__codelineno-5-45" name="__codelineno-5-45" href="#osa-jfrog_osa-__codelineno-5-45"></a>
<a id="__codelineno-5-46" name="__codelineno-5-46" href="#osa-jfrog_osa-__codelineno-5-46"></a>  # Allows this user to skip scan
<a id="__codelineno-5-47" name="__codelineno-5-47" href="#osa-jfrog_osa-__codelineno-5-47"></a>  skipScanUser: codescoring
<a id="__codelineno-5-48" name="__codelineno-5-48" href="#osa-jfrog_osa-__codelineno-5-48"></a>
<a id="__codelineno-5-49" name="__codelineno-5-49" href="#osa-jfrog_osa-__codelineno-5-49"></a>  # Set to &#39;true&#39; if you use Docker Access Method &#39;Sub domain&#39; or &#39;Port&#39;(ex: docker-local.company-jfrog.com, company-jfrog.com:25000 ).
<a id="__codelineno-5-50" name="__codelineno-5-50" href="#osa-jfrog_osa-__codelineno-5-50"></a>  # Default: false
<a id="__codelineno-5-51" name="__codelineno-5-51" href="#osa-jfrog_osa-__codelineno-5-51"></a>  stripRepoNameInDockerImageName: false
<a id="__codelineno-5-52" name="__codelineno-5-52" href="#osa-jfrog_osa-__codelineno-5-52"></a>
<a id="__codelineno-5-53" name="__codelineno-5-53" href="#osa-jfrog_osa-__codelineno-5-53"></a># Settings per repository, you must specify repository name for it to be scanned by plugin.
<a id="__codelineno-5-54" name="__codelineno-5-54" href="#osa-jfrog_osa-__codelineno-5-54"></a>repositories:
<a id="__codelineno-5-55" name="__codelineno-5-55" href="#osa-jfrog_osa-__codelineno-5-55"></a>  docker-remote:
<a id="__codelineno-5-56" name="__codelineno-5-56" href="#osa-jfrog_osa-__codelineno-5-56"></a>  docker-local:
<a id="__codelineno-5-57" name="__codelineno-5-57" href="#osa-jfrog_osa-__codelineno-5-57"></a>    dockerRegistryUrl: another-jfrog.my.domain
<a id="__codelineno-5-58" name="__codelineno-5-58" href="#osa-jfrog_osa-__codelineno-5-58"></a>    skipScanUser: codescoring
<a id="__codelineno-5-59" name="__codelineno-5-59" href="#osa-jfrog_osa-__codelineno-5-59"></a>    workMode: spectator
<a id="__codelineno-5-60" name="__codelineno-5-60" href="#osa-jfrog_osa-__codelineno-5-60"></a>  pypi-remote:
<a id="__codelineno-5-61" name="__codelineno-5-61" href="#osa-jfrog_osa-__codelineno-5-61"></a>    workMode: warmup
</code></pre></div>
<h3 id="osa-jfrog_osa-_5">Значение параметров<a class="headerlink" href="#osa-jfrog_osa-_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>disablePlugin</strong> – отключение плагина;</li>
<li><strong>url</strong> – адрес <strong>on-premise</strong> инсталляции <strong>CodeScoring</strong> (обязательно указание протокола);</li>
<li><strong>token</strong> – ключ для авторизации вызовов API (<em>Создается из CodeScoring раздела <code>Profile -&gt; Home</code></em>);</li>
<li><strong>connectionPoolSize</strong> – размер пула соединений с CodeScoring;</li>
<li><strong>timeout</strong> - время ожидания ответа (в миллисекундах). По умолчанию, если CodeScoring API не отвечает в течение 60 секунд, запрос будет отменен.</li>
<li><strong>host</strong> - IP (в случае использования прокси-сервера);</li>
<li><strong>port</strong> - порт (в случае использования прокси-сервера);</li>
<li><strong>blockedBuildResponseCode</strong> – код ошибки, возвращаемый при срабатывании политик безопасности;</li>
<li><strong>blockOnErrors</strong> - блокирование загрузки компонентов. В случае выставления значения <code>false</code> компоненты будут загружаться в независимости от наличия ошибок CodeScoring API или плагина;</li>
<li><strong>defaults</strong> – настройки сканирования по умолчанию для всех указанных репозиториев;</li>
<li><strong>dockerRegistryUrl</strong> – адрес репозитория с контейнерными образами;</li>
<li><strong>workMode</strong> – режим работы плагина. Условия каждого режима работы описаны в секции ниже.</li>
<li><strong>skipScanUser</strong> – пользователь, для которого пропускается сканирование компонентов;</li>
<li><strong>stripRepoNameInDockerImageName</strong> – наличие названия репозитория в названии образа. По умолчанию значение <code>false</code>;</li>
<li><strong>repositories</strong> – список названий репозиториев, для которых работает сканирование компонентов. Для каждого репозитория можно отдельно указать переменные dockerRegistryUrl, skipScanUser и workMode.</li>
</ul>
<p><strong>Важно</strong>: для generic и VCS репозиториев обязательно указать один из следующих типов репозитория в поле <a href="https://www.jfrog.com/confluence/display/JFROG/Repository+Management">Internal Description</a>:</p>
<ul>
<li>maven</li>
<li>npm</li>
<li>pypi </li>
<li>nuget</li>
<li>cocoapods</li>
<li>go</li>
<li>gems</li>
</ul>
<h3 id="osa-jfrog_osa-_6">Настройка режимов работы<a class="headerlink" href="#osa-jfrog_osa-_6" title="Permanent link">&para;</a></h3>
<p>Режим работы плагина определяется переменной <strong>workMode</strong> в файле <code>codescoring.properties</code>.</p>
<p>Плагин имеет 6 режимов работы, определяющих строгость проверки компонентов перед загрузкой.</p>
<ul>
<li><strong>off</strong> – сканирование компонентов отключено;</li>
<li><strong>warmup</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов;</li>
<li><strong>spectator</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов, сохранение результатов запросов компонентов на инсталляции;</li>
<li><strong>moderate</strong> – блокировка компонентов, не прошедших проверку политик. Разрешена загрузка непросканированных компонентов;</li>
<li><strong>strict</strong> – блокировка компонентов, не прошедших проверку политик. Запрещена загрузка непросканированных компонентов;</li>
<li><strong>strict_wait</strong> – блокировка компонентов, не прошедших проверку политик. Ожидание проверки для непросканированных компонентов.</li>
</ul>
<p><strong>Важно</strong>: выбранный режим работы будет влиять на <strong>все</strong> репозитории, указанные в переменной <code>repositories</code>.</p>
<h3 id="osa-jfrog_osa-_7">Настройка логирования<a class="headerlink" href="#osa-jfrog_osa-_7" title="Permanent link">&para;</a></h3>
<p>Файл с настройками логирования находится по пути <code>$JFROG_HOME/artifactory/var/etc/artifactory/logback.xml</code>.</p>
<p>Для настроек логирования событий плагина необходимо добавить в файл <code>logback.xml</code> следующее содержание:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#osa-jfrog_osa-__codelineno-6-1"></a>&lt;appender name=&quot;FILE_CODESCORING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#osa-jfrog_osa-__codelineno-6-2"></a>    &lt;File&gt;${log.dir}/codescoring.log&lt;/File&gt;
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#osa-jfrog_osa-__codelineno-6-3"></a>    &lt;rollingPolicy class=&quot;org.jfrog.common.logging.logback.rolling.FixedWindowWithDateRollingPolicy&quot;&gt;
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#osa-jfrog_osa-__codelineno-6-4"></a>        &lt;FileNamePattern&gt;${log.dir.archived}/codescoring.%i.log.gz&lt;/FileNamePattern&gt;
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#osa-jfrog_osa-__codelineno-6-5"></a>    &lt;/rollingPolicy&gt;
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#osa-jfrog_osa-__codelineno-6-6"></a>    &lt;triggeringPolicy class=&quot;org.jfrog.common.logging.logback.triggering.SizeAndIntervalTriggeringPolicy&quot;&gt;
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#osa-jfrog_osa-__codelineno-6-7"></a>        &lt;MaxFileSize&gt;25MB&lt;/MaxFileSize&gt;
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#osa-jfrog_osa-__codelineno-6-8"></a>    &lt;/triggeringPolicy&gt;
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#osa-jfrog_osa-__codelineno-6-9"></a>    &lt;encoder&gt;
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#osa-jfrog_osa-__codelineno-6-10"></a>        &lt;charset&gt;UTF-8&lt;/charset&gt;
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#osa-jfrog_osa-__codelineno-6-11"></a>        &lt;pattern&gt;%date{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS, UTC+3}Z [%-5p] [%-16X{uber-trace-id}] [%-30.30(%c{3}:%L)] [%-20.20thread] - %m%n&lt;/pattern&gt;
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#osa-jfrog_osa-__codelineno-6-12"></a>    &lt;/encoder&gt;
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#osa-jfrog_osa-__codelineno-6-13"></a>&lt;/appender&gt;
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#osa-jfrog_osa-__codelineno-6-14"></a>&lt;logger name=&quot;ru.codescoring&quot; additivity=&quot;false&quot;&gt;
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#osa-jfrog_osa-__codelineno-6-15"></a>    &lt;level value=&quot;debug&quot; /&gt;
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#osa-jfrog_osa-__codelineno-6-16"></a>    &lt;appender-ref ref=&quot;FILE_CODESCORING&quot; /&gt;
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#osa-jfrog_osa-__codelineno-6-17"></a>&lt;/logger&gt;
</code></pre></div>
<h2 id="osa-jfrog_osa-_8">Блокировка компонента<a class="headerlink" href="#osa-jfrog_osa-_8" title="Permanent link">&para;</a></h2>
<p>При блокировании загрузки компонента в консоли пользователя отображается одна из следующих причин блокировки:</p>
<ul>
<li><strong>"The download has been blocked in accordance with the policies configured in CodeScoring"</strong> – блокировка компонента согласно настроенным на инсталляции политикам;</li>
<li><strong>"The component has not yet been scanned by CodeScoring, it is scheduled to be scanned shortly. The download is blocked according to the plugin settings"</strong> – блокировка непросканированного компонента с последующим запуском сканирования. Используется в режиме <code>strict</code>;</li>
<li><strong>"The download has been blocked due to the failure of the scan of the component in CodeScoring"</strong> – не удалось просканировать компонент;</li>
<li><strong>"The download has been blocked due to the wrong mode of the plugin"</strong> – используется некорректный <a href="#osa-jfrog_osa-_3">режим работы плагина</a>;</li>
<li><strong>"The download has been blocked due to the timeout of the scan of the component in CodeScoring"</strong> – истекло время ожидания сканирования компонента. Используется в режиме <code>strict_wait</code>;</li>
<li><strong>"The download has been blocked, because registry is not configured in CodeScoring"</strong> – отсутствует соответствующий Registry на инсталляции.</li>
</ul>
<p>Ответ также содержит ссылку на страницу компонента в CodeScoring с информацией о сработавших политиках безопасности и найденных уязвимостях:</p>
<p><img alt="Component page" src="/assets/img/osa/component-page.png" /></p></section><section class="print-page" id="osa-osa-policies"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-osa-policies.en">English</a></li>
</ul>
<h1 id="osa-osa-policies-osa">Настройка политик OSA<a class="headerlink" href="#osa-osa-policies-osa" title="Permanent link">&para;</a></h1>
<p>Для принятия решения о блокировании или разрешении загрузки компонентов плагин использует механизм <a href="#on-premise-how-to-policies">политик CodeScoring</a>.</p>
<p>Для того чтобы политика применялась при вызове от плагина, необходимо задать следующие настройки выбранной политики в разделе <code>Policies</code>:</p>
<ul>
<li><strong>Stages</strong> – указать значение <em>proxy</em>;</li>
<li>установить флаг <em>Blocker</em>;</li>
<li>установить флаг <em>Is Active</em>.</li>
</ul>
<p><img alt="Policy settings example" src="/assets/img/osa/policy_settings_example.png" /></p></section><section class="print-page" id="osa-components"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-components.en">English</a></li>
</ul>
<h1 id="osa-components-osa">Работа с компонентами OSA на инсталляции<a class="headerlink" href="#osa-components-osa" title="Permanent link">&para;</a></h1>
<p>Компоненты, которые прошли проверку плагином OSA, отображаются в разделе <code>Components</code> интерфейса CodeScoring.</p>
<h2 id="osa-components-_1">Просмотр списка пакетов<a class="headerlink" href="#osa-components-_1" title="Permanent link">&para;</a></h2>
<p>Список просканированных пакетов можно посмотреть в подразделе <code>Components -&gt; Packages</code>. Таблица Packages содержит <strong>все</strong> пакеты, которые проходили проверку за время работы OSA плагина, со следующей информацией:</p>
<ul>
<li><strong>Package</strong> – название пакета (со ссылкой на его индивидуальную страницу);</li>
<li><strong>Technology</strong> – технология (язык программирования или инструмент сборки);</li>
<li><strong>Licenses</strong> – лицензии;</li>
<li><strong>Authors</strong> – авторы;</li>
<li><strong>Block status</strong> – статус блокировки компонента на момент последнего запроса;</li>
<li><strong>Release date</strong> – дата публикации пакета в свободном доступе;</li>
<li><strong>Last requested at</strong> – дата и время последнего запроса пакета.</li>
</ul>
<p>Таблицу с пакетами можно отфильтровать по технологии, лицензии, статусу блокировки или времени последнего запроса компонента.</p>
<p>По нажатию на название пакета осуществляется переход на его индивидуальную страницу, где отображается информация о найденных уязвимостях и сработавших политиках.</p>
<h2 id="osa-components-_2">Просмотр списка контейнерных образов<a class="headerlink" href="#osa-components-_2" title="Permanent link">&para;</a></h2>
<p>Контейнерные образы отображаются в подразделе <code>Components -&gt; Container images</code> после подключения соответствующего <a href="#on-premise-how-to-registries">реестра</a>. Каждая запись в списке содержит следующую информацию:</p>
<ul>
<li><strong>Name</strong> – название образа;</li>
<li><strong>Container registry</strong> – название реестра, в котором содержится образ;</li>
<li><strong>Dependencies</strong> – количество найденных зависимостей;</li>
<li><strong>Vulnerabilities</strong> - количество найденных уязвимостей;</li>
<li><strong>Scan status</strong> – статус сканирования образа;</li>
<li><strong>Block status</strong> – статус блокировки компонента на момент последнего запроса (для репозиториев с плагином OSA);</li>
<li><strong>Last scanned</strong> – дата и время последнего сканирования.</li>
</ul>
<p>Таблицу с образами можно отфильтровать по названию реестра, а также статусу сканирования и блокировки.</p>
<p>По умолчанию добавленный образ не является просканированным. Для проведения анализа необходимо перейти на страницу образа и нажать на кнопку <strong>Run SCA</strong>. По результатам сканирования на странице образа появится информация о найденных зависимостях и уязвимостях, а также список сработавших политик безопасности.</p>
<p>Для каждого просканированного образа доступно скачивание SBoM и PDF-отчета, а также просмотр истории сканирований по кнопке <strong>SCA scan history</strong>.</p>
<h2 id="osa-components-_3">Просмотр запросов компонентов<a class="headerlink" href="#osa-components-_3" title="Permanent link">&para;</a></h2>
<p>Список запросов компонентов из прокси-репозиториев с подключенным плагином можно посмотреть в подразделе <code>Components -&gt; Requests</code>.</p>
<p>Запросы пакетов отображаются на вкладке <strong>Packages</strong> и по умолчанию содержат следующую информацию:</p>
<ul>
<li><strong>Package</strong> – название пакета (со ссылкой на его индивидуальную страницу);</li>
<li><strong>Technology</strong> – технология;</li>
<li><strong>Plugin mode</strong> – <a href="#osa-nexus_osa-_3">режим работы плагина</a>;</li>
<li><strong>Block status</strong> – статус блокировки;</li>
<li><strong>Requested at</strong> – дата и время запроса.</li>
</ul>
<p>Запросы контейнерных образов отображаются на вкладке <strong>Container images</strong> и по умолчанию содержат следующую информацию:</p>
<ul>
<li><strong>Container image</strong> – название образа (со ссылкой на его индивидуальную страницу);</li>
<li><strong>Registry</strong> – название реестра, в котором содержится образ;</li>
<li><strong>Plugin mode</strong> – <a href="#osa-nexus_osa-_3">режим работы плагина</a>;</li>
<li><strong>Block status</strong> – статус блокировки;</li>
<li><strong>Requested at</strong> – дата и время запроса.</li>
</ul>
<p>Также для обеих таблиц можно отобразить колонки <strong>CodeScoring User</strong> (пользователь CodeScoring, настроенный в плагине OSA) и <strong>Requested PURL</strong> (PURL запрашиваемого компонента).</p></section><h1 class='nav-section-title-end'>Ended: Работа с CodeScoring OSA</h1>
                        <h1 class='nav-section-title' id='section-работа-с-консольным-агентом'>
                            Работа с консольным агентом <a class='headerlink' href='#section-работа-с-консольным-агентом' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="agent"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-index.en">English</a></li>
</ul>
<h1 id="agent-_1">Работа с консольным агентом<a class="headerlink" href="#agent-_1" title="Permanent link">&para;</a></h1>
<p>Консольный агент <strong>johnny</strong> предоставляется совместно с on-premise версией CodeScoring. </p>
<p>Агент — это исполняемый бинарный файл, осуществляющий разбор манифестов известных пакетных менеджеров, сканирование Docker-образов и поиск прямых включений Open Source библиотек по хэшам. Агент может работать как независимо от инсталляции, так и в паре с ней, получая данные о настроенных политиках и сохраняя результаты сканирования в существующие проекты.</p>
<p>По умолчанию предоставляется сборка агента для Linux-совместимых систем. По запросу доступны сборки под Windows и MacOS.</p>
<h2 id="agent-_2">Принцип работы<a class="headerlink" href="#agent-_2" title="Permanent link">&para;</a></h2>
<p>При работе в режиме сканирования директорий с исходным кодом, агент рекурсивно <code>обходит</code> директорию, указанную в параметрах запуска, и осуществляет поиск и разбор манифестов <a href="#supported-package-managers">известных пакетных менеджеров</a>.</p>
<p>В режиме <a href="#agent-scan-docker">сканирования образов</a> агент исследует файловую систему указанного образа, производя инвентаризацию компонентного состава.</p>
<p>По окончанию работы формируется <strong>SBOM</strong> файл, и в консоль выводится информация о найденных уязвимостях и сработавших политиках.</p>
<p>Пример вывода найденных уязвимостей:</p>
<p><img alt="Johnny example with vulnerabilities" src="/assets/img/johnny_output_vulnerabilities.png" /></p>
<p>Пример вывода сработавших политик:</p>
<p><img alt="Johnny example with policy alerts" src="/assets/img/johnny_output_alerts.png" /></p></section><section class="print-page" id="agent-config"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-config.en">English</a></li>
</ul>
<h1 id="agent-config-_1">Настройка через конфигурационный файл<a class="headerlink" href="#agent-config-_1" title="Permanent link">&para;</a></h1>
<p>Управлять параметрами консольного агента можно через добавление config-файла <code>config.yaml</code> в директорию с агентом. Ниже представлен список доступных параметров и пример конфиг-файла.</p>
<h3 id="agent-config-_2">Параметры композиционного анализа<a class="headerlink" href="#agent-config-_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>project</strong> – название проекта в инсталляции CodeScoring;</li>
<li><strong>save-results</strong> – сохранение результатов в инсталляции CodeScoring. Используется в паре с названием проекта. Значение по умолчанию – <code>false</code>;</li>
<li><strong>stage</strong> – этап разработки. Возможные значения: <code>build</code>, <code>dev</code>, <code>source</code>, <code>stage</code>, <code>test</code>, <code>prod</code>, <code>proxy</code>;</li>
<li><strong>bom-path</strong> – путь (с названием файла), по которому будет сохраняться сформированный файл <code>bom.json</code>;</li>
<li><strong>timeout</strong> – ограничение по времени ожидания анализа (в секундах).</li>
</ul>
<h3 id="agent-config-_3">Общие параметры сканирования<a class="headerlink" href="#agent-config-_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>ignore</strong> – директории, которые будут игнорироваться при сканировании;</li>
<li><strong>no-summary</strong> – отсутствие вывода сводной информацию по проведенному сканированию. По умолчанию значение <code>false</code>;</li>
<li><strong>only-hashes</strong> – поиск <strong>только</strong> прямых включений Open Source библиотек по хэшам. По умолчанию значение <code>false</code>;</li>
<li><strong>with-hashes</strong> – поиск прямых включений Open Source библиотек по хэшам. По умолчанию значение <code>false</code>;</li>
<li><strong>no-recursion</strong> – выключение рекурсивного скана для команды <code>scan dir</code>. По умолчанию значение <code>false</code>.</li>
</ul>
<h3 id="agent-config-docker-">Параметры сканирования Docker-образов<a class="headerlink" href="#agent-config-docker-" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>scan-files</strong> – сканирование файловой системы внутри образа. По умолчанию значение <code>false</code>;</li>
<li><strong>insecure-skip-tls-verify</strong> –  пропуск TLS верификации при подключении к реестру образов. По умолчанию значение <code>false</code>;</li>
<li><strong>insecure-use-http</strong> – использование протокола http при подключении к реестру образов. По умолчанию значение <code>false</code>;</li>
<li><strong>authority</strong> – URL для подключения к реестру образов;</li>
<li><strong>login</strong> – логин учетной записи для подключения к реестру образов;</li>
<li><strong>password</strong> – пароль учетной записи для подключения к реестру образов;</li>
<li><strong>token</strong> – токен для подключения к реестру образов. </li>
</ul>
<h3 id="agent-config-_4">Параметры парсинга манифестов<a class="headerlink" href="#agent-config-_4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>maven-path</strong>, <strong>gradle-path</strong>, <strong>yarn-path</strong>, <strong>go-path</strong>, <strong>sbt-path</strong> – пути к пакетным менеджерам для разрешения зависимостей в окружении;</li>
<li><strong>resolve-enabled</strong> – разрешение зависимостей в окружении. По умолчанию значение <code>false</code>.</li>
</ul>
<h3 id="agent-config-_5">Параметры сканирования архивов<a class="headerlink" href="#agent-config-_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>scan</strong> – сканирование архивов. По умолчанию значение <code>false</code>;</li>
<li><strong>depth</strong> – глубина сканирования архивов. По умолчанию значение <code>1</code>.</li>
</ul>
<h3 id="agent-config-_6">Параметры вывода результатов<a class="headerlink" href="#agent-config-_6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>format</strong> – формат вывода. По умолчанию <code>coloredtable</code>;</li>
<li><strong>group-vulnerabilities-by</strong> – переменная для группировки уязвимостей в таблице;</li>
<li><strong>sort-vulnerabilities-by</strong> – порядок переменных для сортировки уязвимостей в таблице.</li>
</ul>
<h3 id="agent-config-_7">Параметры инсталляции<a class="headerlink" href="#agent-config-_7" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>api_url</strong> – адрес инсталляции;</li>
<li><strong>api_token</strong> – токен для доступа к инсталляции.</li>
</ul>
<h3 id="agent-config-_8">Пример файла<a class="headerlink" href="#agent-config-_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-config-__codelineno-0-1"></a><span class="c1"># analysis options</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-config-__codelineno-0-2"></a><span class="nt">analysis</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-config-__codelineno-0-3"></a><span class="w">  </span><span class="c1"># Project name in CodeScoring</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-config-__codelineno-0-4"></a><span class="w">  </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-config-__codelineno-0-5"></a><span class="w">  </span><span class="c1"># Save results to CodeScoring. Used only together with project name</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-config-__codelineno-0-6"></a><span class="w">  </span><span class="nt">save-results</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-config-__codelineno-0-7"></a><span class="w">  </span><span class="c1"># Policy stage (build, dev, source, stage, test, prod, proxy)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-config-__codelineno-0-8"></a><span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-config-__codelineno-0-9"></a><span class="w">  </span><span class="c1"># Path for save bom</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-config-__codelineno-0-10"></a><span class="w">  </span><span class="nt">bom-path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bom.json&quot;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-config-__codelineno-0-11"></a><span class="w">  </span><span class="c1"># Timeout of analysis results waiting in seconds</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-config-__codelineno-0-12"></a><span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3600</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-config-__codelineno-0-13"></a><span class="c1"># scan options</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-config-__codelineno-0-14"></a><span class="nt">scan</span><span class="p">:</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-config-__codelineno-0-15"></a><span class="w">  </span><span class="c1"># general scan options</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-config-__codelineno-0-16"></a><span class="w">  </span><span class="nt">general</span><span class="p">:</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-config-__codelineno-0-17"></a><span class="w">    </span><span class="c1"># Ignore paths</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-config-__codelineno-0-18"></a><span class="w">    </span><span class="c1"># - first</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-config-__codelineno-0-19"></a><span class="w">    </span><span class="c1"># - /**/onem?re</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#agent-config-__codelineno-0-20"></a><span class="w">    </span><span class="nt">ignore</span><span class="p">:</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#agent-config-__codelineno-0-21"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.tmp</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#agent-config-__codelineno-0-22"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">parsers</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#agent-config-__codelineno-0-23"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fixtures</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#agent-config-__codelineno-0-24"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.git</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#agent-config-__codelineno-0-25"></a><span class="w">    </span><span class="c1"># Do not print summary</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#agent-config-__codelineno-0-26"></a><span class="w">    </span><span class="nt">no-summary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#agent-config-__codelineno-0-27"></a><span class="w">    </span><span class="c1"># Search only for direct inclusion of dependencies using file hashes</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#agent-config-__codelineno-0-28"></a><span class="w">    </span><span class="nt">only-hashes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#agent-config-__codelineno-0-29"></a><span class="w">    </span><span class="c1"># Search for direct inclusion of dependencies using file hashes</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#agent-config-__codelineno-0-30"></a><span class="w">    </span><span class="nt">with-hashes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#agent-config-__codelineno-0-31"></a><span class="w">    </span><span class="c1"># Block on empty result</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#agent-config-__codelineno-0-32"></a><span class="w">    </span><span class="nt">block-on-empty-result</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#agent-config-__codelineno-0-33"></a><span class="w">  </span><span class="c1"># image scan options</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#agent-config-__codelineno-0-34"></a><span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#agent-config-__codelineno-0-35"></a><span class="w">    </span><span class="c1"># scan files in image</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#agent-config-__codelineno-0-36"></a><span class="w">    </span><span class="nt">scan-files</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#agent-config-__codelineno-0-37"></a><span class="w">    </span><span class="c1"># skip TLS verification when communicating with the registry</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#agent-config-__codelineno-0-38"></a><span class="w">    </span><span class="nt">insecure-skip-tls-verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#agent-config-__codelineno-0-39"></a><span class="w">    </span><span class="c1"># use http instead of https when connecting to the registry</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#agent-config-__codelineno-0-40"></a><span class="w">    </span><span class="nt">insecure-use-http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#agent-config-__codelineno-0-41"></a><span class="w">    </span><span class="c1"># credentials for specific registries</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#agent-config-__codelineno-0-42"></a><span class="w">    </span><span class="nt">registries</span><span class="p">:</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#agent-config-__codelineno-0-43"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># the URL to the registry (e.g. &quot;docker.io&quot;, &quot;localhost:5000&quot;, etc.)</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#agent-config-__codelineno-0-44"></a><span class="w">        </span><span class="c1"># same as JOHNNY_REGISTRY_AUTH_AUTHORITY env var</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#agent-config-__codelineno-0-45"></a><span class="w">        </span><span class="nt">authority</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#agent-config-__codelineno-0-46"></a><span class="w">        </span><span class="c1"># same as JOHNNY_REGISTRY_AUTH_LOGIN env var</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#agent-config-__codelineno-0-47"></a><span class="w">        </span><span class="nt">login</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#agent-config-__codelineno-0-48"></a><span class="w">        </span><span class="c1"># same as JOHNNY_REGISTRY_AUTH_PASSWORD env var</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#agent-config-__codelineno-0-49"></a><span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#agent-config-__codelineno-0-50"></a><span class="w">        </span><span class="c1"># note: token and username/password are mutually exclusive</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#agent-config-__codelineno-0-51"></a><span class="w">        </span><span class="c1"># same as JOHNNY_REGISTRY_AUTH_TOKEN env var</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#agent-config-__codelineno-0-52"></a><span class="w">        </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#agent-config-__codelineno-0-53"></a><span class="w">  </span><span class="c1"># Prevents from recursively scan directories</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#agent-config-__codelineno-0-54"></a><span class="w">  </span><span class="nt">dir</span><span class="p">:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#agent-config-__codelineno-0-55"></a><span class="w">    </span><span class="nt">no-recursion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#agent-config-__codelineno-0-56"></a><span class="w">  </span><span class="c1"># specific parsers options</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#agent-config-__codelineno-0-57"></a><span class="w">  </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#agent-config-__codelineno-0-58"></a><span class="w">    </span><span class="c1"># gradle parser options</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#agent-config-__codelineno-0-59"></a><span class="w">    </span><span class="nt">gradle</span><span class="p">:</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#agent-config-__codelineno-0-60"></a><span class="w">      </span><span class="c1"># gradle dependency tree options</span>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#agent-config-__codelineno-0-61"></a><span class="w">      </span><span class="nt">gdt</span><span class="p">:</span>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#agent-config-__codelineno-0-62"></a><span class="w">        </span><span class="c1"># section name for parse</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#agent-config-__codelineno-0-63"></a><span class="w">        </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">compileClasspath</span>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#agent-config-__codelineno-0-64"></a><span class="w">      </span><span class="c1"># path to gradle</span>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#agent-config-__codelineno-0-65"></a><span class="w">      </span><span class="nt">gradle-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gradle</span>
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#agent-config-__codelineno-0-66"></a><span class="w">      </span><span class="c1"># enable resolve with gradle</span>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#agent-config-__codelineno-0-67"></a><span class="w">      </span><span class="nt">resolve-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#agent-config-__codelineno-0-68"></a><span class="w">    </span><span class="c1"># maven parser options</span>
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#agent-config-__codelineno-0-69"></a><span class="w">    </span><span class="nt">maven</span><span class="p">:</span>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#agent-config-__codelineno-0-70"></a><span class="w">      </span><span class="c1"># path to mvn</span>
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#agent-config-__codelineno-0-71"></a><span class="w">      </span><span class="nt">maven-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mvn</span>
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#agent-config-__codelineno-0-72"></a><span class="w">      </span><span class="c1"># enable resolve with mvn</span>
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#agent-config-__codelineno-0-73"></a><span class="w">      </span><span class="nt">resolve-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#agent-config-__codelineno-0-74"></a><span class="w">    </span><span class="c1"># go parser options</span>
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#agent-config-__codelineno-0-75"></a><span class="w">    </span><span class="nt">go</span><span class="p">:</span>
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#agent-config-__codelineno-0-76"></a><span class="w">      </span><span class="c1"># path to go</span>
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#agent-config-__codelineno-0-77"></a><span class="w">      </span><span class="nt">go-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">go</span>
<a id="__codelineno-0-78" name="__codelineno-0-78" href="#agent-config-__codelineno-0-78"></a><span class="w">      </span><span class="c1"># enable resolve with go</span>
<a id="__codelineno-0-79" name="__codelineno-0-79" href="#agent-config-__codelineno-0-79"></a><span class="w">      </span><span class="nt">resolve-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-80" name="__codelineno-0-80" href="#agent-config-__codelineno-0-80"></a><span class="w">    </span><span class="c1"># yarn parser options</span>
<a id="__codelineno-0-81" name="__codelineno-0-81" href="#agent-config-__codelineno-0-81"></a><span class="w">    </span><span class="nt">yarn</span><span class="p">:</span>
<a id="__codelineno-0-82" name="__codelineno-0-82" href="#agent-config-__codelineno-0-82"></a><span class="w">      </span><span class="c1"># path to yarn</span>
<a id="__codelineno-0-83" name="__codelineno-0-83" href="#agent-config-__codelineno-0-83"></a><span class="w">      </span><span class="nt">yarn-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yarn</span>
<a id="__codelineno-0-84" name="__codelineno-0-84" href="#agent-config-__codelineno-0-84"></a><span class="w">      </span><span class="c1"># enable resolve with yarn</span>
<a id="__codelineno-0-85" name="__codelineno-0-85" href="#agent-config-__codelineno-0-85"></a><span class="w">      </span><span class="nt">resolve-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-86" name="__codelineno-0-86" href="#agent-config-__codelineno-0-86"></a><span class="w">    </span><span class="c1"># scala parser options</span>
<a id="__codelineno-0-87" name="__codelineno-0-87" href="#agent-config-__codelineno-0-87"></a><span class="w">    </span><span class="nt">scala</span><span class="p">:</span>
<a id="__codelineno-0-88" name="__codelineno-0-88" href="#agent-config-__codelineno-0-88"></a><span class="w">      </span><span class="c1"># path to sbt</span>
<a id="__codelineno-0-89" name="__codelineno-0-89" href="#agent-config-__codelineno-0-89"></a><span class="w">      </span><span class="nt">sbt-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sbt</span>
<a id="__codelineno-0-90" name="__codelineno-0-90" href="#agent-config-__codelineno-0-90"></a><span class="w">      </span><span class="c1"># enable resolve with sbt</span>
<a id="__codelineno-0-91" name="__codelineno-0-91" href="#agent-config-__codelineno-0-91"></a><span class="w">      </span><span class="nt">resolve-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-92" name="__codelineno-0-92" href="#agent-config-__codelineno-0-92"></a><span class="w">    </span><span class="c1"># npm parser options</span>
<a id="__codelineno-0-93" name="__codelineno-0-93" href="#agent-config-__codelineno-0-93"></a><span class="w">    </span><span class="nt">npm</span><span class="p">:</span>
<a id="__codelineno-0-94" name="__codelineno-0-94" href="#agent-config-__codelineno-0-94"></a><span class="w">      </span><span class="c1"># path to npm</span>
<a id="__codelineno-0-95" name="__codelineno-0-95" href="#agent-config-__codelineno-0-95"></a><span class="w">      </span><span class="nt">npm-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npm</span>
<a id="__codelineno-0-96" name="__codelineno-0-96" href="#agent-config-__codelineno-0-96"></a><span class="w">      </span><span class="c1"># enable resolve with npm</span>
<a id="__codelineno-0-97" name="__codelineno-0-97" href="#agent-config-__codelineno-0-97"></a><span class="w">      </span><span class="nt">resolve-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-98" name="__codelineno-0-98" href="#agent-config-__codelineno-0-98"></a><span class="w">    </span><span class="c1"># poetry parser options</span>
<a id="__codelineno-0-99" name="__codelineno-0-99" href="#agent-config-__codelineno-0-99"></a><span class="w">    </span><span class="nt">poetry</span><span class="p">:</span>
<a id="__codelineno-0-100" name="__codelineno-0-100" href="#agent-config-__codelineno-0-100"></a><span class="w">      </span><span class="c1"># path to poetry</span>
<a id="__codelineno-0-101" name="__codelineno-0-101" href="#agent-config-__codelineno-0-101"></a><span class="w">      </span><span class="nt">poetry-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry</span>
<a id="__codelineno-0-102" name="__codelineno-0-102" href="#agent-config-__codelineno-0-102"></a><span class="w">      </span><span class="c1"># enable resolve with poetry</span>
<a id="__codelineno-0-103" name="__codelineno-0-103" href="#agent-config-__codelineno-0-103"></a><span class="w">      </span><span class="nt">resolve-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-104" name="__codelineno-0-104" href="#agent-config-__codelineno-0-104"></a><span class="w">    </span><span class="c1"># pypi parsers options</span>
<a id="__codelineno-0-105" name="__codelineno-0-105" href="#agent-config-__codelineno-0-105"></a><span class="w">    </span><span class="nt">pypi</span><span class="p">:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106" href="#agent-config-__codelineno-0-106"></a><span class="w">      </span><span class="c1"># python version</span>
<a id="__codelineno-0-107" name="__codelineno-0-107" href="#agent-config-__codelineno-0-107"></a><span class="w">      </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-108" name="__codelineno-0-108" href="#agent-config-__codelineno-0-108"></a><span class="w">    </span><span class="c1"># dotnet parser options</span>
<a id="__codelineno-0-109" name="__codelineno-0-109" href="#agent-config-__codelineno-0-109"></a><span class="w">    </span><span class="nt">dotnet</span><span class="p">:</span>
<a id="__codelineno-0-110" name="__codelineno-0-110" href="#agent-config-__codelineno-0-110"></a><span class="w">      </span><span class="c1"># path to dotnet</span>
<a id="__codelineno-0-111" name="__codelineno-0-111" href="#agent-config-__codelineno-0-111"></a><span class="w">      </span><span class="nt">dotnet-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dotnet</span>
<a id="__codelineno-0-112" name="__codelineno-0-112" href="#agent-config-__codelineno-0-112"></a><span class="w">      </span><span class="c1"># enable resolve with dotnet</span>
<a id="__codelineno-0-113" name="__codelineno-0-113" href="#agent-config-__codelineno-0-113"></a><span class="w">      </span><span class="nt">resolve-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-114" name="__codelineno-0-114" href="#agent-config-__codelineno-0-114"></a><span class="w">  </span><span class="c1"># scan archives options</span>
<a id="__codelineno-0-115" name="__codelineno-0-115" href="#agent-config-__codelineno-0-115"></a><span class="w">  </span><span class="nt">scan-archives</span><span class="p">:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116" href="#agent-config-__codelineno-0-116"></a><span class="w">    </span><span class="c1"># scan archives</span>
<a id="__codelineno-0-117" name="__codelineno-0-117" href="#agent-config-__codelineno-0-117"></a><span class="w">    </span><span class="nt">scan</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-118" name="__codelineno-0-118" href="#agent-config-__codelineno-0-118"></a><span class="w">    </span><span class="c1"># archive scanning depth</span>
<a id="__codelineno-0-119" name="__codelineno-0-119" href="#agent-config-__codelineno-0-119"></a><span class="w">    </span><span class="nt">depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-0-120" name="__codelineno-0-120" href="#agent-config-__codelineno-0-120"></a><span class="c1"># stats options</span>
<a id="__codelineno-0-121" name="__codelineno-0-121" href="#agent-config-__codelineno-0-121"></a><span class="nt">stats</span><span class="p">:</span>
<a id="__codelineno-0-122" name="__codelineno-0-122" href="#agent-config-__codelineno-0-122"></a><span class="w">  </span><span class="c1"># Report format. Supported formats: coloredtable, table, text, junit, sarif, csv. Default output to console.</span>
<a id="__codelineno-0-123" name="__codelineno-0-123" href="#agent-config-__codelineno-0-123"></a><span class="w">  </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">coloredtable,junit&gt;&gt;junit.xml</span>
<a id="__codelineno-0-124" name="__codelineno-0-124" href="#agent-config-__codelineno-0-124"></a><span class="w">  </span><span class="c1"># Group vulnerabilities by field</span>
<a id="__codelineno-0-125" name="__codelineno-0-125" href="#agent-config-__codelineno-0-125"></a><span class="w">  </span><span class="nt">group-vulnerabilities-by</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vulnerability</span>
<a id="__codelineno-0-126" name="__codelineno-0-126" href="#agent-config-__codelineno-0-126"></a><span class="w">  </span><span class="c1"># Sort vulnerabilities by fields</span>
<a id="__codelineno-0-127" name="__codelineno-0-127" href="#agent-config-__codelineno-0-127"></a><span class="w">  </span><span class="nt">sort-vulnerabilities-by</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-cvss3,-cvss2,fixedversion,vulnerability,cwes,links,affect</span>
<a id="__codelineno-0-128" name="__codelineno-0-128" href="#agent-config-__codelineno-0-128"></a><span class="c1"># cli options</span>
<a id="__codelineno-0-129" name="__codelineno-0-129" href="#agent-config-__codelineno-0-129"></a><span class="nt">cli</span><span class="p">:</span>
<a id="__codelineno-0-130" name="__codelineno-0-130" href="#agent-config-__codelineno-0-130"></a><span class="w">  </span><span class="c1"># CodeScoring server url</span>
<a id="__codelineno-0-131" name="__codelineno-0-131" href="#agent-config-__codelineno-0-131"></a><span class="w">  </span><span class="nt">api_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example_url</span>
<a id="__codelineno-0-132" name="__codelineno-0-132" href="#agent-config-__codelineno-0-132"></a><span class="w">  </span><span class="c1"># API token for integration with CodeScoring server</span>
<a id="__codelineno-0-133" name="__codelineno-0-133" href="#agent-config-__codelineno-0-133"></a><span class="w">  </span><span class="nt">api_token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example_token</span>
</code></pre></div></section><section class="print-page" id="agent-scan"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan.en">English</a></li>
</ul>
<h1 id="agent-scan-_1">Команда сканирования<a class="headerlink" href="#agent-scan-_1" title="Permanent link">&para;</a></h1>
<p>Запуск агента производится при помощи команды <code>scan</code> с тремя возможными вариантами сканирования:</p>
<ul>
<li><code>scan dir</code> – <a href="#agent-scan-dir">сканирование директории</a>;</li>
<li><code>scan file</code> – сканирование файла;</li>
<li><code>scan image</code> – <a href="#agent-scan-docker">сканирование контейнерного образа</a>;</li>
</ul>
<h2 id="agent-scan-_2">Опции запуска<a class="headerlink" href="#agent-scan-_2" title="Permanent link">&para;</a></h2>
<p>Доступные и необходимые опции запуска агента для сканирования можно посмотреть при помощи флага <code>help</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-__codelineno-0-1"></a>$ ./johnny scan --help
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-__codelineno-0-2"></a>johnny - CLI tool for dependency analysis for vulnerabilities and license compliance issues. Works in connection with CodeScoring SCA.
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-__codelineno-0-3"></a>CodeScoring website: https://codescoring.ru
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-scan-__codelineno-0-4"></a>Documentation: https://docs.codescoring.ru
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-scan-__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-scan-__codelineno-0-6"></a>Exit codes:
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-scan-__codelineno-0-7"></a>- 0: successful run, no issues
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-scan-__codelineno-0-8"></a>- 1: some issues found, action required
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-scan-__codelineno-0-9"></a>- 2: run failure
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-scan-__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-scan-__codelineno-0-11"></a>Version: 2024.26.0
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-scan-__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-scan-__codelineno-0-13"></a>Usage:
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-scan-__codelineno-0-14"></a>   scan [command]
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-scan-__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-scan-__codelineno-0-16"></a>Available Commands:
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-scan-__codelineno-0-17"></a>  dir         Scan directory
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-scan-__codelineno-0-18"></a>  file        Scan file
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-scan-__codelineno-0-19"></a>  image       Scan image
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#agent-scan-__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#agent-scan-__codelineno-0-21"></a>Flags:
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#agent-scan-__codelineno-0-22"></a>  -h, --help      help for scan
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#agent-scan-__codelineno-0-23"></a>  -v, --version   version for scan
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#agent-scan-__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#agent-scan-__codelineno-0-25"></a>Global Flags:
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#agent-scan-__codelineno-0-26"></a>      --api_token string                  API token for integration with CodeScoring server (required if api_url is set)
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#agent-scan-__codelineno-0-27"></a>      --api_url string                    CodeScoring server url (e.g. https://codescoring.mycompany.com) (required if api_token is set)
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#agent-scan-__codelineno-0-28"></a>      --block-on-empty-result             Block on empty result
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#agent-scan-__codelineno-0-29"></a>      --bom-path string                   Path for save bom file (default &quot;bom.json&quot;)
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#agent-scan-__codelineno-0-30"></a>      --conda-lock-path string            Path to conda-lock for resolve (default &quot;conda-lock&quot;)
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#agent-scan-__codelineno-0-31"></a>      --conda-resolve                     Enable resolve using conda-lock
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#agent-scan-__codelineno-0-32"></a>      --config string                     Config file (default &quot;codescoring-johnny-config.yaml&quot;)
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#agent-scan-__codelineno-0-33"></a>      --create-project                    Create project in CodeScoring if not exists
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#agent-scan-__codelineno-0-34"></a>      --debug                             Output detailed log
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#agent-scan-__codelineno-0-35"></a>      --dotnet-path string                Path to dotnet for resolve (default &quot;dotnet&quot;)
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#agent-scan-__codelineno-0-36"></a>      --dotnet-resolve                    Enable resolve using dotnet
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#agent-scan-__codelineno-0-37"></a>  -f, --format string                     Report format. Supported formats: coloredtable, table, text, junit, sarif, csv. Default output to console. Supports multiformat. Example: &#39;coloredtable,junit&gt;&gt;junit.xml&#39;  (default &quot;coloredtable&quot;)
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#agent-scan-__codelineno-0-38"></a>      --gdt-match string                  Section in gradle dependency tree for scan (default &quot;compileClasspath&quot;)
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#agent-scan-__codelineno-0-39"></a>      --go-path string                    Path to go for resolve (default &quot;go&quot;)
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#agent-scan-__codelineno-0-40"></a>      --go-resolve                        Enable resolve using go
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#agent-scan-__codelineno-0-41"></a>      --gradle-path string                Path to gradle for resolve (default &quot;./gradlew&quot;)
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#agent-scan-__codelineno-0-42"></a>      --gradle-resolve                    Enable resolve using gradle
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#agent-scan-__codelineno-0-43"></a>  -g, --group-vulnerabilities-by string   Group vulnerabilities by. Supported kinds &#39;vulnerability&#39;, &#39;affect&#39; (default &quot;vulnerability&quot;)
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#agent-scan-__codelineno-0-44"></a>      --ignore stringArray                Ignore paths (--ignore first --ignore &quot;/**/onem?re&quot;)
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#agent-scan-__codelineno-0-45"></a>      --maven-path string                 Path to mvn for resolve (default &quot;mvn&quot;)
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#agent-scan-__codelineno-0-46"></a>      --maven-resolve                     Enable resolve using mvn
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#agent-scan-__codelineno-0-47"></a>      --no-summary                        Do not print summary
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#agent-scan-__codelineno-0-48"></a>      --npm-path string                   Path to npm for resolve (default &quot;npm&quot;)
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#agent-scan-__codelineno-0-49"></a>      --npm-resolve                       Enable resolve using npm
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#agent-scan-__codelineno-0-50"></a>      --only-hashes                       Search only for direct inclusion of dependencies using file hashes
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#agent-scan-__codelineno-0-51"></a>      --poetry-path string                Path to poetry for resolve (default &quot;poetry&quot;)
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#agent-scan-__codelineno-0-52"></a>      --poetry-resolve                    Enable resolve using poetry
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#agent-scan-__codelineno-0-53"></a>      --project string                    Project name in CodeScoring
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#agent-scan-__codelineno-0-54"></a>      --python-version string             Python version
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#agent-scan-__codelineno-0-55"></a>      --save-results                      Save results to CodeScoring. Used just together with project name
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#agent-scan-__codelineno-0-56"></a>      --sbt-path string                   Path to sbt for resolve (default &quot;sbt&quot;)
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#agent-scan-__codelineno-0-57"></a>      --sbt-resolve                       Enable resolve using sbt
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#agent-scan-__codelineno-0-58"></a>      --scan-archives                     Scan archives. Supported types: &#39;.jar&#39;, &#39;.rar&#39;, &#39;.tar&#39;, &#39;.tar.bz2&#39;, &#39;.tbz2&#39;, &#39;.tar.gz&#39;, &#39;.tgz&#39;, &#39;.tar.xz&#39;, &#39;.txz&#39;, &#39;.war&#39;, &#39;.zip&#39;, &#39;.aar&#39;, &#39;.egg&#39;, &#39;.hpi&#39;, &#39;.nupkg&#39;, &#39;.whl&#39;
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#agent-scan-__codelineno-0-59"></a>      --scan-depth int                    Archive scanning depth (default 1)
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#agent-scan-__codelineno-0-60"></a>  -s, --sort-vulnerabilities-by string    Sort vulnerabilities by. Comma separated field names. For DESC - write field name with prefix &#39;-&#39;.
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#agent-scan-__codelineno-0-61"></a>                                          FieldNames: &#39;vulnerability&#39;, &#39;fixedversion&#39;, &#39;cvss2&#39;, &#39;cvss3&#39;, &#39;cwes&#39;, &#39;links&#39;, &#39;affect&#39; (default &quot;-cvss3,-cvss2,fixedversion,vulnerability,cwes,links,affect&quot;)
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#agent-scan-__codelineno-0-62"></a>      --stage string                      Policy stage (build, dev, source, stage, test, prod, proxy) (default &quot;build&quot;)
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#agent-scan-__codelineno-0-63"></a>      --swift-path string                 Path to swift for resolve (default &quot;swift&quot;)
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#agent-scan-__codelineno-0-64"></a>      --swift-resolve                     Enable resolve using swift
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#agent-scan-__codelineno-0-65"></a>  -t, --timeout uint16                    Timeout of analysis results waiting in seconds (default 3600)
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#agent-scan-__codelineno-0-66"></a>      --with-hashes                       Search for direct inclusion of dependencies using file hashes
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#agent-scan-__codelineno-0-67"></a>      --yarn-path string                  Path to yarn for resolve (default &quot;yarn&quot;)
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#agent-scan-__codelineno-0-68"></a>      --yarn-resolve                      Enable resolve using yarn
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#agent-scan-__codelineno-0-69"></a>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#agent-scan-__codelineno-0-70"></a>Use &quot; scan [command] --help&quot; for more information about a command.
</code></pre></div>
<p>В параметре <code>--api_url</code> должен быть указан полный адрес on-premise инсталляции. Значение для <code>--api_token</code> можно взять в профиле пользователя инсталляции.</p>
<p>Указание параметра <code>--project</code> позволит при сканировании применить политики, относящиеся к выбранному проекту.</p>
<p>Для указания пути к файлу сохранения SBOM необходимо добавить параметр <code>--bom-path</code> в запрос или назначить переменную <code>bom-path</code> в config-файле. По умолчанию SBOM сохраняется в директории запуска в файл <code>bom.json</code>.</p></section><section class="print-page" id="agent-scan-dir"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-dir.en">English</a></li>
</ul>
<h1 id="agent-scan-dir-directory-scan">Directory scan<a class="headerlink" href="#agent-scan-dir-directory-scan" title="Permanent link">&para;</a></h1>
<h4 id="agent-scan-dir-this-page-has-not-been-translated-for-now">This page has not been translated for now<a class="headerlink" href="#agent-scan-dir-this-page-has-not-been-translated-for-now" title="Permanent link">&para;</a></h4></section><section class="print-page" id="agent-scan-archive"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-archive.en">English</a></li>
</ul>
<h1 id="agent-scan-archive-_1">Сканирование архивов<a class="headerlink" href="#agent-scan-archive-_1" title="Permanent link">&para;</a></h1>
<p>Для сканирования архивов на предмет наличия манифестов используется флаг <code>--scan-archives</code>.</p>
<p>По умолчанию сканирование архивов работает только на один уровень вложенности. Для указания глубины сканирования необходимо добавить в команду параметр <code>--scan-depth</code> или указать в config-файле переменную <code>depth</code> в секции <code>scan-archives</code>.</p>
<p>Пример команды для сканирования архивов:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-archive-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-archive-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-archive-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-scan-archive-__codelineno-0-4"></a>--ignore<span class="w"> </span>.tmp<span class="w"> </span>--ignore<span class="w"> </span>fixtures<span class="w"> </span>--ignore<span class="w"> </span>.git<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-scan-archive-__codelineno-0-5"></a>--scan-archives<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-scan-archive-__codelineno-0-6"></a>--scan-depth<span class="w"> </span><span class="m">2</span>
</code></pre></div>
<p>Поддерживаемые форматы архивов:</p>
<ul>
<li><code>.jar</code></li>
<li><code>.rar</code></li>
<li><code>.tar</code></li>
<li><code>.tar.bz2</code></li>
<li><code>.tbz2</code></li>
<li><code>.tar.gz</code></li>
<li><code>.tgz</code></li>
<li><code>.tar.xz</code></li>
<li><code>.txz</code></li>
<li><code>.war</code></li>
<li><code>.zip</code></li>
<li><code>.aar</code></li>
<li><code>.egg</code></li>
<li><code>.hpi</code></li>
<li><code>.nupkg</code></li>
<li><code>.whl</code></li>
</ul></section><section class="print-page" id="agent-scan-docker"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-docker.en">English</a></li>
</ul>
<h1 id="agent-scan-docker-docker">Сканирование Docker образов<a class="headerlink" href="#agent-scan-docker-docker" title="Permanent link">&para;</a></h1>
<p>Агент поддерживает функциональность сканирования образов в стандартах OCI и Docker и может быть запущен одним из перечисленных способов с указанием:</p>
<ul>
<li>
<p>пути до <strong>tar</strong>-архива созданного с использованием <strong>docker save</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-docker-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>image<span class="w"> </span>./my_own.tar<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-docker-__codelineno-0-2"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-docker-__codelineno-0-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>названия образа находящегося в демоне <strong>Docker</strong>, <strong>Podman</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-scan-docker-__codelineno-1-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>image<span class="w"> </span>docker:python:3.9<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#agent-scan-docker-__codelineno-1-2"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#agent-scan-docker-__codelineno-1-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>названия образа из публичного <strong>Docker HUB</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-scan-docker-__codelineno-2-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>image<span class="w"> </span>python:3.9<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#agent-scan-docker-__codelineno-2-2"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#agent-scan-docker-__codelineno-2-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span>
</code></pre></div>
</li>
<li>
<p>названия образа из приватного <strong>registry</strong>:</p>
<p>Перед работой с приватным репозиторием нужно выполнить команду <code>docker login</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-scan-docker-__codelineno-3-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>image<span class="w"> </span>pvt_registry/johnny-depp:&lt;version&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#agent-scan-docker-__codelineno-3-2"></a><span class="w"> </span>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#agent-scan-docker-__codelineno-3-3"></a><span class="w"> </span>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span>
</code></pre></div></p>
</li>
</ul>
<p>Альтернативно можно авторизоваться в приватном registry с помощью переменных окружения:</p>
<ul>
<li><code>JOHNNY_REGISTRY_AUTH_AUTHORITY</code> - URL на registry (к примеру "docker.io", "localhost:5000" и т.д.);</li>
<li><code>JOHNNY_REGISTRY_AUTH_LOGIN</code> - логин;</li>
<li><code>JOHNNY_REGISTRY_AUTH_PASSWORD</code> - пароль;</li>
<li><code>JOHNNY_REGISTRY_AUTH_TOKEN</code> - токен;</li>
</ul>
<p>или через аналогичные переменные в config-файле:</p>
<ul>
<li><code>authority</code>;</li>
<li><code>login</code>;</li>
<li><code>password</code>;</li>
<li><code>token</code>.</li>
</ul>
<p><strong>Примечание</strong>: токен и логин с паролем взаимозаменяемы.</p>
<p>Для выполнения сканирования файлов внутри образа необходимо добавить в команду параметр <code>--scan-files</code> или указать в config-файле переменную <code>scan-files</code> в секции <code>image</code>.</p></section><section class="print-page" id="agent-launch-docker"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-launch-docker.en">English</a></li>
</ul>
<h1 id="agent-launch-docker-docker">Запуск с помощью Docker<a class="headerlink" href="#agent-launch-docker-docker" title="Permanent link">&para;</a></h1>
<p>Для работы запуска через Docker в данный момент нужна активная <a href="#on-premise-installation">авторизация в registry с образами системы</a>.</p>
<p>Пример вызова на текущей директории:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-launch-docker-__codelineno-0-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-launch-docker-__codelineno-0-2"></a><span class="w">    </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/code<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-launch-docker-__codelineno-0-3"></a><span class="w">    </span>-a<span class="w"> </span>stdout<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-launch-docker-__codelineno-0-4"></a><span class="w">    </span>&lt;registry-address&gt;/johnny-depp:&lt;version&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-launch-docker-__codelineno-0-5"></a><span class="w">    </span>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-launch-docker-__codelineno-0-6"></a><span class="w">    </span>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-launch-docker-__codelineno-0-7"></a><span class="w">    </span>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-launch-docker-__codelineno-0-8"></a><span class="w">    </span>--ignore<span class="w"> </span>.tmp<span class="w"> </span>--ignore<span class="w"> </span>fixtures<span class="w"> </span>--ignore<span class="w"> </span>.git<span class="w"> </span>
</code></pre></div>
<p>Параметр <code>-a stdout</code> необходим для корректного отображения таблиц <strong>Vulnerabilties</strong> и <strong>Policy Alerts</strong> при запуска агента через Docker.</p></section><section class="print-page" id="agent-gitlab-ci"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-gitlab-ci.en">English</a></li>
</ul>
<h1 id="agent-gitlab-ci-gitlab-ci">Добавление в Gitlab CI<a class="headerlink" href="#agent-gitlab-ci-gitlab-ci" title="Permanent link">&para;</a></h1>
<p>Консольный агент поддерживает добавление в Gitlab CI с помощью файла <code>.gitlab-ci.yaml</code> и поставляется как в виде docker-образа, так и в виде бинарного файла.</p>
<h3 id="agent-gitlab-ci-docker-johnny">Docker-образ Johnny<a class="headerlink" href="#agent-gitlab-ci-docker-johnny" title="Permanent link">&para;</a></h3>
<p>Пример содержания файла <code>.gitlab-ci.yaml</code> при использовании docker-образа консольного агента:</p>
<p><code>&lt;version&gt;</code> необходимо заменить на версию агента. Список актуальных версий с описанием доступен <a href="#changelog-johnny">здесь</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-gitlab-ci-__codelineno-0-1"></a><span class="nt">stages</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-gitlab-ci-__codelineno-0-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-gitlab-ci-__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-gitlab-ci-__codelineno-0-4"></a><span class="nt">sca</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-gitlab-ci-__codelineno-0-5"></a><span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-gitlab-ci-__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-gitlab-ci-__codelineno-0-7"></a><span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-gitlab-ci-__codelineno-0-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker pull &lt;registry-address&gt;/johnny-depp:&lt;version&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-gitlab-ci-__codelineno-0-9"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-gitlab-ci-__codelineno-0-10"></a><span class="w">      </span><span class="no">docker run -v $(pwd):/code </span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-gitlab-ci-__codelineno-0-11"></a><span class="w">      </span><span class="no">&lt;registry-address&gt;/johnny-depp </span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-gitlab-ci-__codelineno-0-12"></a><span class="w">      </span><span class="no">--api_token $CODESCORING_API_TOKEN</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-gitlab-ci-__codelineno-0-13"></a><span class="w">      </span><span class="no">--api_url $CODESCORING_API_URL </span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-gitlab-ci-__codelineno-0-14"></a><span class="w">      </span><span class="no">--ignore .git </span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-gitlab-ci-__codelineno-0-15"></a><span class="w">      </span><span class="no">--ignore fixtures </span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-gitlab-ci-__codelineno-0-16"></a><span class="w">      </span><span class="no">--ignore parsers</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-gitlab-ci-__codelineno-0-17"></a><span class="w">      </span><span class="no">.</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-gitlab-ci-__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-gitlab-ci-__codelineno-0-19"></a><span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#agent-gitlab-ci-__codelineno-0-20"></a><span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#agent-gitlab-ci-__codelineno-0-21"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bom.json</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#agent-gitlab-ci-__codelineno-0-22"></a><span class="w">    </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#agent-gitlab-ci-__codelineno-0-23"></a><span class="w">    </span><span class="nt">expire_in</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1 week</span>
</code></pre></div>
<h3 id="agent-gitlab-ci-johnny">Бинарный файл Johnny<a class="headerlink" href="#agent-gitlab-ci-johnny" title="Permanent link">&para;</a></h3>
<p>Для использования бинарного файла консольного агента, необходимо предварительно выполнить следующие действия на машине gitlab-runner'а:</p>
<ol>
<li>Скачать файл командой
  <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-gitlab-ci-__codelineno-1-1"></a>wget<span class="w"> </span>-O<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@registry-one.codescoring.ru/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
  или
  <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-gitlab-ci-__codelineno-2-1"></a>curl<span class="w"> </span>-o<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@registry-one.codescoring.ru/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
  <code>JOHNNY_VERSION</code> необходимо заменить на версию агента. Список актуальных версий с описанием доступен <a href="#changelog-johnny">здесь</a>. <code>REGISTRY_USERNAME</code> и <code>REGISTRY_PASSWORD</code> необходимо заменить на логин и пароль, полученные от вендора.</li>
<li>Разрешить исполнение файла
  <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-gitlab-ci-__codelineno-3-1"></a>chmod<span class="w"> </span>+x<span class="w"> </span>/usr/local/bin/johnny
</code></pre></div></li>
</ol>
<p>Пример вызова бинарного файла агента в <code>.gitlab-ci.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#agent-gitlab-ci-__codelineno-4-1"></a><span class="nt">stages</span><span class="p">:</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#agent-gitlab-ci-__codelineno-4-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#agent-gitlab-ci-__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#agent-gitlab-ci-__codelineno-4-4"></a><span class="nt">sca</span><span class="p">:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#agent-gitlab-ci-__codelineno-4-5"></a><span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#agent-gitlab-ci-__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#agent-gitlab-ci-__codelineno-4-7"></a><span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#agent-gitlab-ci-__codelineno-4-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#agent-gitlab-ci-__codelineno-4-9"></a><span class="w">      </span><span class="no">johnny</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#agent-gitlab-ci-__codelineno-4-10"></a><span class="w">      </span><span class="no">scan dir</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#agent-gitlab-ci-__codelineno-4-11"></a><span class="w">      </span><span class="no">--api_token $JOHNNY_API_TOKEN</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#agent-gitlab-ci-__codelineno-4-12"></a><span class="w">      </span><span class="no">--api_url $JOHNNY_API_URL</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#agent-gitlab-ci-__codelineno-4-13"></a><span class="w">      </span><span class="no">--ignore .git</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#agent-gitlab-ci-__codelineno-4-14"></a><span class="w">      </span><span class="no">--ignore fixtures</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#agent-gitlab-ci-__codelineno-4-15"></a><span class="w">      </span><span class="no">--ignore parsers</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#agent-gitlab-ci-__codelineno-4-16"></a><span class="w">      </span><span class="no">.</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#agent-gitlab-ci-__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#agent-gitlab-ci-__codelineno-4-18"></a><span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#agent-gitlab-ci-__codelineno-4-19"></a><span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#agent-gitlab-ci-__codelineno-4-20"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bom.json</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#agent-gitlab-ci-__codelineno-4-21"></a><span class="w">    </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#agent-gitlab-ci-__codelineno-4-22"></a><span class="w">    </span><span class="nt">expire_in</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1 week</span>
</code></pre></div></section><section class="print-page" id="agent-jenkins-pipeline"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-jenkins-pipeline.en">English</a></li>
</ul>
<h1 id="agent-jenkins-pipeline-jenkins">Добавление в Jenkins<a class="headerlink" href="#agent-jenkins-pipeline-jenkins" title="Permanent link">&para;</a></h1>
<p>Консольный агент поддерживает добавление в Jenkins двумя способами: через <code>Jenkinsfile</code> и специализированный плагин.</p>
<h2 id="agent-jenkins-pipeline-jenkinsfile">Добавление агента в Jenkinsfile<a class="headerlink" href="#agent-jenkins-pipeline-jenkinsfile" title="Permanent link">&para;</a></h2>
<h3 id="agent-jenkins-pipeline-docker-">Использование Docker-образа<a class="headerlink" href="#agent-jenkins-pipeline-docker-" title="Permanent link">&para;</a></h3>
<p>Пример добавления агента в <code>pipeline</code> с использованием docker-образа:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-jenkins-pipeline-__codelineno-0-1"></a><span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-jenkins-pipeline-__codelineno-0-2"></a><span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-jenkins-pipeline-__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-jenkins-pipeline-__codelineno-0-4"></a><span class="w">  </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-jenkins-pipeline-__codelineno-0-5"></a><span class="w">    </span><span class="n">CODESCORING_REGISTRY_URL</span><span class="o">=</span><span class="s1">&#39;registry-one.codescoring.ru&#39;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-jenkins-pipeline-__codelineno-0-6"></a><span class="w">    </span><span class="n">CODESCORING_AGENT_IMAGE</span><span class="o">=</span><span class="s1">&#39;registry-one.codescoring.ru/johnny-depp:&lt;version&gt;&#39;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-jenkins-pipeline-__codelineno-0-7"></a><span class="w">    </span><span class="n">CODESCORING_REGISTRY_CREDENTIALS</span><span class="o">=</span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;cs-registry-creds&#39;</span><span class="o">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-jenkins-pipeline-__codelineno-0-8"></a><span class="w">    </span><span class="n">CODESCORING_API_URL</span><span class="o">=</span><span class="s1">&#39;https://localhost:8080&#39;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-jenkins-pipeline-__codelineno-0-9"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-jenkins-pipeline-__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-jenkins-pipeline-__codelineno-0-11"></a><span class="w">  </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-jenkins-pipeline-__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-jenkins-pipeline-__codelineno-0-13"></a><span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s2">&quot;Login to Codescoring docker registry&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-jenkins-pipeline-__codelineno-0-14"></a><span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-jenkins-pipeline-__codelineno-0-15"></a><span class="w">        </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-jenkins-pipeline-__codelineno-0-16"></a><span class="s2">        docker login -u &quot;$CODESCORING_REGISTRY_CREDENTIALS_USR&quot; &quot;$CODESCORING_REGISTRY_URL&quot; -p &quot;$CODESCORING_REGISTRY_CREDENTIALS_PSW&quot;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-jenkins-pipeline-__codelineno-0-17"></a><span class="s2">          &quot;&quot;&quot;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-jenkins-pipeline-__codelineno-0-18"></a><span class="w">      </span><span class="o">}</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-jenkins-pipeline-__codelineno-0-19"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#agent-jenkins-pipeline-__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#agent-jenkins-pipeline-__codelineno-0-21"></a><span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Run CodeScoring Agent&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#agent-jenkins-pipeline-__codelineno-0-22"></a><span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#agent-jenkins-pipeline-__codelineno-0-23"></a><span class="w">        </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#agent-jenkins-pipeline-__codelineno-0-24"></a><span class="s2">        docker run -v \$(pwd):/code --rm ${CODESCORING_AGENT_IMAGE} --api_token ${CODESCORING_API_TOKEN} --api_url ${CODESCORING_API_URL} --ignore .tmp --ignore fixtures --ignore .git .</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#agent-jenkins-pipeline-__codelineno-0-25"></a><span class="s2">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#agent-jenkins-pipeline-__codelineno-0-26"></a><span class="w">      </span><span class="o">}</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#agent-jenkins-pipeline-__codelineno-0-27"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#agent-jenkins-pipeline-__codelineno-0-28"></a><span class="w">  </span><span class="o">}</span><span class="w"> </span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#agent-jenkins-pipeline-__codelineno-0-29"></a><span class="o">}</span>
</code></pre></div>
<h3 id="agent-jenkins-pipeline-_1">Использование бинарного файла<a class="headerlink" href="#agent-jenkins-pipeline-_1" title="Permanent link">&para;</a></h3>
<p>Для использования бинарного файла консольного агента, необходимо предварительно выполнить следующие действия на машине с Jenkins:</p>
<ol>
<li>
<p>Скачать файл командой</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-jenkins-pipeline-__codelineno-1-1"></a>wget<span class="w"> </span>-O<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@registry-one.codescoring.ru/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
<p>или</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-jenkins-pipeline-__codelineno-2-1"></a>curl<span class="w"> </span>-o<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@registry-one.codescoring.ru/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
<p>Переменную <code>JOHNNY_VERSION</code> необходимо заменить на версию агента. Список актуальных версий доступен <a href="#changelog-johnny">в разделе Changelog</a>. </p>
<p>Переменные <code>REGISTRY_USERNAME</code> и <code>REGISTRY_PASSWORD</code> необходимо заменить на логин и пароль, полученные от вендора.</p>
</li>
<li>
<p>Разрешить исполнение файла</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-jenkins-pipeline-__codelineno-3-1"></a><span class="w">  </span>chmod<span class="w"> </span>+x<span class="w"> </span>/usr/local/bin/johnny
</code></pre></div>
<p>Пример вызова бинарного файла агента в <code>pipeline</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#agent-jenkins-pipeline-__codelineno-4-1"></a><span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#agent-jenkins-pipeline-__codelineno-4-2"></a><span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#agent-jenkins-pipeline-__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#agent-jenkins-pipeline-__codelineno-4-4"></a><span class="w">  </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#agent-jenkins-pipeline-__codelineno-4-5"></a><span class="w">    </span><span class="n">CODESCORING_API_URL</span><span class="o">=</span><span class="s1">&#39;http://localhost:8001&#39;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#agent-jenkins-pipeline-__codelineno-4-6"></a><span class="w">    </span><span class="n">CODESCORING_API_TOKEN</span><span class="o">=</span><span class="s1">&#39;API_TOKEN&#39;</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#agent-jenkins-pipeline-__codelineno-4-7"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#agent-jenkins-pipeline-__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#agent-jenkins-pipeline-__codelineno-4-9"></a><span class="w">  </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#agent-jenkins-pipeline-__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#agent-jenkins-pipeline-__codelineno-4-11"></a><span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Run CodeScoring Agent&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#agent-jenkins-pipeline-__codelineno-4-12"></a><span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#agent-jenkins-pipeline-__codelineno-4-13"></a><span class="w">        </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#agent-jenkins-pipeline-__codelineno-4-14"></a><span class="s2">        johnny scan dir --api_token ${CODESCORING_API_TOKEN} --api_url ${CODESCORING_API_URL} --ignore .tmp --ignore fixtures --ignore .git .</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#agent-jenkins-pipeline-__codelineno-4-15"></a><span class="s2">        &quot;&quot;&quot;</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#agent-jenkins-pipeline-__codelineno-4-16"></a><span class="w">      </span><span class="o">}</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#agent-jenkins-pipeline-__codelineno-4-17"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#agent-jenkins-pipeline-__codelineno-4-18"></a><span class="w">  </span><span class="o">}</span><span class="w"> </span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#agent-jenkins-pipeline-__codelineno-4-19"></a><span class="o">}</span>
</code></pre></div>
<h2 id="agent-jenkins-pipeline-jenkins-plugin">Настройка Jenkins Plugin<a class="headerlink" href="#agent-jenkins-pipeline-jenkins-plugin" title="Permanent link">&para;</a></h2>
<p>Плагин с консольным агентом поставляется вендором в виде отдельного файла. Для его активации нужно выполнить следующие шаги в Jenkins:</p>
<ol>
<li>Перейти в раздел <code>Настроить Jenkins -&gt; Plugins -&gt; Advanced settings</code> и добавить полученный от вендора файл.
  <img alt="Add plugin" src="/assets/img/jenkins/add-plugin.png" /></li>
<li>Перезапустить Jenkins</li>
<li>Проверить активное состояние плагина в списке <code>Installed plugins</code>
  <img alt="Check plugin" src="/assets/img/jenkins/check-plugin.png" /></li>
<li>Перейти в раздел <code>Настроить Jenkins -&gt; Tools -&gt; Установки Johnny</code> и задать название установки и местонахождение бинарного файла с консольным агентом.
  <img alt="Configure johnny path" src="/assets/img/jenkins/johnny-path.png" /></li>
<li>
<p>Перейти в настройки нужной сборки и добавить шаг сборки <strong>CodeScoring SCA</strong>, задав следующие параметры:</p>
<ul>
<li><strong>API URL</strong> – ссылка на инсталляцию CodeScoring (с протоколом);</li>
<li><strong>API token</strong> – токен для авторизации;</li>
<li><strong>Johnnys installation name</strong> – название установки Johhny (так, как оно указано в разделе Tools);</li>
<li><strong>Scan command</strong> – выбор для команды для сканирования всей директории, отдельного файла или контейнерного образа;</li>
<li><strong>File or directory name to scan</strong> – название пути или директории для анализа. <strong>Важно</strong>: указывается не полный путь, а только требуемая директория. Например: <strong>source-code-from-git</strong>;</li>
<li><strong>Do not go recursive through all subdirectories</strong> – выключение рекурсивного скана для команды сканирования директории;</li>
<li><strong>Policy stage</strong> – этап разработки, для которого действует политика безопасности. Возможные значения: <code>build</code>, <code>dev</code>, <code>source</code>, <code>stage</code>, <code>test</code>, <code>prod</code>, <code>proxy</code>;</li>
<li><strong>Create project</strong> – cоздание CLI проекта на инсталляции CodeScoring с результатами сканирования;</li>
<li><strong>Export to file</strong> – экспорт в CSV-файл для сохранения результатов сканирования;</li>
<li><strong>Ignore paths</strong> – директории, которые будут игнорироваться при сканировании;</li>
<li><strong>failBuild</strong> – блокировка сборки при несоответствии политикам безопасности;</li>
<li><strong>Timeout</strong> – ограничение по времени ожидания анализа (в секундах);</li>
<li><strong>Output detailed log</strong> – вывод подробного лога вызова команды.</li>
</ul>
</li>
</ol>
<p><img alt="Configure johnny" src="/assets/img/jenkins/configure-johnny.png" /></p></section><section class="print-page" id="agent-save-results"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-save-results.en">English</a></li>
</ul>
<h1 id="agent-save-results-_1">Сохранение результатов сканирования<a class="headerlink" href="#agent-save-results-_1" title="Permanent link">&para;</a></h1>
<p>Для сохранения результатов сканирования в on-premise инсталляции необходимо добавить в команду параметры <code>--save-results</code> и <code>--project</code> или указать в config-файле следующие переменные:</p>
<ul>
<li><code>project</code> — имя CLI-проекта в системе, в который будут сохраняться результаты; </li>
<li><code>save-results</code> — флаг сохранения результатов, по умолчанию стоит значение <strong>false</strong>.</li>
</ul>
<p>Если CLI-проект не создан в системе заранее, можно указать в команде вызова или в config-файле параметр <code>--create-project</code>.</p>
<p>Пример команды сохранения результатов сканирования в новый проект:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-save-results-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-save-results-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-save-results-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-save-results-__codelineno-0-4"></a>--save-results<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-save-results-__codelineno-0-5"></a>--create-project<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-save-results-__codelineno-0-6"></a>--project<span class="w"> </span><span class="s2">&quot;project-name&quot;</span>
</code></pre></div></section><section class="print-page" id="agent-resolve"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-resolve.en">English</a></li>
</ul>
<h1 id="agent-resolve-_1">Разрешение зависимостей в окружении сборки<a class="headerlink" href="#agent-resolve-_1" title="Permanent link">&para;</a></h1>
<p>Пакетные менеджеры некоторых экосистем по умолчанию не включают транзитивные зависимости в манифесты. Для качественного проведения композиционного анализа при работе с ними рекомендуется применять механизм разрешения зависимостей в окружении сборки.</p>
<p>При разрешении зависимостей в окружении агент проверяет отсутствие lock-файла, самостоятельно запускает пакетный менеджер или инструмент сборки и формирует полный список компонентов с учетом корректной версии сборки. На данный момент функциональность доступна для следующих экосистем:</p>
<ul>
<li>.NET</li>
<li>Go</li>
<li>Gradle</li>
<li>Maven</li>
<li>npm</li>
<li>Poetry</li>
<li>sbt</li>
<li>yarn</li>
</ul>
<p>Параметры разрешения зависимостей в окружении и пути к пакетному менеджеру регулируются следующими флагами в команде <code>scan</code>:</p>
<ul>
<li><code>--dotnet-resolve</code> / <code>--dotnet-path</code></li>
<li><code>--go-resolve</code> / <code>--go-path</code></li>
<li><code>--gradle-resolve</code> / <code>--gradle-path</code></li>
<li><code>--maven-resolve</code> / <code>--maven-path</code></li>
<li><code>--npm-resolve</code> / <code>--npm-path</code></li>
<li><code>--poetry-resolve</code> / <code>--poetry-path</code></li>
<li><code>--sbt-resolve</code> / <code>--sbt-path</code></li>
<li><code>--yarn-resolve</code> / <code>--yarn-path</code></li>
</ul>
<p>Пример команды:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-resolve-__codelineno-0-1"></a>./johnny<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-resolve-__codelineno-0-2"></a>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-resolve-__codelineno-0-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-resolve-__codelineno-0-4"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-resolve-__codelineno-0-5"></a>--dotnet-resolve<span class="w"> </span><span class="nb">true</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-resolve-__codelineno-0-6"></a>--dotnet-path<span class="w"> </span>&lt;path/to/dotnet&gt;
</code></pre></div>
<p>При необходимости перечисленные параметры можно добавить в <a href="#agent-config">конфигурационный файл агента</a>.</p>
<h2 id="agent-resolve-java">Работа с Java<a class="headerlink" href="#agent-resolve-java" title="Permanent link">&para;</a></h2>
<p>При работе с Java альтернативно можно создать дополнительные артефакты, содержащие полную структуру зависимостей проекта.</p>
<p>Команда для <strong>Apache Maven</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-resolve-__codelineno-1-1"></a>mvn dependency:tree -DoutputFile=maven-dependency-tree.txt
</code></pre></div>
<p>Команда для <strong>Gradle</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-resolve-__codelineno-2-1"></a>./gradlew dependencies &gt; gradle-dependency-tree.txt
</code></pre></div>
<p>После создания артефактов необходимо применить команду <code>scan file</code> для полученного артефакта, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-resolve-__codelineno-3-1"></a>./johnny<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#agent-resolve-__codelineno-3-2"></a>scan<span class="w"> </span>file<span class="w"> </span>./maven-dependency-tree.txt<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#agent-resolve-__codelineno-3-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#agent-resolve-__codelineno-3-4"></a>--api_url<span class="w"> </span>&lt;api_url&gt;
</code></pre></div></section><h1 class='nav-section-title-end'>Ended: Работа с консольным агентом</h1></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2018 - <script>document.write(new Date().getFullYear())</script> Profiscope
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "/", "features": ["navigation.tracking", "navigation.indexes", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>